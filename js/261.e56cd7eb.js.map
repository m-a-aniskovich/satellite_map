{"version":3,"file":"js/261.e56cd7eb.js","mappings":"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","sources":["webpack://SatVis/./src/App.vue","webpack://SatVis/./src/App.vue?9d78","webpack://SatVis/./src/components/Satvis.vue","webpack://SatVis/./src/stores/cesium.js","webpack://SatVis/./src/stores/sat.js","webpack://SatVis/./src/components/SatelliteSelect.vue","webpack://SatVis/./src/components/SatelliteSelect.vue?44fd","webpack://SatVis/./src/modules/util/DeviceDetect.js","webpack://SatVis/./src/components/Satvis.vue?c47a","webpack://SatVis/./src/components/Router.js","webpack://SatVis/./src/modules/util/pinia-plugin-url-sync.ts","webpack://SatVis/./src/modules/util/CesiumPerformanceStats.js","webpack://SatVis/./src/modules/Orbit.js","webpack://SatVis/./src/modules/util/PushManager.js","webpack://SatVis/./src/modules/util/CesiumSampledPositionRawValueAccess.js","webpack://SatVis/./src/modules/util/CesiumCallbackHelper.js","webpack://SatVis/./src/modules/SatelliteProperties.js","webpack://SatVis/./src/modules/util/CesiumComponentCollection.js","webpack://SatVis/./src/modules/util/CesiumTimelineHelper.js","webpack://SatVis/./src/modules/util/DescriptionHelper.js","webpack://SatVis/./src/modules/SatelliteComponentCollection.js","webpack://SatVis/./src/modules/GroundStationEntity.js","webpack://SatVis/./src/modules/util/CesiumCleanupHelper.js","webpack://SatVis/./src/modules/SatelliteManager.js","webpack://SatVis/./src/modules/CesiumController.js","webpack://SatVis/./src/app.js","webpack://SatVis/./src/css/infobox.ecss"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport \"@cesium/widgets/Source/widgets.css\";\nimport \"./css/main.css\";\n\nexport default {\n};\n</script>\n","import { render } from \"./App.vue?vue&type=template&id=6a189f7d\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"cesium\">\n    <div v-show=\"showUI\" id=\"toolbarLeft\">\n      <div class=\"toolbarButtons\">\n        <o-tooltip label=\"Satellite selection\" :triggers=\"tooltipTriggers\" position=\"right\">\n          <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleMenu('cat')\">\n            <i class=\"icon svg-sat\"></i>\n          </button>\n        </o-tooltip>\n        <o-tooltip label=\"Satellite elements\" :triggers=\"tooltipTriggers\" position=\"right\">\n          <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleMenu('sat')\">\n            <font-awesome-icon icon=\"fas fa-layer-group\" />\n          </button>\n        </o-tooltip>\n        <o-tooltip label=\"Ground station\" :triggers=\"tooltipTriggers\" position=\"right\">\n          <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleMenu('gs')\">\n            <i class=\"icon svg-groundstation\"></i>\n          </button>\n        </o-tooltip>\n        <o-tooltip label=\"Map\" :triggers=\"tooltipTriggers\" position=\"right\">\n          <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleMenu('map')\">\n            <font-awesome-icon icon=\"fas fa-globe-africa\" />\n          </button>\n        </o-tooltip>\n        <o-tooltip v-if=\"cc.minimalUI\" label=\"Mobile\" :triggers=\"tooltipTriggers\" position=\"right\">\n          <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleMenu('ios')\">\n            <font-awesome-icon icon=\"fas fa-mobile-alt\" />\n          </button>\n        </o-tooltip>\n        <o-tooltip label=\"Debug\" :triggers=\"tooltipTriggers\" position=\"right\">\n          <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleMenu('dbg')\">\n            <font-awesome-icon icon=\"fas fa-hammer\" />\n          </button>\n        </o-tooltip>\n      </div>\n      <div v-show=\"menu.cat\" class=\"toolbarSwitches\">\n        <satellite-select />\n      </div>\n      <div v-show=\"menu.sat\" class=\"toolbarSwitches\">\n        <div class=\"toolbarTitle\">\n          Satellite elements\n        </div>\n        <label v-for=\"componentName in cc.sats.availableComponents\" :key=\"componentName\" class=\"toolbarSwitch\">\n          <input v-model=\"enabledComponents\" type=\"checkbox\" :value=\"componentName\">\n          <span class=\"slider\"></span>\n          {{ componentName }}\n        </label>\n        <!--\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.viewer.trackedEntity = undefined\">\n          Untrack Entity\n        </label>\n        -->\n      </div>\n      <div v-show=\"menu.gs\" class=\"toolbarSwitches\">\n        <div class=\"toolbarTitle\">\n          Ground station\n        </div>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"pickMode\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          Pick on globe\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.setGroundStationFromGeolocation()\">\n          Set from geolocation\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.sats.focusGroundStation()\">\n          Focus\n        </label>\n      </div>\n      <div v-show=\"menu.map\" class=\"toolbarSwitches\">\n        <div class=\"toolbarTitle\">\n          Layers\n        </div>\n        <label v-for=\"name in cc.imageryProviderNames\" :key=\"name\" class=\"toolbarSwitch\">\n          <input v-model=\"layers\" type=\"checkbox\" :value=\"name\">\n          <span class=\"slider\"></span>\n          {{ name }}\n        </label>\n        <div class=\"toolbarTitle\">\n          Terrain\n        </div>\n        <label v-for=\"name in cc.terrainProviders\" :key=\"name\" class=\"toolbarSwitch\">\n          <input v-model=\"terrainProvider\" type=\"radio\" :value=\"name\">\n          <span class=\"slider\"></span>\n          {{ name }}\n        </label>\n        <div class=\"toolbarTitle\">\n          View\n        </div>\n        <label v-for=\"name in cc.sceneModes\" :key=\"name\" class=\"toolbarSwitch\">\n          <input v-model=\"sceneMode\" type=\"radio\" :value=\"name\">\n          <span class=\"slider\"></span>\n          {{ name }}\n        </label>\n        <div class=\"toolbarTitle\">\n          Camera\n        </div>\n        <label v-for=\"name in cc.cameraModes\" :key=\"name\" class=\"toolbarSwitch\">\n          <input v-model=\"cameraMode\" type=\"radio\" :value=\"name\">\n          <span class=\"slider\"></span>\n          {{ name }}\n        </label>\n      </div>\n      <div v-show=\"menu.ios\" class=\"toolbarSwitches\">\n        <div class=\"toolbarTitle\">\n          Mobile\n        </div>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.scene.useWebVR\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          VR\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.clock.shouldAnimate\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          Play\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.viewer.clockViewModel.multiplier *= 2\">\n          Increase play speed\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.viewer.clockViewModel.multiplier /= 2\">\n          Decrease play speed\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"$router.go({path: '', force: true})\">\n          Reload\n        </label>\n      </div>\n      <div v-show=\"menu.dbg\" class=\"toolbarSwitches\">\n        <div class=\"toolbarTitle\">\n          Debug\n        </div>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"showFps\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          FPS\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.scene.requestRenderMode\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          RequestRender\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"qualityPreset\" true-value=\"high\" false-value=\"low\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          High Quality\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.scene.fog.enabled\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          Fog\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.scene.globe.enableLighting\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          Lighting\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.scene.highDynamicRange\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          HDR\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input v-model=\"cc.viewer.scene.globe.showGroundAtmosphere\" type=\"checkbox\">\n          <span class=\"slider\"></span>\n          Atmosphere\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.jumpTo('Everest')\">\n          Jump to Everest\n        </label>\n        <label class=\"toolbarSwitch\">\n          <input type=\"button\" @click=\"cc.jumpTo('HalfDome')\">\n          Jump to HalfDome\n        </label>\n      </div>\n    </div>\n    <div id=\"toolbarRight\">\n      <o-tooltip v-if=\"showUI\" label=\"Github\" :triggers=\"tooltipTriggers\" position=\"left\">\n        <a class=\"cesium-button cesium-toolbar-button\" href=\"https://github.com/Flowm/satvis/\" target=\"_blank\" rel=\"noopener\">\n          <font-awesome-icon icon=\"fab fa-github\" />\n        </a>\n      </o-tooltip>\n      <o-tooltip label=\"Toggle UI\" :triggers=\"tooltipTriggers\" position=\"left\">\n        <button type=\"button\" class=\"cesium-button cesium-toolbar-button\" @click=\"toggleUI\">\n          <font-awesome-icon icon=\"fas fa-eye\" />\n        </button>\n      </o-tooltip>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapWritableState } from \"pinia\";\nimport { useCesiumStore } from \"../stores/cesium\";\nimport { useSatStore } from \"../stores/sat\";\n\nimport SatelliteSelect from \"./SatelliteSelect.vue\";\nimport { DeviceDetect } from \"../modules/util/DeviceDetect\";\n\nexport default {\n  components: {\n    \"satellite-select\": SatelliteSelect,\n  },\n  data() {\n    return {\n      menu: {\n        cat: false,\n        sat: false,\n        gs: false,\n        map: false,\n        ios: false,\n        dbg: false,\n      },\n      showUI: true,\n      tooltipTriggers: DeviceDetect.canHover() ? [\"hover\"] : [\"contextmenu\"],\n    };\n  },\n  computed: {\n    ...mapWritableState(useCesiumStore, [\n      \"layers\",\n      \"terrainProvider\",\n      \"sceneMode\",\n      \"cameraMode\",\n      \"qualityPreset\",\n      \"showFps\",\n      \"background\",\n      \"pickMode\",\n    ]),\n    ...mapWritableState(useSatStore, [\n      \"enabledComponents\",\n      \"groundstation\",\n    ]),\n  },\n  watch: {\n    layers: {\n      handler(newLayers, oldLayers) {\n        // Ensure only a single base layer is active\n        const newBaseLayers = newLayers.filter((layer) => cc.baseLayers.includes(layer));\n        if (newBaseLayers.length > 1) {\n          const oldBaseLayers = oldLayers.filter((layer) => cc.baseLayers.includes(layer));\n          this.layers = newBaseLayers.filter((layer) => !oldBaseLayers.includes(layer));\n          return;\n        }\n        cc.imageryLayers = newLayers;\n      },\n      deep: true,\n    },\n    terrainProvider(newProvider) {\n      cc.terrainProvider = newProvider;\n    },\n    sceneMode(newMode) {\n      cc.sceneMode = newMode;\n    },\n    cameraMode(newMode) {\n      cc.cameraMode = newMode;\n    },\n    qualityPreset(value) {\n      cc.qualityPreset = value;\n    },\n    showFps(value) {\n      cc.showFps = value;\n    },\n    background(value) {\n      cc.background = value;\n    },\n    enabledComponents: {\n      handler(newComponents) {\n        cc.sats.enabledComponents = newComponents;\n      },\n      deep: true,\n    },\n    groundstation(newPosition, oldPosition) {\n      // Ignore if new and old positions are identical\n      if (oldPosition && oldPosition[0] === newPosition[0] && oldPosition[1] === newPosition[1]) {\n        return;\n      }\n      cc.setGroundStationFromLatLon(...newPosition);\n    },\n  },\n  mounted() {\n    if (this.$route.query.time) {\n      cc.setTime(this.$route.query.time);\n    }\n    this.showUI = !DeviceDetect.inIframe();\n  },\n  methods: {\n    toggleMenu(name) {\n      const oldState = this.menu[name];\n      Object.keys(this.menu).forEach((k) => {\n        this.menu[k] = false;\n      });\n      this.menu[name] = !oldState;\n    },\n    toggleUI() {\n      this.showUI = !this.showUI;\n      if (!cc.minimalUI) {\n        cc.showUI = this.showUI;\n      }\n    },\n  },\n};\n</script>\n","import { defineStore } from \"pinia\";\n\nexport const useCesiumStore = defineStore(\"cesium\", {\n  state: () => ({\n    layers: [\"OfflineHighres\"],\n    terrainProvider: \"None\",\n    sceneMode: \"3D\",\n    cameraMode: \"Fixed\",\n    qualityPreset: \"high\",\n    background: true,\n    showFps: false,\n    pickMode: false,\n  }),\n  urlsync: {\n    enabled: true,\n    config: [{\n      name: \"layers\",\n      url: \"layers\",\n      serialize: (v) => v.join(\",\"),\n      deserialize: (v) => v.split(\",\").filter((e) => e),\n      default: [\"OfflineHighres\"],\n    }, {\n      name: \"terrainProvider\",\n      url: \"terrain\",\n      default: \"None\",\n    }, {\n      name: \"sceneMode\",\n      url: \"scene\",\n      default: \"3D\",\n    }, {\n      name: \"cameraMode\",\n      url: \"camera\",\n      default: \"Fixed\",\n    }, {\n      name: \"qualityPreset\",\n      url: \"quality\",\n      default: \"high\",\n    }, {\n      name: \"showFps\",\n      url: \"fps\",\n      default: \"false\",\n    }, {\n      name: \"background\",\n      url: \"bg\",\n      serialize: (v) => `${v}`,\n      deserialize: (v) => v === \"true\",\n      default: \"true\",\n    }],\n  },\n});\n","import { defineStore } from \"pinia\";\n\nexport const useSatStore = defineStore(\"sat\", {\n  state: () => ({\n    enabledComponents: [\"Point\", \"Label\"],\n    availableSatellitesByTag: [],\n    availableTags: [],\n    enabledSatellites: [],\n    enabledTags: [],\n    groundstation: [],\n    trackedSatellite: \"\",\n  }),\n  urlsync: {\n    enabled: true,\n    config: [{\n      name: \"enabledComponents\",\n      url: \"elements\",\n      serialize: (v) => v.join(\",\").replaceAll(\" \", \"-\"),\n      deserialize: (v) => v.replaceAll(\"-\", \" \").split(\",\").filter((e) => e),\n      default: [\"Point\", \"Label\"],\n    }, {\n      name: \"enabledSatellites\",\n      url: \"sats\",\n      serialize: (v) => v.join(\",\").replaceAll(\" \", \"~\"),\n      deserialize: (v) => v.replaceAll(\"~\", \" \").split(\",\").filter((e) => e),\n      default: [],\n    }, {\n      name: \"enabledTags\",\n      url: \"tags\",\n      serialize: (v) => v.join(\",\").replaceAll(\" \", \"-\"),\n      deserialize: (v) => v.replaceAll(\"-\", \" \").split(\",\").filter((e) => e),\n      default: [],\n    }, {\n      name: \"groundstation\",\n      url: \"gs\",\n      serialize: (v) => v.map((c) => c.toFixed(4)).join(\",\"),\n      deserialize: (v) => v.split(\",\").map((c) => parseFloat(c, 10)),\n      default: [],\n    }, {\n      name: \"trackedSatellite\",\n      url: \"track\",\n      default: \"\",\n    }],\n  },\n});\n","<template>\n  <div class=\"satellite-select\">\n    <div class=\"toolbarTitle\">\n      Enabled satellite groups\n    </div>\n    <div class=\"toolbarContent\">\n      <vue-multiselect\n        v-model=\"enabledTags\"\n        :options=\"availableTags\"\n        :multiple=\"true\"\n        :searchable=\"false\"\n        placeholder=\"0 satellite groups selected\"\n      />\n    </div>\n    <div class=\"toolbarTitle\">\n      Enabled satellites\n    </div>\n    <div class=\"toolbarContent\">\n      <vue-multiselect\n        v-model=\"allEnabledSatellites\"\n        :options=\"availableSatellites\"\n        :multiple=\"true\"\n        group-values=\"sats\"\n        group-label=\"tag\"\n        :group-select=\"true\"\n        placeholder=\"Type to search\"\n        :close-on-select=\"false\"\n        :limit=\"0\"\n        :limit-text=\"count => `${count} satellite${ count > 1 ? 's' : '' } selected`\"\n        :options-limit=\"100000\"\n      >\n        <template #noResult>\n          No matching satellites\n        </template>\n      </vue-multiselect>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueMultiselect from \"vue-multiselect\";\nimport { mapWritableState } from \"pinia\";\n\nimport { useSatStore } from \"../stores/sat\";\n\nexport default {\n  components: {\n    VueMultiselect,\n  },\n  data() {\n    return {\n    };\n  },\n  computed: {\n    ...mapWritableState(useSatStore, [\n      \"availableSatellitesByTag\",\n      \"availableTags\",\n      \"enabledSatellites\",\n      \"enabledTags\",\n      \"trackedSatellite\",\n    ]),\n    availableSatellites() {\n      let satlist = Object.keys(this.availableSatellitesByTag).map((tag) => ({\n        tag,\n        sats: this.availableSatellitesByTag[tag],\n      }));\n      if (satlist.length === 0) {\n        satlist = [];\n      }\n      return satlist;\n    },\n    satellitesEnabledByTag() {\n      return this.getSatellitesFromTags(this.enabledTags);\n    },\n    allEnabledSatellites: {\n      get() {\n        return this.satellitesEnabledByTag.concat(this.enabledSatellites ?? []);\n      },\n      set(sats) {\n        const enabledTags = this.availableTags.filter((tag) => !this.availableSatellitesByTag[tag].some((sat) => !sats.includes(sat)));\n        const satellitesInEnabledTags = this.getSatellitesFromTags(enabledTags);\n        const enabledSatellites = sats.filter((sat) => !satellitesInEnabledTags.includes(sat));\n        cc.sats.enabledSatellites = enabledSatellites;\n        cc.sats.enabledTags = enabledTags;\n      },\n    },\n  },\n  watch: {\n    enabledSatellites(sats) {\n      cc.sats.enabledSatellites = sats;\n    },\n    enabledTags(tags) {\n      cc.sats.enabledTags = tags;\n    },\n    trackedSatellite(satellite) {\n      cc.sats.trackedSatellite = satellite;\n    },\n  },\n  methods: {\n    getSatellitesFromTags(taglist) {\n      return taglist.map((tag) => this.availableSatellitesByTag[tag] || []).flat();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.satellite-select {\n  width: 300px;\n}\n</style>\n\n<style>\n@import \"vue-multiselect/dist/vue-multiselect.css\";\n\n.multiselect__single {\n  display: none;\n}\n</style>\n","import { render } from \"./SatelliteSelect.vue?vue&type=template&id=498b01ad&scoped=true\"\nimport script from \"./SatelliteSelect.vue?vue&type=script&lang=js\"\nexport * from \"./SatelliteSelect.vue?vue&type=script&lang=js\"\n\nimport \"./SatelliteSelect.vue?vue&type=style&index=0&id=498b01ad&scoped=true&lang=css\"\nimport \"./SatelliteSelect.vue?vue&type=style&index=1&id=498b01ad&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-498b01ad\"]])\n\nexport default __exports__","export class DeviceDetect {\n  static inIframe() {\n    try {\n      return window.self !== window.top;\n    } catch (e) {\n      return true;\n    }\n  }\n\n  static hasTouch() {\n    return window.matchMedia(\"(pointer: coarse)\").matches;\n  }\n\n  static canHover() {\n    return !window.matchMedia(\"(hover: none)\").matches;\n  }\n\n  static isIos() {\n    const userAgent = window.navigator.userAgent.toLowerCase();\n    return /iphone|ipad|ipod/.test(userAgent);\n  }\n\n  static isSafari() {\n    const userAgent = window.navigator.userAgent.toLowerCase();\n    return /safari/.test(userAgent);\n  }\n\n  static isInStandaloneMode() {\n    return (\"standalone\" in window.navigator) && (window.navigator.standalone);\n  }\n\n  static isiPhoneWithNotch() {\n    return this.isIos() && /iPhone X/.test(this.getiPhoneModel());\n  }\n\n  static isiPhoneWithNotchVisible() {\n    return this.isiPhoneWithNotch() && (this.isInStandaloneMode() || !this.isSafari());\n  }\n\n  static getiPhoneModel() {\n    // Detect iPhone model\n    // Based on: https://51degrees.com/blog/website-optimisation-for-apple-devices-ipad-and-iphone\n    const ratio = window.devicePixelRatio;\n    if (window.screen.height / window.screen.width === 896 / 414) {\n      switch (ratio) {\n        case 2:\n          return \"iPhone XR\";\n        case 3:\n          return \"iPhone XS Max\";\n        default:\n          return \"iPhone XR, iPhone XS Max\";\n      }\n    } else if (window.screen.height / window.screen.width === 812 / 375) {\n      return \"iPhone X, iPhone XS\";\n    } else if (window.screen.height / window.screen.width === 736 / 414) {\n      return \"iPhone 6 Plus, 6s Plus, 7 Plus or 8 Plus\";\n    } else if (window.screen.height / window.screen.width === 667 / 375) {\n      if (ratio === 2) {\n        return \"iPhone 6, 6s, 7 or 8\";\n      }\n      return \"iPhone 6 Plus, 6s Plus , 7 Plus or 8 Plus (display zoom)\";\n    } else if (window.screen.height / window.screen.width === 1.775) {\n      return \"iPhone 5, 5C, 5S, SE or 6, 6s, 7 and 8 (display zoom)\";\n    } else if ((window.screen.height / window.screen.width === 1.5) && (ratio === 2)) {\n      return \"iPhone 4 or 4s\";\n    } else if ((window.screen.height / window.screen.width === 1.5) && (ratio === 1)) {\n      return \"iPhone 1, 3G or 3GS\";\n    } else {\n      return \"Not an iPhone\";\n    }\n  }\n}\n","import { render } from \"./Satvis.vue?vue&type=template&id=4e138f49\"\nimport script from \"./Satvis.vue?vue&type=script&lang=js\"\nexport * from \"./Satvis.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\n\nimport Satvis from \"./Satvis.vue\";\n\nexport default createRouter({\n  history: createWebHistory(document.location.pathname.match(\".*/\")[0]),\n  routes: [\n    { path: \"/\", component: Satvis },\n    { path: \"/move.html\", component: Satvis },\n    { path: \"/ot.html\", component: Satvis },\n  ],\n});\n","import { PiniaPluginContext } from \"pinia\";\n\nexport interface SyncConfigEntry {\n  name: String;           // Object name/path in pinia store\n  url?: String;           // Alternative name of url param, defaults to name\n  serialize?: Function;   // Convert state to url string\n  deserialize?: Function; // Convert url string to state\n  valid?: Function;       // Run validation function after deserialization to filter invalid values\n  default?: Any;          // Default value (removes this value from url)\n}\nconst defaultSerialize = (v) => String(v);\nconst defaultDeserialize = (v) => String(v);\n\nfunction resolve(path, obj, separator = \".\") {\n  const properties = Array.isArray(path) ? path : path.split(separator);\n  return properties.reduce((prev, curr) => prev && prev[curr], obj);\n}\n\nfunction urlToState(store: Store, syncConfig: SyncConfigEntry[]): void {\n  const { router, customConfig } = store;\n  const route = router.currentRoute.value;\n  store.defaults = {};\n\n  // Override store default values with custom app config\n  if (customConfig[store.$id]) {\n    Object.entries(customConfig[store.$id]).forEach(([key, val]) => {\n      store[key] = val;\n    });\n  };\n\n  syncConfig.forEach((config: SyncConfigEntry) => {\n    const param = config.url || config.name;\n    const deserialize = config.deserialize || defaultDeserialize;\n\n    // Save default value of merged app config\n    store.defaults[config.name] = store[config.name];\n\n    const query = { ...route.query };\n    if (!(param in query)) {\n      return;\n    }\n    try {\n      console.info(\"Parse url param\", param, route.query[param]);\n      const value = deserialize(query[param]);\n      if (\"valid\" in config && !config.valid(value)) {\n        throw new TypeError(\"Validation failed\");\n      }\n      // TODO: Resolve nested values\n      store[config.name] = value;\n    } catch (error) {\n      console.error(`Invalid url param ${param} ${route.query[param]}: ${error}`);\n      query[param] = undefined;\n      router.replace({ query });\n    }\n  });\n}\n\nfunction stateToUrl(store: Store, syncConfig: SyncConfigEntry[]): void {\n  const { router } = store;\n  const route = router.currentRoute.value;\n\n  const params = new URLSearchParams(location.search);\n  syncConfig.forEach((config: SyncConfigEntry) => {\n    const value = resolve(config.name, store);\n    const param = config.url || config.name;\n    const serialize = config.serialize || defaultSerialize;\n    console.info(\"State update\", config.name, value);\n\n    if (config.name in store.defaults && serialize(store.defaults[config.name]) === serialize(value)) {\n      params.delete(param);\n    } else {\n      params.set(param, serialize(value));\n    }\n  });\n  window.history.pushState({}, \"\", `?${params.toString().replaceAll(\"%2C\", \",\")}`);\n}\n\nfunction createUrlSync({ options, store }: PiniaPluginContext): void {\n  // console.info(\"createUrlSync\", options);\n  if (!options.urlsync?.enabled && !options.urlsync?.config) {\n    return;\n  }\n\n  // Set state from url params on page load\n  store.router.isReady().then(() => {\n    urlToState(store, options.urlsync.config);\n  });\n\n  // Subscribe to store updates and sync them to url params\n  store.$subscribe(() => {\n    stateToUrl(store, options.urlsync.config);\n  });\n}\n\nexport default createUrlSync;\n","import { getTimestamp } from \"cesium\";\n\n// A Cesium Performance Monitor that logs avarage and worst performance over a sample period\nexport class CesiumPerformanceStats {\n  constructor(scene, logContinuously = false) {\n    this.scene = scene;\n    this.sampleCount = 60;\n    this.idx = 0;\n    this.postRenderTimes = [];\n    this.discardNext = true;\n\n    this.avgFps = 0;\n    this.avgFrameTime = 0;\n    this.worstFrameTime = 0;\n\n    // Disable requestRenderMode to caclulate time betweeen consecutive postRender events\n    // This is required as many updates happen during clock onTick events before scene.preUpdate is called\n    this.scene.requestRenderMode = false;\n\n    this.scene.preUpdate.addEventListener(() => {\n      performance.mark(\"preUpdate\");\n    });\n\n    this.scene.postRender.addEventListener(() => {\n      performance.mark(\"postRender\");\n      this.postRenderTimes[this.idx] = getTimestamp();\n      this.idx = (this.idx + 1) % this.sampleCount;\n      if (this.idx === 0) {\n        if (this.discardNext) {\n          this.discardNext = false;\n        } else {\n          this.calculateStats();\n          if (logContinuously) {\n            console.log(this.formatStats());\n          }\n        }\n      }\n      performance.measure(\"SceneRender\", \"preUpdate\", \"postRender\");\n    });\n  }\n\n  calculateStats() {\n    this.worstFrameTime = 0;\n    for (let i = 0; i < this.sampleCount - 1; i += 1) {\n      const frametime = this.postRenderTimes[i + 1] - this.postRenderTimes[i];\n      if (frametime > this.worstFrameTime) {\n        this.worstFrameTime = frametime;\n      }\n    }\n    const duration = this.postRenderTimes[this.sampleCount - 1] - this.postRenderTimes[0];\n    this.avgFps = this.sampleCount / (duration / 1000);\n    this.avgFrameTime = duration / this.sampleCount;\n  }\n\n  reset(discardNext = true) {\n    this.idx = 0;\n    this.discardNext = discardNext;\n    this.avgFps = 0;\n    this.avgFrameTime = 0;\n    this.worstFrameTime = 0;\n  }\n\n  getStats() {\n    return {\n      avgFps: this.avgFps,\n      avgFrameTime: this.avgFrameTime,\n      worstFrameTime: this.worstFrameTime,\n    };\n  }\n\n  formatStats() {\n    const fmt = (n) => n.toFixed(2).padStart(8);\n    return `Avg FPS: ${fmt(this.avgFps)}; Avg Frametime: ${fmt(this.avgFrameTime)}; Worst Frametime: ${fmt(this.worstFrameTime)};`;\n  }\n}\n","import * as satellitejs from \"satellite.js\";\nimport dayjs from \"dayjs\";\n\nconst deg2rad = Math.PI / 180;\nconst rad2deg = 180 / Math.PI;\n\nexport default class Orbit {\n  constructor(name, tle) {\n    this.name = name;\n    this.tle = tle.split(\"\\n\");\n    this.satrec = satellitejs.twoline2satrec(this.tle[1], this.tle[2]);\n  }\n\n  get satnum() {\n    return this.satrec.satnum;\n  }\n\n  get error() {\n    return this.satrec.error;\n  }\n\n  get orbitalPeriod() {\n    const meanMotionRad = this.satrec.no;\n    const period = (2 * Math.PI) / meanMotionRad;\n    return period;\n  }\n\n  positionECI(time) {\n    return satellitejs.propagate(this.satrec, time).position;\n  }\n\n  positionECF(time) {\n    const positionEci = this.positionECI(time);\n    const gmst = satellitejs.gstime(time);\n    const positionEcf = satellitejs.eciToEcf(positionEci, gmst);\n    return positionEcf;\n  }\n\n  positionGeodetic(timestamp, calculateVelocity = false) {\n    const { position: positionEci, velocity: velocityVector } = satellitejs.propagate(this.satrec, timestamp);\n    const gmst = satellitejs.gstime(timestamp);\n    const positionGd = satellitejs.eciToGeodetic(positionEci, gmst);\n\n    return {\n      longitude: positionGd.longitude * rad2deg,\n      latitude: positionGd.latitude * rad2deg,\n      height: positionGd.height * 1000,\n      ...(calculateVelocity && {\n        velocity: Math.sqrt(velocityVector.x * velocityVector.x +\n          velocityVector.y * velocityVector.y +\n          velocityVector.z * velocityVector.z),\n      }),\n    };\n  }\n\n  computePassesElevation(\n    groundStationPosition,\n    startDate = dayjs().toDate(),\n    endDate = dayjs(startDate).add(7, \"day\").toDate(),\n    minElevation = 10,\n    maxPasses = 50,\n  ) {\n    const groundStation = { ...groundStationPosition };\n    groundStation.latitude *= deg2rad;\n    groundStation.longitude *= deg2rad;\n    groundStation.height /= 1000;\n\n    const date = new Date(startDate);\n    const passes = [];\n    let pass = false;\n    let ongoingPass = false;\n    let lastElevation = 0;\n    while (date < endDate) {\n      const positionEcf = this.positionECF(date);\n      const lookAngles = satellitejs.ecfToLookAngles(groundStation, positionEcf);\n      const elevation = lookAngles.elevation / deg2rad;\n\n      if (elevation > minElevation) {\n        if (!ongoingPass) {\n          // Start of new pass\n          pass = {\n            name: this.name,\n            start: date.getTime(),\n            azimuthStart: lookAngles.azimuth,\n            maxElevation: elevation,\n            azimuthApex: lookAngles.azimuth,\n          };\n          ongoingPass = true;\n        } else if (elevation > pass.maxElevation) {\n          // Ongoing pass\n          pass.maxElevation = elevation;\n          pass.apex = date.getTime();\n          pass.azimuthApex = lookAngles.azimuth;\n        }\n        date.setSeconds(date.getSeconds() + 5);\n      } else if (ongoingPass) {\n        // End of pass\n        pass.end = date.getTime();\n        pass.duration = pass.end - pass.start;\n        pass.azimuthEnd = lookAngles.azimuth;\n        pass.azimuthStart /= deg2rad;\n        pass.azimuthApex /= deg2rad;\n        pass.azimuthEnd /= deg2rad;\n        passes.push(pass);\n        if (passes.length > maxPasses) {\n          break;\n        }\n        ongoingPass = false;\n        lastElevation = -180;\n        date.setMinutes(date.getMinutes() + this.orbitalPeriod * 0.5);\n      } else {\n        const deltaElevation = elevation - lastElevation;\n        lastElevation = elevation;\n        if (deltaElevation < 0) {\n          date.setMinutes(date.getMinutes() + this.orbitalPeriod * 0.5);\n          lastElevation = -180;\n        } else if (elevation < -20) {\n          date.setMinutes(date.getMinutes() + 5);\n        } else if (elevation < -5) {\n          date.setMinutes(date.getMinutes() + 1);\n        } else if (elevation < -1) {\n          date.setSeconds(date.getSeconds() + 5);\n        } else {\n          date.setSeconds(date.getSeconds() + 2);\n        }\n      }\n    }\n    return passes;\n  }\n}\n","import dayjs from \"dayjs\";\n\nexport class PushManager {\n  constructor(options = {}) {\n    this.options = options;\n    this.timers = [];\n  }\n\n  get available() {\n    if (\"webkit\" in window) {\n      return true;\n    }\n    if (!(\"Notification\" in window) || !(\"ServiceWorkerRegistration\" in window)) {\n      console.log(\"Notification API not supported!\");\n      return false;\n    }\n    switch (Notification.permission) {\n      case \"granted\":\n        return true;\n      case \"default\":\n        this.requestPermission();\n        return true;\n      case \"denied\":\n        return false;\n      default:\n        return false;\n    }\n  }\n\n  requestPermission() {\n    Notification.requestPermission((result) => {\n      console.log(`Notifcation permission result: ${result}`);\n    });\n  }\n\n  get active() {\n    return this.timers.length > 0;\n  }\n\n  clearTimers() {\n    this.timers.forEach((timer) => {\n      clearTimeout(timer.id);\n    });\n    this.timers = [];\n  }\n\n  persistentNotification(message, options) {\n    if (!this.available) {\n      return;\n    }\n    const optionsMerged = { ...this.options, ...options };\n    try {\n      navigator.serviceWorker.getRegistration()\n        .then((reg) => reg.showNotification(message, optionsMerged))\n        .catch((err) => console.log(`Service Worker registration error: ${err}`));\n    } catch (err) {\n      console.log(`Notification API error: ${err}`);\n    }\n  }\n\n  notifyInMs(ms, message, options) {\n    if (!this.available) {\n      return;\n    }\n    console.log(`Notify \"${message}\" in ${ms / 1000}s`);\n    setTimeout(() => { this.persistentNotification(message, options); }, ms);\n  }\n\n  notifyAtDate(date, message, options) {\n    if (!this.available) {\n      return;\n    }\n    const waitMs = dayjs(date).diff(dayjs());\n    if (waitMs < 0) {\n      return;\n    }\n    if (this.timers.some((timer) => Math.abs(timer.date.diff(date, \"seconds\")) < 10)) {\n      console.log(\"Ignore duplicate entry\");\n      return;\n    }\n    console.log(`Notify \"${message}\" at ${date}s ${dayjs(date).unix()}`);\n\n    if (\"webkit\" in window) {\n      const content = {\n        date: dayjs(date).unix(),\n        delay: waitMs / 1000,\n        message,\n      };\n      window.webkit.messageHandlers.iosNotify.postMessage(content);\n    } else {\n      const id = setTimeout(() => { this.persistentNotification(message, options); }, waitMs);\n      this.timers.push({\n        id,\n        date,\n        message,\n      });\n    }\n  }\n}\n","import { SampledPositionProperty, binarySearch, JulianDate } from \"cesium\";\n/* eslint-disable func-names, no-underscore-dangle, no-bitwise */\n\n/**\n * Gets the original values stored in the sampled property for the provided timeframe.\n *\n * @param {JulianDate} start The start time for which to retrieve the values.\n * @param {JulianDate} end The end time for which to retrieve the values.\n * @returns {object} An array of all values within the provided timeframe.\n */\nSampledPositionProperty.prototype.getRawValues = function (start, end) {\n  const times = this._property._times;\n  if (times.length === 0) {\n    return [];\n  }\n  const innerType = this._property._innerType;\n  const values = this._property._values;\n\n  let startIndex = binarySearch(times, start, JulianDate.compare);\n  let endIndex = binarySearch(times, end, JulianDate.compare);\n  if (startIndex < 0) {\n    startIndex = ~startIndex;\n  }\n  if (endIndex < 0) {\n    endIndex = ~endIndex;\n  }\n  const result = [];\n  for (let i = startIndex; i < endIndex; i += 1) {\n    result.push(innerType.unpack(values, i * innerType.packedLength));\n  }\n  return result;\n};\n\n/**\n * Gets the number of samples stored in the sampled property.\n *\n * @returns {number} The number of samples stored in the sampled property.\n */\nSampledPositionProperty.prototype.length = function () {\n  return this._property._times.length;\n};\n","import * as Cesium from \"cesium\";\n\nexport class CesiumCallbackHelper {\n  /**\n   * Register an event listener that will execute a callback every refreshRate ticks of clock time.\n   * @param {Cesium.Viewer} viewer - Cesium viewer\n   * @param {Function} callback - function to execute\n   * @param {Number} refreshRate - in ticks\n   * @param {Cesium.Event} event - event to listen to (e.g. viewer.clock.onTick)\n   * @returns {Function} - function to remove the event listener\n   */\n  static createPeriodicTickCallback(viewer, refreshRate, callback, event = viewer.clock.onTick) {\n    let ticks = 0;\n    return event.addEventListener(() => {\n      if (ticks < refreshRate) {\n        ticks += 1;\n        return;\n      }\n      callback(viewer.clock.currentTime);\n      ticks = 0;\n    });\n  }\n\n  /**\n   * Register an event listener that will execute a callback every refreshRate seconds of clock time.\n   * @param {Cesium.Viewer} viewer - Cesium viewer\n   * @param {Function} callback - function to execute\n   * @param {Number} refreshRate - in seconds\n   * @param {Cesium.Event} event - event to listen to (e.g. viewer.clock.onTick)\n   * @returns {Function} - function to remove the event listener\n   */\n  static createPeriodicTimeCallback(viewer, refreshRate, callback, event = viewer.clock.onTick) {\n    let lastUpdated = viewer.clock.currentTime;\n    return event.addEventListener(() => {\n      const time = viewer.clock.currentTime;\n      const delta = Math.abs(Cesium.JulianDate.secondsDifference(time, lastUpdated));\n      if (delta < refreshRate) {\n        return;\n      }\n      callback(time);\n      lastUpdated = time;\n    });\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\nimport dayjs from \"dayjs\";\nimport { useToast } from \"vue-toastification\";\n\nimport Orbit from \"./Orbit\";\nimport { PushManager } from \"./util/PushManager\";\nimport \"./util/CesiumSampledPositionRawValueAccess\";\n\nimport satvisIcon from \"../assets/android-chrome-192x192.png\";\nimport { CesiumCallbackHelper } from \"./util/CesiumCallbackHelper\";\n\nexport class SatelliteProperties {\n  constructor(tle, tags = []) {\n    this.name = tle.split(\"\\n\")[0].trim();\n    if (tle.startsWith(\"0 \")) {\n      this.name = this.name.substring(2);\n    }\n    this.orbit = new Orbit(this.name, tle);\n    this.satnum = this.orbit.satnum;\n    this.tags = tags;\n\n    this.groundStationPosition = undefined;\n    this.passes = [];\n    this.passInterval = undefined;\n    this.passIntervals = new Cesium.TimeIntervalCollection();\n    this.pm = new PushManager({\n      icon: satvisIcon,\n    });\n  }\n\n  hasTag(tag) {\n    return this.tags.includes(tag);\n  }\n\n  addTags(tags) {\n    this.tags = [...new Set(this.tags.concat(tags))];\n  }\n\n  position(time) {\n    return this.sampledPosition.fixed.getValue(time);\n  }\n\n  getSampledInertialPositionsForNextOrbit(start) {\n    const end = Cesium.JulianDate.addSeconds(start, this.orbit.orbitalPeriod * 60, new Cesium.JulianDate());\n    const positions = this.sampledPosition.inertial.getRawValues(start, end);\n    // Readd the first position to the end of the array to close the loop\n    return [...positions, positions[0]];\n  }\n\n  createSampledPosition(viewer, callback) {\n    this.updateSampledPosition(viewer.clock.currentTime);\n    callback(this.sampledPosition);\n\n    const samplingRefreshRate = (this.orbit.orbitalPeriod * 60) / 4;\n    const removeCallback = CesiumCallbackHelper.createPeriodicTimeCallback(viewer, samplingRefreshRate, (time) => {\n      this.updateSampledPosition(time);\n      callback(this.sampledPosition);\n    });\n    return () => {\n      removeCallback();\n      this.sampledPosition = undefined;\n    };\n  }\n\n  updateSampledPosition(time) {\n    // Determine sampling interval based on sampled positions per orbit and orbital period\n    // 120 samples per orbit seems to be a good compromise between performance and accuracy\n    const samplingPointsPerOrbit = 120;\n    const orbitalPeriod = this.orbit.orbitalPeriod * 60;\n    const samplingInterval = orbitalPeriod / samplingPointsPerOrbit;\n    // console.log(\"updateSampledPosition\", this.name, this.orbit.orbitalPeriod, samplingInterval.toFixed(2));\n\n    // Always keep half an orbit backwards and 1.5 full orbits forward in the sampled position\n    const request = new Cesium.TimeInterval({\n      start: Cesium.JulianDate.addSeconds(time, -orbitalPeriod / 2, new Cesium.JulianDate()),\n      stop: Cesium.JulianDate.addSeconds(time, orbitalPeriod * 1.5, new Cesium.JulianDate()),\n    });\n\n    // (Re)create sampled position if it does not exist or if it does not contain the current time\n    if (!this.sampledPosition || !Cesium.TimeInterval.contains(this.sampledPosition.interval, time)) {\n      this.initSampledPosition(request.start);\n    }\n\n    // Determine which parts of the requested interval are missing\n    const intersect = Cesium.TimeInterval.intersect(this.sampledPosition.interval, request);\n    const missingSecondsEnd = Cesium.JulianDate.secondsDifference(request.stop, intersect.stop);\n    const missingSecondsStart = Cesium.JulianDate.secondsDifference(intersect.start, request.start);\n    // console.log(`updateSampledPosition ${this.name}`,\n    //   `Missing ${missingSecondsStart.toFixed(2)}s ${missingSecondsEnd.toFixed(2)}s`,\n    //   `Request ${Cesium.TimeInterval.toIso8601(request, 0)}`,\n    //   `Current ${Cesium.TimeInterval.toIso8601(this.sampledPosition.interval, 0)}`,\n    //   `Intersect ${Cesium.TimeInterval.toIso8601(intersect, 0)}`,\n    // );\n\n    if (missingSecondsStart > 0) {\n      const samplingStart = Cesium.JulianDate.addSeconds(intersect.start, -missingSecondsStart, new Cesium.JulianDate());\n      const samplingStop = this.sampledPosition.interval.start;\n      this.addSamples(samplingStart, samplingStop, samplingInterval);\n    }\n    if (missingSecondsEnd > 0) {\n      const samplingStart = this.sampledPosition.interval.stop;\n      const samplingStop = Cesium.JulianDate.addSeconds(intersect.stop, missingSecondsEnd, new Cesium.JulianDate());\n      this.addSamples(samplingStart, samplingStop, samplingInterval);\n    }\n\n    // Remove no longer needed samples\n    const removeBefore = new Cesium.TimeInterval({\n      start: Cesium.JulianDate.fromIso8601(\"1957\"),\n      stop: request.start,\n      isStartIncluded: false,\n      isStopIncluded: false,\n    });\n    const removeAfter = new Cesium.TimeInterval({\n      start: request.stop,\n      stop: Cesium.JulianDate.fromIso8601(\"2100\"),\n      isStartIncluded: false,\n      isStopIncluded: false,\n    });\n    this.sampledPosition.fixed.removeSamples(removeBefore);\n    this.sampledPosition.inertial.removeSamples(removeBefore);\n    this.sampledPosition.fixed.removeSamples(removeAfter);\n    this.sampledPosition.inertial.removeSamples(removeAfter);\n\n    this.sampledPosition.interval = request;\n  }\n\n  initSampledPosition(currentTime) {\n    this.sampledPosition = {};\n    this.sampledPosition.interval = new Cesium.TimeInterval({\n      start: currentTime,\n      stop: currentTime,\n      isStartIncluded: false,\n      isStopIncluded: false,\n    });\n    this.sampledPosition.fixed = new Cesium.SampledPositionProperty();\n    this.sampledPosition.fixed.backwardExtrapolationType = Cesium.ExtrapolationType.HOLD;\n    this.sampledPosition.fixed.forwardExtrapolationType = Cesium.ExtrapolationType.HOLD;\n    this.sampledPosition.fixed.setInterpolationOptions({\n      interpolationDegree: 5,\n      interpolationAlgorithm: Cesium.LagrangePolynomialApproximation,\n    });\n    this.sampledPosition.inertial = new Cesium.SampledPositionProperty(Cesium.ReferenceFrame.INERTIAL);\n    this.sampledPosition.inertial.backwardExtrapolationType = Cesium.ExtrapolationType.HOLD;\n    this.sampledPosition.inertial.forwardExtrapolationType = Cesium.ExtrapolationType.HOLD;\n    this.sampledPosition.inertial.setInterpolationOptions({\n      interpolationDegree: 5,\n      interpolationAlgorithm: Cesium.LagrangePolynomialApproximation,\n    });\n    this.sampledPosition.valid = true;\n  }\n\n  addSamples(start, stop, samplingInterval) {\n    const times = [];\n    const positionsFixed = [];\n    const positionsInertial = [];\n    for (let time = start; Cesium.JulianDate.compare(stop, time) >= 0; time = Cesium.JulianDate.addSeconds(time, samplingInterval, new Cesium.JulianDate())) {\n      const { positionFixed, positionInertial } = this.computePosition(time);\n      times.push(time);\n      positionsFixed.push(positionFixed);\n      positionsInertial.push(positionInertial);\n    }\n    // Add all samples at once as adding a sorted array avoids searching for the correct position every time\n    this.sampledPosition.fixed.addSamples(times, positionsFixed);\n    this.sampledPosition.inertial.addSamples(times, positionsInertial);\n  }\n\n  computePositionInertialTEME(time) {\n    const eci = this.orbit.positionECI(Cesium.JulianDate.toDate(time));\n    if (this.orbit.error) {\n      this.sampledPosition.valid = false;\n      return Cesium.Cartesian3.ZERO;\n    }\n    return new Cesium.Cartesian3(eci.x * 1000, eci.y * 1000, eci.z * 1000);\n  }\n\n  computePosition(timestamp) {\n    const positionInertialTEME = this.computePositionInertialTEME(timestamp);\n\n    const temeToFixed = Cesium.Transforms.computeTemeToPseudoFixedMatrix(timestamp);\n    if (!Cesium.defined(temeToFixed)) {\n      console.error(\"Reference frame transformation data failed to load\");\n    }\n    const positionFixed = Cesium.Matrix3.multiplyByVector(temeToFixed, positionInertialTEME, new Cesium.Cartesian3());\n\n    const fixedToIcrf = Cesium.Transforms.computeFixedToIcrfMatrix(timestamp);\n    if (!Cesium.defined(fixedToIcrf)) {\n      console.error(\"Reference frame transformation data failed to load\");\n    }\n    const positionInertialICRF = Cesium.Matrix3.multiplyByVector(fixedToIcrf, positionFixed, new Cesium.Cartesian3());\n\n    // Show computed sampled position\n    // window.cc.viewer.entities.add({\n    //  //position: positionFixed,\n    //  position: new Cesium.ConstantPositionProperty(positionInertialICRF, Cesium.ReferenceFrame.INERTIAL),\n    //  point: {\n    //    pixelSize: 8,\n    //    color: Cesium.Color.TRANSPARENT,\n    //    outlineColor: Cesium.Color.YELLOW,\n    //    outlineWidth: 2,\n    //  }\n    // });\n\n    return { positionFixed, positionInertial: positionInertialICRF };\n  }\n\n  groundTrack(julianDate, samplesFwd = 0, samplesBwd = 120, interval = 30) {\n    const groundTrack = [];\n\n    const startTime = -samplesBwd * interval;\n    const stopTime = samplesFwd * interval;\n    for (let time = startTime; time <= stopTime; time += interval) {\n      const timestamp = Cesium.JulianDate.addSeconds(julianDate, time, new Cesium.JulianDate());\n      const cartographic = Cesium.Cartographic.fromCartesian(this.position(timestamp));\n      const groudPosition = Cesium.Cartesian3.fromRadians(cartographic.longitude, cartographic.latitude, 1000);\n      groundTrack.push(groudPosition);\n    }\n    return groundTrack;\n  }\n\n  get groundStationAvailable() {\n    return (typeof this.groundStationPosition !== \"undefined\");\n  }\n\n  updatePasses(time) {\n    if (!this.groundStationAvailable) {\n      return false;\n    }\n    // Check if still inside of current pass interval\n    if (typeof this.passInterval !== \"undefined\" &&\n        Cesium.TimeInterval.contains(new Cesium.TimeInterval({ start: this.passInterval.start, stop: this.passInterval.stop }), time)) {\n      return false;\n    }\n    this.passInterval = {\n      start: Cesium.JulianDate.addDays(time, -1, Cesium.JulianDate.clone(time)),\n      stop: Cesium.JulianDate.addDays(time, 1, Cesium.JulianDate.clone(time)),\n      stopPrediction: Cesium.JulianDate.addDays(time, 4, Cesium.JulianDate.clone(time)),\n    };\n\n    const passes = this.orbit.computePassesElevation(\n      this.groundStationPosition,\n      Cesium.JulianDate.toDate(this.passInterval.start),\n      Cesium.JulianDate.toDate(this.passInterval.stopPrediction),\n    );\n    if (!passes) {\n      return false;\n    }\n\n    this.passes = passes;\n    this.computePassIntervals();\n    return true;\n  }\n\n  clearPasses() {\n    this.passInterval = undefined;\n    this.passes = [];\n    this.passIntervals = new Cesium.TimeIntervalCollection();\n  }\n\n  computePassIntervals() {\n    const passIntervalArray = this.passes.map((pass) => {\n      const startJulian = Cesium.JulianDate.fromDate(new Date(pass.start));\n      const endJulian = Cesium.JulianDate.fromDate(new Date(pass.end));\n      return new Cesium.TimeInterval({\n        start: startJulian,\n        stop: endJulian,\n      });\n    });\n    this.passIntervals = new Cesium.TimeIntervalCollection(passIntervalArray);\n  }\n\n  notifyPasses(aheadMin = 5) {\n    const toast = useToast();\n\n    if (!this.groundStationAvailable) {\n      toast.warning(\"Ground station required to notify for passes\");\n      return;\n    }\n    const passes = this.orbit.computePassesElevation(this.groundStationPosition);\n    if (!passes) {\n      toast.info(`No passes for ${this.name}`);\n      return;\n    }\n\n    passes.forEach((pass) => {\n      const start = dayjs(pass.start).startOf(\"second\");\n      this.pm.notifyAtDate(start.subtract(aheadMin, \"minute\"), `${pass.name} pass in ${aheadMin} minutes`);\n      this.pm.notifyAtDate(start, `${pass.name} pass starting now`);\n      // this.pm.notifyAtDate(dayjs().add(5, \"second\"), `${pass.name} test pass in ${aheadMin} minutes`);\n    });\n    toast.success(`Notifying for ${passes.length} passes of ${this.name}`);\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\n\nimport { CesiumCallbackHelper } from \"./CesiumCallbackHelper\";\n\n/** CesiumComponentCollection\n  *\n  * A wrapper class for Cesium entities and primitives that all belong to a common object being represented.\n  * The individual entities or primitives are created on demand by the inheriting child class and are added\n  * to a common entity collection or primitive collection shared between all ComponentCollections.\n */\nexport class CesiumComponentCollection {\n  #components = {};\n\n  static geometries = [];\n\n  static primitive = undefined;\n\n  static primitivePendingUpdate = false;\n\n  static primitivePendingCreation = false;\n\n  constructor(viewer, lazy = true) {\n    this.viewer = viewer;\n    // Create entities only when needed and delete them on disable\n    this.lazy = lazy;\n  }\n\n  get components() {\n    return this.#components;\n  }\n\n  get componentNames() {\n    return Object.keys(this.components);\n  }\n\n  get created() {\n    return this.componentNames.length > 0;\n  }\n\n  show(componentNames = this.componentNames) {\n    componentNames.forEach((componentName) => {\n      this.enableComponent(componentName);\n    });\n  }\n\n  hide(componentNames = this.componentNames) {\n    componentNames.forEach((componentName) => {\n      this.disableComponent(componentName);\n    });\n  }\n\n  enableComponent(name) {\n    if (!(name in this.components)) {\n      return;\n    }\n    const component = this.components[name];\n    if (component instanceof Cesium.Entity && !this.viewer.entities.contains(component)) {\n      this.viewer.entities.add(component);\n    } else if (component instanceof Cesium.Primitive && !this.viewer.scene.primitives.contains(component)) {\n      this.viewer.scene.primitives.add(component);\n    } else if (component instanceof Cesium.GeometryInstance) {\n      this.constructor.geometries.push(component);\n      this.recreateGeometryInstancePrimitive();\n    }\n    if (!this.defaultEntity) {\n      this.defaultEntity = component;\n    }\n  }\n\n  disableComponent(name) {\n    if (!(name in this.components)) {\n      return;\n    }\n    const component = this.components[name];\n    if (component instanceof Cesium.Entity) {\n      this.viewer.entities.remove(component);\n    } else if (component instanceof Cesium.Primitive) {\n      this.viewer.scene.primitives.remove(component);\n    } else if (component instanceof Cesium.GeometryInstance) {\n      this.constructor.geometries = this.constructor.geometries.filter((geometry) => geometry !== component);\n      this.recreateGeometryInstancePrimitive();\n    }\n    if (this.lazy) {\n      delete this.components[name];\n    }\n  }\n\n  recreateGeometryInstancePrimitive() {\n    if (this.constructor.primitivePendingUpdate) {\n      return;\n    }\n    this.constructor.primitivePendingUpdate = true;\n    const removeCallback = CesiumCallbackHelper.createPeriodicTickCallback(this.viewer, 30, () => {\n      if (this.constructor.primitivePendingCreation) {\n        return;\n      }\n      this.constructor.primitivePendingUpdate = false;\n      if (this.constructor.geometries.length === 0) {\n        this.viewer.scene.primitives.remove(this.constructor.primitive);\n        this.constructor.primitive = undefined;\n        this.viewer.scene.requestRender();\n        return;\n      }\n      this.constructor.primitivePendingCreation = true;\n      const primitive = new Cesium.Primitive({\n        geometryInstances: this.constructor.geometries,\n        appearance: new Cesium.PolylineColorAppearance(),\n      });\n      // Force asyncrounous primitve creation before adding to scene\n      let lastState = -1;\n      const readyCallback = this.viewer.clock.onTick.addEventListener(() => {\n        if (!primitive.ready) {\n          // eslint-disable-next-line no-underscore-dangle\n          const state = primitive._state;\n          if (state !== lastState) {\n            lastState = state;\n            // Trigger primitive update to progress through creation states\n            primitive.update(this.viewer.scene.frameState);\n            return;\n          }\n          return;\n        }\n        // Update model matrix right before adding to scene\n        const icrfToFixed = Cesium.Transforms.computeIcrfToFixedMatrix(this.viewer.clock.currentTime);\n        if (Cesium.defined(icrfToFixed)) {\n          primitive.modelMatrix = Cesium.Matrix4.fromRotationTranslation(icrfToFixed);\n        }\n        if (this.constructor.primitive) {\n          this.viewer.scene.primitives.remove(this.constructor.primitive);\n        }\n        this.viewer.scene.primitives.add(primitive);\n        this.constructor.primitive = primitive;\n        this.viewer.scene.requestRender();\n        this.constructor.primitivePendingCreation = false;\n        readyCallback();\n      });\n      removeCallback();\n    });\n  }\n\n  /**\n   * Returns an array of all components that are added to the viewer.\n   * If component creation is\n   */\n  get visibleComponents() {\n    return Object.values(this.components).filter((component) => {\n      if (component instanceof Cesium.Entity) {\n        return this.viewer.entities.contains(component);\n      }\n      if (component instanceof Cesium.Primitive) {\n        return this.viewer.scene.primitives.contains(component);\n      }\n      return false;\n    });\n  }\n\n  get isSelected() {\n    return Object.values(this.components).some((entity) => this.viewer.selectedEntity === entity);\n  }\n\n  get isTracked() {\n    return Object.values(this.components).some((entity) => this.viewer.trackedEntity === entity);\n  }\n\n  track(animate = false) {\n    if (!this.defaultEntity) {\n      return;\n    }\n    if (!animate) {\n      this.viewer.trackedEntity = this.defaultEntity;\n      return;\n    }\n\n    this.viewer.trackedEntity = undefined;\n    const clockRunning = this.viewer.clock.shouldAnimate;\n    this.viewer.clock.shouldAnimate = false;\n\n    this.viewer.flyTo(this.defaultEntity, {\n      offset: new Cesium.HeadingPitchRange(0, -Cesium.Math.PI_OVER_FOUR, 1580000),\n    }).then((result) => {\n      if (result) {\n        this.viewer.trackedEntity = this.defaultEntity;\n        this.viewer.clock.shouldAnimate = clockRunning;\n      }\n    });\n  }\n\n  setSelectedOnTickCallback(onTickCallback = () => {}, onUnselectCallback = () => {}) {\n    const onTickEventRemovalCallback = this.viewer.clock.onTick.addEventListener((clock) => {\n      onTickCallback(clock);\n    });\n    const onSelectedEntityChangedRemovalCallback = this.viewer.selectedEntityChanged.addEventListener(() => {\n      onTickEventRemovalCallback();\n      onSelectedEntityChangedRemovalCallback();\n      onUnselectCallback();\n    });\n  }\n\n  setTrackedOnTickCallback(onTickCallback = () => {}, onUntrackCallback = () => {}) {\n    const onTickEventRemovalCallback = this.viewer.clock.onTick.addEventListener((clock) => {\n      onTickCallback(clock);\n    });\n    const onTrackedEntityChangedRemovalCallback = this.viewer.trackedEntityChanged.addEventListener(() => {\n      onTickEventRemovalCallback();\n      onTrackedEntityChangedRemovalCallback();\n      onUntrackCallback();\n    });\n  }\n\n  artificiallyTrack(onTickCallback = () => {}, onUntrackCallback = () => {}) {\n    const cameraTracker = new Cesium.EntityView(this.defaultEntity, this.viewer.scene, this.viewer.scene.globe.ellipsoid);\n    this.setTrackedOnTickCallback((clock) => {\n      cameraTracker.update(clock.currentTime);\n      onTickCallback();\n    }, () => {\n      onUntrackCallback();\n      // Restore default view angle if no new entity is tracked\n      if (typeof this.viewer.trackedEntity === \"undefined\") {\n        this.viewer.flyTo(this.defaultEntity, {\n          offset: new Cesium.HeadingPitchRange(0, Cesium.Math.toRadians(-90.0), 2000000),\n        });\n      }\n    });\n  }\n\n  createCesiumEntity(componentName, entityKey, entityValue, name, description, position, moving) {\n    const entity = new Cesium.Entity({\n      name,\n      description,\n      position,\n      viewFrom: new Cesium.Cartesian3(0, -3600000, 4200000),\n    });\n\n    if (moving) {\n      entity.orientation = new Cesium.VelocityOrientationProperty(position);\n    }\n\n    entity[entityKey] = entityValue;\n    this.components[componentName] = entity;\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\n\nexport class CesiumTimelineHelper {\n  static clearHighlightRanges(viewer) {\n    // eslint-disable-next-line\n    if (!viewer.timeline || viewer.timeline._highlightRanges.length === 0) {\n      return;\n    }\n    // eslint-disable-next-line\n    viewer.timeline._highlightRanges = [];\n    viewer.timeline.updateFromClock();\n    viewer.timeline.zoomTo(viewer.clock.startTime, viewer.clock.stopTime);\n  }\n\n  static addHighlightRanges(viewer, ranges) {\n    if (!viewer.timeline) {\n      return;\n    }\n    ranges.forEach((range) => {\n      const startJulian = Cesium.JulianDate.fromDate(new Date(range.start));\n      const endJulian = Cesium.JulianDate.fromDate(new Date(range.end));\n      const highlightRange = viewer.timeline.addHighlightRange(Cesium.Color.BLUE, 100, 0);\n      highlightRange.setRange(startJulian, endJulian);\n      viewer.timeline.updateFromClock();\n      viewer.timeline.zoomTo(viewer.clock.startTime, viewer.clock.stopTime);\n    });\n  }\n\n  static updateHighlightRanges(viewer, ranges) {\n    this.clearHighlightRanges(viewer);\n    this.addHighlightRanges(viewer, ranges);\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\n\ndayjs.extend(relativeTime);\n\nexport class DescriptionHelper {\n  /** cachedCallbackProperty\n   * Caches the results of a callback property to prevent unnecessary recalculation.\n   * @param {function} callback - The amount of simulation time to use the calculated result\n   * @param {number} updateTreshold - The amount of simulation time to use the calculated result\n   * @param {number} usageTreshold - The number of invocations to serve the same result\n   */\n  static cachedCallbackProperty(callback, updateTreshold = 1, usageTreshold = 1000) {\n    let cache;\n    return new Cesium.CallbackProperty((time) => {\n      if (cache && Cesium.JulianDate.equalsEpsilon(time, cache.time, updateTreshold) && cache.usage < usageTreshold) {\n        // console.log(\"Cached callback\", time, cache.usage);\n        cache.usage += 1;\n        return cache.content;\n      }\n      const content = callback(time);\n      cache = {\n        time,\n        content,\n        usage: 0,\n      };\n      return content;\n    }, false);\n  }\n\n  static renderDescription(time, name, position, passes, isGroundStation, tle) {\n    const description = `\n      <div class=\"ib\">\n        <h3>Position</h3>\n        <table class=\"ibt\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Latitude</th>\n              <th>Longitude</th>\n              ${isGroundStation ? \"\" : \"<th>Altitude</th>\"}\n              ${isGroundStation ? \"\" : \"<th>Velocity</th>\"}\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>${name}</td>\n              <td>${position.latitude.toFixed(2)}&deg</td>\n              <td>${position.longitude.toFixed(2)}&deg</td>\n              ${isGroundStation ? \"\" : `<td>${(position.height / 1000).toFixed(2)} km</td>`}\n              ${isGroundStation ? \"\" : `<td>${position.velocity.toFixed(2)} km/s</td>`}\n            </tr>\n          </tbody>\n        </table>\n        ${this.renderPasses(passes, time, isGroundStation)}\n        ${typeof tle === \"undefined\" ? \"\" : this.renderTLE(tle)}\n      </div>\n    `;\n    return description;\n  }\n\n  static renderPasses(passes, time, isGroundStation) {\n    if (passes.length === 0) {\n      if (isGroundStation) {\n        return `\n          <h3>Passes</h3>\n          <div class=\"ib-text\">No passes available</div>\n          `;\n      }\n      return `\n        <h3>Passes</h3>\n        <div class=\"ib-text\">No ground station set</div>\n        `;\n    }\n\n    const start = dayjs(time);\n    const upcomingPassIdx = passes.findIndex((pass) => dayjs(pass.end).isAfter(start));\n    if (upcomingPassIdx < 0) {\n      return \"\";\n    }\n    const upcomingPasses = passes.slice(upcomingPassIdx);\n\n    const showPassName = isGroundStation;\n    const htmlName = showPassName ? \"<th>Name</th>\\n\" : \"\";\n    const html = `\n      <h3>Passes</h3>\n      <table class=\"ibt\">\n        <thead>\n          <tr>\n            ${htmlName}\n            <th>Countdown</th>\n            <th>Start</th>\n            <th>End</th>\n            <th>El</th>\n            <th>Az</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${upcomingPasses.map((pass) => this.renderPass(start, pass, showPassName)).join(\"\")}\n        </tbody>\n      </table>\n    `;\n    return html;\n  }\n\n  static renderPass(time, pass, showPassName) {\n    function pad2(num) {\n      return String(num).padStart(2, \"0\");\n    }\n    let countdown = \"ONGOING\";\n    if (dayjs(pass.end).diff(time) < 0) {\n      countdown = \"PREVIOUS\";\n    } else if (dayjs(pass.start).diff(time) > 0) {\n      countdown = `${pad2(dayjs(pass.start).diff(time, \"days\"))}:${pad2(dayjs(pass.start).diff(time, \"hours\") % 24)}:${pad2(dayjs(pass.start).diff(time, \"minutes\") % 60)}:${pad2(dayjs(pass.start).diff(time, \"seconds\") % 60)}`;\n    }\n    const htmlName = showPassName ? `<td>${pass.name}</td>\\n` : \"\";\n    const html = `\n      <tr>\n        ${htmlName}\n        <td>${countdown}</td>\n        <td>${dayjs(pass.start).format(\"DD.MM HH:mm:ss\")}</td>\n        <td>${dayjs(pass.end).format(\"HH:mm:ss\")}</td>\n        <td class=\"ibt-right\">${pass.maxElevation.toFixed(0)}&deg</td>\n        <td class=\"ibt-right\">${pass.azimuthApex.toFixed(2)}&deg</td>\n      </tr>\n    `;\n    return html;\n  }\n\n  static renderTLE(tle) {\n    const html = `\n      <h3>TLE</h3>\n      <div class=\"ib-code\"><code>${tle.slice(1, 3).join(\"\\n\")}</code></div>`;\n    return html;\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\nimport CesiumSensorVolumes from \"cesium-sensor-volumes\";\n\nimport { SatelliteProperties } from \"./SatelliteProperties\";\nimport { CesiumComponentCollection } from \"./util/CesiumComponentCollection\";\nimport { CesiumTimelineHelper } from \"./util/CesiumTimelineHelper\";\nimport { DescriptionHelper } from \"./util/DescriptionHelper\";\nimport { CesiumCallbackHelper } from \"./util/CesiumCallbackHelper\";\n\nexport class SatelliteComponentCollection extends CesiumComponentCollection {\n  constructor(viewer, tle, tags) {\n    super(viewer);\n    this.props = new SatelliteProperties(tle, tags);\n    this.eventListeners = {};\n  }\n\n  enableComponent(name) {\n    if (!this.created) {\n      this.init();\n    }\n    if (!this.props.sampledPosition.valid) {\n      console.error(`No valid position data available for ${this.props.name}`);\n      return;\n    }\n    if (!(name in this.components)) {\n      this.createComponent(name);\n      this.updatedSampledPositionForComponents();\n    }\n\n    super.enableComponent(name);\n\n    if (name === \"3D model\") {\n      // Adjust label offset to avoid overlap with model\n      if (this.components.Label) {\n        this.components.Label.label.pixelOffset = new Cesium.Cartesian2(20, 0);\n      }\n    } else if (name === \"Orbit\" && this.components[name] instanceof Cesium.Primitive) {\n      // Update the model matrix periodically to keep the orbit in the inertial frame\n      if (!this.orbitPrimitiveUpdater) {\n        this.orbitPrimitiveUpdater = CesiumCallbackHelper.createPeriodicTimeCallback(this.viewer, 0.5, (time) => {\n          if (!this.components.Orbit) {\n            // Remove callback if orbit is disabled\n            this.orbitPrimitiveUpdater();\n            return;\n          }\n          const icrfToFixed = Cesium.Transforms.computeIcrfToFixedMatrix(time);\n          if (Cesium.defined(icrfToFixed)) {\n            this.components.Orbit.modelMatrix = Cesium.Matrix4.fromRotationTranslation(icrfToFixed);\n          }\n        });\n      }\n    } else if (name === \"Orbit\" && this.components[name] instanceof Cesium.GeometryInstance) {\n      // Update the model matrix of the primitive containing all orbit geometries periodically to keep the orbit in the inertial frame\n      if (!this.constructor.geometryPrimitiveUpdater) {\n        this.constructor.geometryPrimitiveUpdater = CesiumCallbackHelper.createPeriodicTimeCallback(this.viewer, 0.5, (time) => {\n          const icrfToFixed = Cesium.Transforms.computeIcrfToFixedMatrix(time);\n          if (Cesium.defined(icrfToFixed) && this.constructor.primitive) {\n            this.constructor.primitive.modelMatrix = Cesium.Matrix4.fromRotationTranslation(icrfToFixed);\n          }\n        });\n      }\n    }\n  }\n\n  disableComponent(name) {\n    if (name === \"3D model\") {\n      // Restore old label offset\n      if (this.components.Label) {\n        this.components.Label.label.pixelOffset = new Cesium.Cartesian2(10, 0);\n      }\n    }\n    super.disableComponent(name);\n\n    if (this.componentNames.length === 0) {\n      // Remove event listeners when no components are enabled\n      this.deinit();\n    }\n  }\n\n  init() {\n    this.createDescription();\n\n    this.eventListeners.sampledPosition = this.props.createSampledPosition(this.viewer, () => {\n      this.updatedSampledPositionForComponents(true);\n    });\n\n    // Set up event listeners\n    this.eventListeners.selectedEntity = this.viewer.selectedEntityChanged.addEventListener((entity) => {\n      if (!entity || entity?.name === \"Ground station\") {\n        CesiumTimelineHelper.clearHighlightRanges(this.viewer);\n        return;\n      }\n      if (this.isSelected) {\n        this.props.updatePasses(this.viewer.clock.currentTime);\n        CesiumTimelineHelper.updateHighlightRanges(this.viewer, this.props.passes);\n      }\n    });\n\n    this.eventListeners.trackedEntity = this.viewer.trackedEntityChanged.addEventListener(() => {\n      if (this.isTracked) {\n        this.artificiallyTrack();\n      }\n      if (\"Orbit\" in this.components && !this.isCorrectOrbitComponent()) {\n        // Recreate Orbit to change visualisation type\n        this.disableComponent(\"Orbit\");\n        this.enableComponent(\"Orbit\");\n      }\n    });\n  }\n\n  deinit() {\n    // Remove event listeners\n    this.eventListeners.sampledPosition();\n    this.eventListeners.selectedEntity();\n    this.eventListeners.trackedEntity();\n  }\n\n  updatedSampledPositionForComponents(update = false) {\n    const { fixed, inertial } = this.props.sampledPosition;\n\n    Object.entries(this.components).forEach(([type, component]) => {\n      if (type === \"Orbit\") {\n        component.position = inertial;\n        if (update && (component instanceof Cesium.Primitive || component instanceof Cesium.GeometryInstance)) {\n          // Primitives need to be recreated to update the geometry\n          this.disableComponent(\"Orbit\");\n          this.enableComponent(\"Orbit\");\n        }\n      } else if (type === \"Sensor cone\") {\n        component.position = fixed;\n        component.orientation = new Cesium.CallbackProperty((time) => {\n          const position = this.props.position(time);\n          const hpr = new Cesium.HeadingPitchRoll(0, Cesium.Math.toRadians(180), 0);\n          return Cesium.Transforms.headingPitchRollQuaternion(position, hpr);\n        }, false);\n      } else {\n        component.position = fixed;\n        component.orientation = new Cesium.VelocityOrientationProperty(fixed);\n      }\n    });\n    // Request a single frame after satellite position updates when the clock is paused\n    if (!this.viewer.clock.shouldAnimate) {\n      const removeCallback = this.viewer.clock.onTick.addEventListener(() => {\n        this.viewer.scene.requestRender();\n        removeCallback();\n      });\n    }\n  }\n\n  createComponent(name) {\n    switch (name) {\n      case \"Point\":\n        this.createPoint();\n        break;\n      case \"Label\":\n        this.createLabel();\n        break;\n      case \"Orbit\":\n        this.createOrbit();\n        break;\n      case \"Orbit track\":\n        this.createOrbitTrack();\n        break;\n      case \"Ground track\":\n        this.createGroundTrack();\n        break;\n      case \"Sensor cone\":\n        this.createCone();\n        break;\n      case \"3D model\":\n        this.createModel();\n        break;\n      case \"Ground station link\":\n        this.createGroundStationLink();\n        break;\n      default:\n        console.error(\"Unknown component\");\n    }\n  }\n\n  createDescription() {\n    this.description = DescriptionHelper.cachedCallbackProperty((time) => {\n      const cartographic = this.props.orbit.positionGeodetic(Cesium.JulianDate.toDate(time), true);\n      const content = DescriptionHelper.renderDescription(time, this.props.name, cartographic, this.props.passes, false, this.props.orbit.tle);\n      return content;\n    });\n  }\n\n  createCesiumSatelliteEntity(entityName, entityKey, entityValue) {\n    this.createCesiumEntity(entityName, entityKey, entityValue, this.props.name, this.description, this.props.sampledPosition.fixed, true);\n  }\n\n  createPoint() {\n    const point = new Cesium.PointGraphics({\n      pixelSize: 6,\n      color: Cesium.Color.WHITE,\n      outlineColor: Cesium.Color.DIMGREY,\n      outlineWidth: 1,\n    });\n    this.createCesiumSatelliteEntity(\"Point\", \"point\", point);\n  }\n\n  createBox() {\n    const size = 1000;\n    const box = new Cesium.BoxGraphics({\n      dimensions: new Cesium.Cartesian3(size, size, size),\n      material: Cesium.Color.WHITE,\n    });\n    this.createCesiumSatelliteEntity(\"Box\", \"box\", box);\n  }\n\n  createModel() {\n    const model = new Cesium.ModelGraphics({\n      uri: `./data/models/${this.props.name.split(\" \").join(\"-\")}.glb`,\n      minimumPixelSize: 50,\n      maximumScale: 10000,\n    });\n    this.createCesiumSatelliteEntity(\"3D model\", \"model\", model);\n  }\n\n  createLabel() {\n    const label = new Cesium.LabelGraphics({\n      text: this.props.name,\n      font: \"15px Arial\",\n      style: Cesium.LabelStyle.FILL_AND_OUTLINE,\n      outlineColor: Cesium.Color.DIMGREY,\n      outlineWidth: 2,\n      horizontalOrigin: Cesium.HorizontalOrigin.LEFT,\n      pixelOffset: new Cesium.Cartesian2(10, 0),\n      distanceDisplayCondition: new Cesium.DistanceDisplayCondition(2000, 8e7),\n      translucencyByDistance: new Cesium.NearFarScalar(6e7, 1.0, 8e7, 0.0),\n    });\n    this.createCesiumSatelliteEntity(\"Label\", \"label\", label);\n  }\n\n  createOrbit() {\n    if (this.isTracked) {\n      // Use a path graphic to visualize the currently tracked satellite's orbit\n      this.createOrbitPath();\n    } else {\n      // For all other satellites use a polyline geometry to visualize the orbit for significantly improved performance.\n      // A polyline geometry is used instead of a polyline graphic as entities don't support adjusting the model matrix\n      // in order to display the orbit in the inertial frame.\n      this.createOrbitPolylineGeometry();\n    }\n  }\n\n  isCorrectOrbitComponent() {\n    return this.isTracked ? this.components.Orbit instanceof Cesium.Entity : this.components.Orbit instanceof Cesium.Primitive;\n  }\n\n  createOrbitPath() {\n    const path = new Cesium.PathGraphics({\n      leadTime: (this.props.orbit.orbitalPeriod * 60) / 2 + 5,\n      trailTime: (this.props.orbit.orbitalPeriod * 60) / 2 + 5,\n      material: Cesium.Color.WHITE.withAlpha(0.15),\n      resolution: 600,\n      width: 2,\n    });\n    this.createCesiumEntity(\"Orbit\", \"path\", path, this.props.name, this.description, this.props.sampledPosition.inertial, true);\n  }\n\n  createOrbitPolylinePrimitive() {\n    const primitive = new Cesium.Primitive({\n      geometryInstances: new Cesium.GeometryInstance({\n        geometry: new Cesium.PolylineGeometry({\n          positions: this.props.getSampledInertialPositionsForNextOrbit(this.viewer.clock.currentTime),\n          width: 2,\n          arcType: Cesium.ArcType.NONE,\n          // granularity: Cesium.Math.RADIANS_PER_DEGREE * 10,\n          vertexFormat: Cesium.PolylineColorAppearance.VERTEX_FORMAT,\n        }),\n        attributes: {\n          color: Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1.0, 1.0, 1.0, 0.15)),\n        },\n        id: this.props.name,\n      }),\n      appearance: new Cesium.PolylineColorAppearance(),\n      asynchronous: false,\n    });\n    const icrfToFixed = Cesium.Transforms.computeIcrfToFixedMatrix(this.viewer.clock.currentTime);\n    if (Cesium.defined(icrfToFixed)) {\n      // TODO: Cache the model matrix\n      primitive.modelMatrix = Cesium.Matrix4.fromRotationTranslation(icrfToFixed);\n    }\n    this.components.Orbit = primitive;\n  }\n\n  createOrbitPolylineGeometry() {\n    // Currently unused\n    const geometryInstance = new Cesium.GeometryInstance({\n      geometry: new Cesium.PolylineGeometry({\n        positions: this.props.getSampledInertialPositionsForNextOrbit(this.viewer.clock.currentTime),\n        width: 2,\n        arcType: Cesium.ArcType.NONE,\n        // granularity: Cesium.Math.RADIANS_PER_DEGREE * 10,\n        vertexFormat: Cesium.PolylineColorAppearance.VERTEX_FORMAT,\n      }),\n      attributes: {\n        color: Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1.0, 1.0, 1.0, 0.15)),\n      },\n      id: this.props.name,\n    });\n    this.components.Orbit = geometryInstance;\n  }\n\n  createOrbitTrack(leadTime = this.props.orbit.orbitalPeriod * 60, trailTime = 0) {\n    const path = new Cesium.PathGraphics({\n      leadTime,\n      trailTime,\n      material: Cesium.Color.GOLD.withAlpha(0.15),\n      resolution: 600,\n      width: 2,\n    });\n    this.createCesiumSatelliteEntity(\"Orbit track\", \"path\", path);\n  }\n\n  createGroundTrack(width = 165) {\n    if (this.props.orbit.orbitalPeriod > 60 * 2) {\n      // Ground track unavailable for non-LEO satellites\n      return;\n    }\n    const corridor = new Cesium.CorridorGraphics({\n      cornerType: Cesium.CornerType.MITERED,\n      material: Cesium.Color.ORANGE.withAlpha(0.2),\n      positions: new Cesium.CallbackProperty((time) => this.props.groundTrack(time), false),\n      width: width * 1000,\n    });\n    this.createCesiumSatelliteEntity(\"Ground track\", \"corridor\", corridor);\n  }\n\n  createCone(fov = 10) {\n    if (this.props.orbit.orbitalPeriod > 60 * 2) {\n      // Cone graphic unavailable for non-LEO satellites\n      return;\n    }\n    const entity = new Cesium.Entity();\n    entity.addProperty(\"conicSensor\");\n    entity.conicSensor = new CesiumSensorVolumes.ConicSensorGraphics({\n      radius: 1000000,\n      innerHalfAngle: Cesium.Math.toRadians(0),\n      outerHalfAngle: Cesium.Math.toRadians(fov),\n      lateralSurfaceMaterial: Cesium.Color.GOLD.withAlpha(0.15),\n      intersectionColor: Cesium.Color.GOLD.withAlpha(0.3),\n      intersectionWidth: 1,\n    });\n    this.components[\"Sensor cone\"] = entity;\n  }\n\n  createGroundStationLink() {\n    if (!this.props.groundStationAvailable) {\n      return;\n    }\n    const polyline = new Cesium.PolylineGraphics({\n      followSurface: false,\n      material: new Cesium.PolylineGlowMaterialProperty({\n        glowPower: 0.5,\n        color: Cesium.Color.FORESTGREEN,\n      }),\n      positions: new Cesium.CallbackProperty((time) => {\n        const satPosition = this.props.position(time);\n        const groundPosition = this.props.groundStationPosition.cartesian;\n        const positions = [satPosition, groundPosition];\n        return positions;\n      }, false),\n      show: new Cesium.CallbackProperty((time) => this.props.passIntervals.contains(time), false),\n      width: 5,\n    });\n    this.createCesiumSatelliteEntity(\"Ground station link\", \"polyline\", polyline);\n  }\n\n  set groundStation(position) {\n    // No groundstation calculation for GEO satellites\n    if (this.props.orbit.orbitalPeriod > 60 * 12) {\n      return;\n    }\n\n    this.props.groundStationPosition = position;\n    this.props.clearPasses();\n    if (this.isSelected || this.isTracked) {\n      this.props.updatePasses(this.viewer.clock.currentTime);\n      if (this.isSelected) {\n        CesiumTimelineHelper.updateHighlightRanges(this.viewer, this.props.passes);\n      }\n    }\n    if (this.created) {\n      this.createGroundStationLink();\n    }\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\nimport dayjs from \"dayjs\";\nimport { CesiumComponentCollection } from \"./util/CesiumComponentCollection\";\nimport { DescriptionHelper } from \"./util/DescriptionHelper\";\n\nimport icon from \"../images/icons/dish.svg\";\n\nexport class GroundStationEntity extends CesiumComponentCollection {\n  constructor(viewer, sats, position) {\n    super(viewer);\n    this.sats = sats;\n\n    this.name = \"Ground station\";\n    this.position = position;\n\n    this.createEntities();\n  }\n\n  createEntities() {\n    this.createDescription();\n    this.createGroundStation();\n  }\n\n  createGroundStation() {\n    const billboard = new Cesium.BillboardGraphics({\n      image: icon,\n      horizontalOrigin: Cesium.HorizontalOrigin.CENTER,\n      verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\n      scaleByDistance: new Cesium.NearFarScalar(1e2, 0.2, 4e7, 0.1),\n    });\n    this.createCesiumEntity(\"Groundstation\", \"billboard\", billboard, this.name, this.description, this.position.cartesian, false);\n  }\n\n  createDescription() {\n    this.description = DescriptionHelper.cachedCallbackProperty((time) => {\n      const passes = this.passes(time);\n      const content = DescriptionHelper.renderDescription(time, this.name, this.position, passes, true);\n      return content;\n    });\n  }\n\n  passes(time, deltaHours = 48) {\n    let passes = [];\n    // Aggregate passes from all visible satellites\n    this.sats.visibleSatellites.forEach((sat) => {\n      sat.props.updatePasses(this.viewer.clock.currentTime);\n      passes.push(...sat.props.passes);\n    });\n\n    // Filter passes based on time\n    passes = passes.filter((pass) => dayjs(pass.start).diff(time, \"hours\") < deltaHours);\n\n    // Sort passes by time\n    passes = passes.sort((a, b) => a.start - b.start);\n    return passes;\n  }\n}\n","import { CesiumCallbackHelper } from \"./CesiumCallbackHelper\";\n\nexport class CesiumCleanupHelper {\n  // Cleanup leftover Cesium internal data after removing satellites\n  // https://github.com/CesiumGS/cesium/issues/7184\n  static cleanup(viewer) {\n    const onTickEventRemovalCallback = CesiumCallbackHelper.createPeriodicTickCallback(viewer, 1, () => {\n      console.info(\"Removing leftover Cesium internal data\");\n      onTickEventRemovalCallback();\n      /* eslint-disable no-underscore-dangle */\n      const labelCollection = viewer.scene.primitives?._primitives[0]?._primitives[0]._primitives[0]._labelCollection;\n      if (labelCollection) {\n        labelCollection._spareBillboards.forEach((billboard) => {\n          labelCollection._billboardCollection.remove(billboard);\n        });\n        labelCollection._spareBillboards.length = 0;\n      }\n      /* eslint-enable no-underscore-dangle */\n    });\n  }\n}\n","import { SatelliteComponentCollection } from \"./SatelliteComponentCollection\";\nimport { GroundStationEntity } from \"./GroundStationEntity\";\n\nimport { useSatStore } from \"../stores/sat\";\nimport { CesiumCleanupHelper } from \"./util/CesiumCleanupHelper\";\n\nexport class SatelliteManager {\n  #enabledComponents = [\"Point\", \"Label\"];\n\n  #enabledTags = [];\n\n  #enabledSatellites = [];\n\n  constructor(viewer) {\n    this.viewer = viewer;\n\n    this.satellites = [];\n    this.availableComponents = [\"Point\", \"Label\", \"Orbit\", \"Orbit track\", \"Ground track\", \"Sensor cone\", \"3D model\"];\n\n    this.viewer.trackedEntityChanged.addEventListener(() => {\n      if (this.trackedSatellite) {\n        this.getSatellite(this.trackedSatellite).show(this.#enabledComponents);\n      }\n      useSatStore().trackedSatellite = this.trackedSatellite;\n    });\n  }\n\n  addFromTleUrls(urlTagList) {\n    // Initiate async download of all TLE URLs and update store afterwards\n    const promises = urlTagList.map(([url, tags]) => this.addFromTleUrl(url, tags, false));\n    Promise.all(promises).then(() => this.updateStore());\n  }\n\n  addFromTleUrl(url, tags, updateStore = true) {\n    return fetch(url, {\n      mode: \"no-cors\",\n    }).then((response) => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      return response;\n    }).then((response) => response.text())\n      .then((data) => {\n        const lines = data.split(/\\r?\\n/);\n        for (let i = 3; i < lines.length; i + 3) {\n          const tle = lines.splice(i - 3, i).join(\"\\n\");\n          this.addFromTle(tle, tags, updateStore);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  addFromTle(tle, tags, updateStore = true) {\n    const sat = new SatelliteComponentCollection(this.viewer, tle, tags);\n    this.#add(sat);\n    if (updateStore) {\n      this.updateStore();\n    }\n  }\n\n  #add(newSat) {\n    const existingSat = this.satellites.find((sat) => sat.props.satnum === newSat.props.satnum && sat.props.name === newSat.props.name);\n    if (existingSat) {\n      existingSat.props.addTags(newSat.props.tags);\n      if (newSat.props.tags.some((tag) => this.#enabledTags.includes(tag))) {\n        existingSat.show(this.#enabledComponents);\n      }\n      return;\n    }\n    if (this.groundStationAvailable) {\n      newSat.groundStation = this.groundStation.position;\n    }\n    this.satellites.push(newSat);\n\n    if (this.satIsActive(newSat)) {\n      newSat.show(this.#enabledComponents);\n      if (this.pendingTrackedSatellite === newSat.props.name) {\n        this.trackedSatellite = newSat.props.name;\n      }\n    }\n  }\n\n  updateStore() {\n    const satStore = useSatStore();\n    satStore.availableTags = this.tags;\n    satStore.availableSatellitesByTag = this.taglist;\n  }\n\n  get taglist() {\n    const taglist = {};\n    this.satellites.forEach((sat) => {\n      sat.props.tags.forEach((tag) => {\n        (taglist[tag] = taglist[tag] || []).push(sat.props.name);\n      });\n    });\n    Object.values(taglist).forEach((tag) => {\n      tag.sort();\n    });\n    return taglist;\n  }\n\n  get selectedSatellite() {\n    const satellite = this.satellites.find((sat) => sat.isSelected);\n    return satellite ? satellite.props.name : \"\";\n  }\n\n  get trackedSatellite() {\n    const satellite = this.satellites.find((sat) => sat.isTracked);\n    return satellite ? satellite.props.name : \"\";\n  }\n\n  set trackedSatellite(name) {\n    if (!name) {\n      if (this.trackedSatellite) {\n        this.viewer.trackedEntity = undefined;\n      }\n      return;\n    }\n    if (name === this.trackedSatellite) {\n      return;\n    }\n\n    const sat = this.getSatellite(name);\n    if (sat) {\n      sat.track();\n      this.pendingTrackedSatellite = undefined;\n    } else {\n      // Satellite does not exist (yet?)\n      this.pendingTrackedSatellite = name;\n    }\n  }\n\n  get visibleSatellites() {\n    return this.satellites.filter((sat) => sat.created);\n  }\n\n  get monitoredSatellites() {\n    return this.satellites.filter((sat) => sat.props.pm.active).map((sat) => sat.props.name);\n  }\n\n  set monitoredSatellites(sats) {\n    this.satellites.forEach((sat) => {\n      if (sats.includes(sat.props.name)) {\n        sat.props.notifyPasses();\n      } else {\n        sat.props.pm.clearTimers();\n      }\n    });\n  }\n\n  get satelliteNames() {\n    return this.satellites.map((sat) => sat.props.name);\n  }\n\n  getSatellite(name) {\n    return this.satellites.find((sat) => sat.props.name === name);\n  }\n\n  get enabledSatellites() {\n    return this.#enabledSatellites;\n  }\n\n  set enabledSatellites(newSats) {\n    this.#enabledSatellites = newSats;\n    this.showEnabledSatellites();\n\n    const satStore = useSatStore();\n    satStore.enabledSatellites = newSats;\n  }\n\n  get tags() {\n    const tags = this.satellites.map((sat) => sat.props.tags);\n    return [...new Set([].concat(...tags))];\n  }\n\n  getSatellitesWithTag(tag) {\n    return this.satellites.filter((sat) => sat.props.hasTag(tag));\n  }\n\n  /**\n   * Returns true if the satellite is enabled by tag or name\n   * @param {SatelliteComponentCollection} sat\n   * @returns {boolean} true if the satellite is enabled\n   */\n  satIsActive(sat) {\n    const enabledByTag = this.#enabledTags.some((tag) => sat.props.hasTag(tag));\n    const enabledByName = this.#enabledSatellites.includes(sat.props.name);\n    return enabledByTag || enabledByName;\n  }\n\n  get activeSatellites() {\n    return this.satellites.filter((sat) => this.satIsActive(sat));\n  }\n\n  showEnabledSatellites() {\n    this.satellites.forEach((sat) => {\n      if (this.satIsActive(sat)) {\n        sat.show(this.#enabledComponents);\n      } else {\n        sat.hide();\n      }\n    });\n    if (this.visibleSatellites.length === 0) {\n      CesiumCleanupHelper.cleanup(this.viewer);\n    }\n  }\n\n  get enabledTags() {\n    return this.#enabledTags;\n  }\n\n  set enabledTags(newTags) {\n    this.#enabledTags = newTags;\n    this.showEnabledSatellites();\n\n    const satStore = useSatStore();\n    satStore.enabledTags = newTags;\n  }\n\n  get components() {\n    const components = this.satellites.map((sat) => sat.components);\n    return [...new Set([].concat(...components))];\n  }\n\n  get enabledComponents() {\n    return this.#enabledComponents;\n  }\n\n  set enabledComponents(newComponents) {\n    const oldComponents = this.#enabledComponents;\n    const add = newComponents.filter((x) => !oldComponents.includes(x));\n    const del = oldComponents.filter((x) => !newComponents.includes(x));\n    add.forEach((component) => {\n      this.enableComponent(component);\n    });\n    del.forEach((component) => {\n      this.disableComponent(component);\n    });\n  }\n\n  enableComponent(componentName) {\n    if (!this.#enabledComponents.includes(componentName)) {\n      this.#enabledComponents.push(componentName);\n    }\n\n    this.activeSatellites.forEach((sat) => {\n      sat.enableComponent(componentName);\n    });\n  }\n\n  disableComponent(componentName) {\n    this.#enabledComponents = this.#enabledComponents.filter((name) => name !== componentName);\n\n    this.activeSatellites.forEach((sat) => {\n      sat.disableComponent(componentName);\n    });\n  }\n\n  get groundStationAvailable() {\n    return (typeof this.groundStation !== \"undefined\");\n  }\n\n  focusGroundStation() {\n    if (this.groundStationAvailable) {\n      this.groundStation.track();\n    }\n  }\n\n  setGroundStation(position) {\n    if (this.groundStationAvailable) {\n      this.groundStation.hide();\n    }\n    if (position.height < 1) {\n      position.height = 0;\n    }\n\n    // Create groundstation entity\n    this.groundStation = new GroundStationEntity(this.viewer, this, position);\n    this.groundStation.show();\n\n    // Set groundstation for all satellites\n    this.satellites.forEach((sat) => {\n      sat.groundStation = this.groundStation.position;\n    });\n\n    // Update store for url state\n    const satStore = useSatStore();\n    satStore.groundstation = [position.latitude, position.longitude];\n  }\n}\n","import * as Cesium from \"@cesium/engine\";\nimport { Viewer } from \"@cesium/widgets\";\nimport dayjs from \"dayjs\";\nimport utc from \"dayjs/plugin/utc\";\nimport * as Sentry from \"@sentry/browser\";\nimport { icon } from \"@fortawesome/fontawesome-svg-core\";\nimport { faBell, faInfo } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { DeviceDetect } from \"./util/DeviceDetect\";\nimport { CesiumPerformanceStats } from \"./util/CesiumPerformanceStats\";\nimport { SatelliteManager } from \"./SatelliteManager\";\nimport { useCesiumStore } from \"../stores/cesium\";\nimport infoBoxCss from \"../css/infobox.ecss\";\n\ndayjs.extend(utc);\n\nexport class CesiumController {\n  constructor() {\n    this.initConstants();\n    this.preloadReferenceFrameData();\n    this.minimalUI = DeviceDetect.inIframe() || DeviceDetect.isIos();\n\n    this.viewer = new Viewer(\"cesiumContainer\", {\n      animation: !this.minimalUI,\n      baseLayerPicker: false,\n      fullscreenButton: !this.minimalUI,\n      fullscreenElement: document.body,\n      geocoder: false,\n      homeButton: false,\n      sceneModePicker: false,\n      baseLayer: this.createImageryLayer(\"OfflineHighres\"),\n      navigationHelpButton: false,\n      navigationInstructionsInitiallyVisible: false,\n      selectionIndicator: false,\n      timeline: !this.minimalUI,\n      vrButton: !this.minimalUI,\n      contextOptions: {\n        webgl: {\n          alpha: true,\n        },\n      },\n    });\n\n    // Cesium default settings\n    this.viewer.clock.shouldAnimate = true;\n    this.viewer.scene.globe.enableLighting = true;\n    this.viewer.scene.highDynamicRange = true;\n    this.viewer.scene.maximumRenderTimeChange = 1 / 30;\n    this.viewer.scene.requestRenderMode = true;\n\n    // Cesium Performance Tools\n    // this.viewer.scene.debugShowFramesPerSecond = true;\n    // this.FrameRateMonitor = Cesium.FrameRateMonitor.fromScene(this.viewer.scene);\n    // this.viewer.scene.postRender.addEventListener((scene) => {\n    //   console.log(this.FrameRateMonitor.lastFramesPerSecond)\n    // });\n    // this.enablePerformanceLogger(true);\n\n    // Export CesiumController for debugger\n    window.cc = this;\n\n    // CesiumController config\n    this.terrainProviders = [\"None\", \"Maptiler\"];\n    this.sceneModes = [\"3D\", \"2D\", \"Columbus\"];\n    this.cameraModes = [\"Fixed\", \"Inertial\"];\n\n    this.createInputHandler();\n    this.addErrorHandler();\n    this.styleInfoBox();\n\n    // Create Satellite Manager\n    this.sats = new SatelliteManager(this.viewer);\n\n    // Add privacy policy to credits when not running in iframe\n    if (!DeviceDetect.inIframe()) {\n      this.viewer.creditDisplay.addStaticCredit(new Cesium.Credit(`<a href=\"/privacy.html\" target=\"_blank\"><u>Privacy</u></a>`, true));\n    }\n    this.viewer.creditDisplay.addStaticCredit(new Cesium.Credit(`Satellite TLE data provided by <a href=\"https://celestrak.org/NORAD/elements/\" target=\"_blank\"><u>Celestrak</u></a>`));\n\n    // Fix Cesium logo in minimal ui mode\n    if (this.minimalUI) {\n      setTimeout(() => { this.fixLogo(); }, 2500);\n    }\n\n    this.activeLayers = [];\n  }\n\n  initConstants() {\n    this.imageryProviders = {\n      Offline: {\n        create: () => Cesium.TileMapServiceImageryProvider.fromUrl(Cesium.buildModuleUrl(\"Assets/Textures/NaturalEarthII\")),\n        alpha: 1,\n        base: true,\n      },\n      OfflineHighres: {\n        create: () => Cesium.TileMapServiceImageryProvider.fromUrl(\"data/cesium-assets/imagery/NaturalEarthII\", {\n          maximumLevel: 5,\n          credit: \"Imagery courtesy Natural Earth\",\n        }),\n        alpha: 1,\n        base: true,\n      },\n      ArcGis: {\n        create: () => Cesium.ArcGisMapServerImageryProvider.fromUrl(\"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer\"),\n        alpha: 1,\n        base: true,\n      },\n      OSM: {\n        create: () => new Cesium.OpenStreetMapImageryProvider({\n          url: \"https://a.tile.openstreetmap.org/\",\n        }),\n        alpha: 1,\n        base: true,\n      },\n      BlackMarble: {\n        create: () => new Cesium.WebMapServiceImageryProvider({\n          url: \"https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi\",\n          layers: \"VIIRS_Black_Marble\",\n          style: \"default\",\n          tileMatrixSetID: \"250m\",\n          format: \"image/png\",\n          tileWidth: 512,\n          tileHeight: 512,\n          credit: \"NASA Global Imagery Browse Services for EOSDIS\",\n        }),\n        alpha: 1,\n        base: true,\n      },\n      Tiles: {\n        create: () => new Cesium.TileCoordinatesImageryProvider(),\n        alpha: 1,\n        base: false,\n      },\n      \"GOES-IR\": {\n        create: () => new Cesium.WebMapServiceImageryProvider({\n          url: \"https://mesonet.agron.iastate.edu/cgi-bin/wms/goes/conus_ir.cgi?\",\n          layers: \"goes_conus_ir\",\n          credit: \"Infrared data courtesy Iowa Environmental Mesonet\",\n          parameters: {\n            transparent: \"true\",\n            format: \"image/png\",\n          },\n        }),\n        alpha: 0.5,\n        base: false,\n      },\n      Nextrad: {\n        create: () => new Cesium.WebMapServiceImageryProvider({\n          url: \"https://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi?\",\n          layers: \"nexrad-n0r\",\n          credit: \"US Radar data courtesy Iowa Environmental Mesonet\",\n          parameters: {\n            transparent: \"true\",\n            format: \"image/png\",\n          },\n        }),\n        alpha: 0.5,\n        base: false,\n      },\n    };\n  }\n\n  preloadReferenceFrameData() {\n    // Preload reference frame data for a timeframe of 180 days\n    const timeInterval = new Cesium.TimeInterval({\n      start: Cesium.JulianDate.addDays(Cesium.JulianDate.now(), -60, new Cesium.JulianDate()),\n      stop: Cesium.JulianDate.addDays(Cesium.JulianDate.now(), 120, new Cesium.JulianDate()),\n    });\n    Cesium.Transforms.preloadIcrfFixed(timeInterval).then(() => {\n      console.log(\"Reference frame data loaded\");\n    });\n  }\n\n  get imageryProviderNames() {\n    return Object.keys(this.imageryProviders);\n  }\n\n  get baseLayers() {\n    return Object.entries(this.imageryProviders).filter(([, val]) => val.base).map(([key]) => key);\n  }\n\n  get overlayLayers() {\n    return Object.entries(this.imageryProviders).filter(([, val]) => !val.base).map(([key]) => key);\n  }\n\n  set imageryLayers(newLayerNames) {\n    this.clearImageryLayers();\n    newLayerNames.forEach((layerName) => {\n      const [name, alpha] = layerName.split(\"_\");\n      const layer = this.createImageryLayer(name, alpha);\n      if (layer) {\n        this.viewer.scene.imageryLayers.add(layer);\n      }\n    });\n  }\n\n  clearImageryLayers() {\n    this.viewer.scene.imageryLayers.removeAll();\n  }\n\n  createImageryLayer(imageryProviderName, alpha) {\n    if (!this.imageryProviderNames.includes(imageryProviderName)) {\n      console.error(\"Unknown imagery layer\");\n      return false;\n    }\n\n    const provider = this.imageryProviders[imageryProviderName];\n    const layer = Cesium.ImageryLayer.fromProviderAsync(provider.create());\n    if (alpha === undefined) {\n      layer.alpha = provider.alpha;\n    } else {\n      layer.alpha = alpha;\n    }\n    return layer;\n  }\n\n  set sceneMode(sceneMode) {\n    switch (sceneMode) {\n      case \"3D\":\n        this.viewer.scene.morphTo3D();\n        break;\n      case \"2D\":\n        this.viewer.scene.morphTo2D();\n        break;\n      case \"Columbus\":\n        this.viewer.scene.morphToColumbusView();\n        break;\n      default:\n        console.error(\"Unknown scene mode\");\n    }\n  }\n\n  set terrainProvider(terrainProviderName) {\n    if (!this.terrainProviders.includes(terrainProviderName)) {\n      return;\n    }\n\n    switch (terrainProviderName) {\n      case \"None\":\n        this.viewer.terrainProvider = new Cesium.EllipsoidTerrainProvider();\n        break;\n      case \"Maptiler\":\n        this.viewer.terrainProvider = new Cesium.CesiumTerrainProvider({\n          url: \"https://api.maptiler.com/tiles/terrain-quantized-mesh/?key=tiHE8Ed08u6ZoFjbE32Z\",\n          credit: \"<a href=\\\"https://www.maptiler.com/copyright/\\\" target=\\\"_blank\\\"> MapTiler</a> <a href=\\\"https://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\"> OpenStreetMap contributors</a>\",\n          requestVertexNormals: true,\n        });\n        break;\n      case \"ArcGIS\":\n        this.viewer.terrainProvider = new Cesium.ArcGISTiledElevationTerrainProvider({\n          url: \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\",\n        });\n        break;\n      default:\n        console.error(\"Unknown terrain provider\");\n    }\n  }\n\n  jumpTo(location) {\n    switch (location) {\n      case \"Everest\": {\n        const target = new Cesium.Cartesian3(300770.50872389384, 5634912.131394585, 2978152.2865545116);\n        const offset = new Cesium.Cartesian3(6344.974098678562, -793.3419798081741, 2499.9508860763162);\n        this.viewer.camera.lookAt(target, offset);\n        this.viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n        break;\n      }\n      case \"HalfDome\": {\n        const target = new Cesium.Cartesian3(-2489625.0836225147, -4393941.44443024, 3882535.9454173897);\n        const offset = new Cesium.Cartesian3(-6857.40902037546, 412.3284835694358, 2147.5545426812023);\n        this.viewer.camera.lookAt(target, offset);\n        this.viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\n        break;\n      }\n      default:\n        console.error(\"Unknown location\");\n    }\n  }\n\n  set cameraMode(cameraMode) {\n    switch (cameraMode) {\n      case \"Inertial\":\n        this.viewer.scene.postUpdate.addEventListener(this.cameraTrackEci);\n        break;\n      case \"Fixed\":\n        this.viewer.scene.postUpdate.removeEventListener(this.cameraTrackEci);\n        break;\n      default:\n        console.error(\"Unknown camera mode\");\n    }\n  }\n\n  cameraTrackEci(scene, time) {\n    if (scene.mode !== Cesium.SceneMode.SCENE3D) {\n      return;\n    }\n\n    const icrfToFixed = Cesium.Transforms.computeIcrfToFixedMatrix(time);\n    if (Cesium.defined(icrfToFixed)) {\n      const { camera } = scene;\n      const offset = Cesium.Cartesian3.clone(camera.position);\n      const transform = Cesium.Matrix4.fromRotationTranslation(icrfToFixed);\n      camera.lookAtTransform(transform, offset);\n    }\n  }\n\n  setTime(current, start = dayjs.utc(current).subtract(12, \"hour\").toISOString(), stop = dayjs.utc(current).add(7, \"day\").toISOString()) {\n    this.viewer.clock.startTime = Cesium.JulianDate.fromIso8601(dayjs.utc(start).toISOString());\n    this.viewer.clock.stopTime = Cesium.JulianDate.fromIso8601(dayjs.utc(stop).toISOString());\n    this.viewer.clock.currentTime = Cesium.JulianDate.fromIso8601(dayjs.utc(current).toISOString());\n    if (typeof this.viewer.timeline !== \"undefined\") {\n      this.viewer.timeline.updateFromClock();\n      this.viewer.timeline.zoomTo(this.viewer.clock.startTime, this.viewer.clock.stopTime);\n    }\n  }\n\n  createInputHandler() {\n    const handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas);\n    handler.setInputAction((event) => {\n      const { pickMode } = useCesiumStore();\n      if (!pickMode) {\n        return;\n      }\n      this.setGroundStationFromClickEvent(event);\n    }, Cesium.ScreenSpaceEventType.LEFT_CLICK);\n  }\n\n  setGroundStationFromClickEvent(event) {\n    const cartesian = this.viewer.camera.pickEllipsoid(event.position);\n    const didHitGlobe = Cesium.defined(cartesian);\n    if (didHitGlobe) {\n      const coordinates = {};\n      const cartographicPosition = Cesium.Cartographic.fromCartesian(cartesian);\n      coordinates.longitude = Cesium.Math.toDegrees(cartographicPosition.longitude);\n      coordinates.latitude = Cesium.Math.toDegrees(cartographicPosition.latitude);\n      coordinates.height = Cesium.Math.toDegrees(cartographicPosition.height);\n      coordinates.cartesian = cartesian;\n      this.sats.setGroundStation(coordinates);\n      useCesiumStore().pickMode = false;\n    }\n  }\n\n  setGroundStationFromGeolocation() {\n    navigator.geolocation.getCurrentPosition((position) => {\n      if (typeof position === \"undefined\") {\n        return;\n      }\n      const coordinates = {};\n      coordinates.longitude = position.coords.longitude;\n      coordinates.latitude = position.coords.latitude;\n      coordinates.height = position.coords.altitude;\n      coordinates.cartesian = Cesium.Cartesian3.fromDegrees(coordinates.longitude, coordinates.latitude, coordinates.height);\n      this.sats.setGroundStation(coordinates);\n    });\n  }\n\n  setGroundStationFromLatLon(lat, lon, height = 0) {\n    if (!lat || !lon) {\n      return;\n    }\n    const coordinates = {\n      longitude: lon,\n      latitude: lat,\n      height,\n    };\n    coordinates.longitude = lon;\n    coordinates.latitude = lat;\n    coordinates.height = height;\n    coordinates.cartesian = Cesium.Cartesian3.fromDegrees(coordinates.longitude, coordinates.latitude, coordinates.height);\n    this.sats.setGroundStation(coordinates);\n  }\n\n  set showUI(enabled) {\n    if (enabled) {\n      /* eslint-disable no-underscore-dangle */\n      this.viewer._animation.container.style.visibility = \"\";\n      this.viewer._timeline.container.style.visibility = \"\";\n      this.viewer._fullscreenButton._container.style.visibility = \"\";\n      this.viewer._vrButton._container.style.visibility = \"\";\n      this.viewer._bottomContainer.style.left = this.oldBottomContainerStyleLeft;\n      this.viewer._bottomContainer.style.bottom = \"30px\";\n    } else {\n      this.viewer._animation.container.style.visibility = \"hidden\";\n      this.viewer._timeline.container.style.visibility = \"hidden\";\n      this.viewer._fullscreenButton._container.style.visibility = \"hidden\";\n      this.viewer._vrButton._container.style.visibility = \"hidden\";\n      this.oldBottomContainerStyleLeft = this.viewer._bottomContainer.style.left;\n      this.viewer._bottomContainer.style.left = \"5px\";\n      this.viewer._bottomContainer.style.bottom = \"0px\";\n      /* eslint-enable no-underscore-dangle */\n    }\n  }\n\n  get showUI() {\n    // eslint-disable-next-line\n    return this.viewer._timeline.container.style.visibility !== \"hidden\";\n  }\n\n  fixLogo() {\n    if (this.minimalUI) {\n      // eslint-disable-next-line\n      this.viewer._bottomContainer.style.left = \"5px\";\n    }\n    if (DeviceDetect.isiPhoneWithNotchVisible()) {\n      // eslint-disable-next-line\n      this.viewer._bottomContainer.style.bottom = \"20px\";\n    }\n  }\n\n  set qualityPreset(quality) {\n    switch (quality) {\n      case \"low\":\n        // Ignore browser's device pixel ratio and use CSS pixels instead of device pixels for render resolution\n        this.viewer.useBrowserRecommendedResolution = true;\n        break;\n      case \"high\":\n        // Use browser's device pixel ratio for render resolution\n        this.viewer.useBrowserRecommendedResolution = false;\n        break;\n      default:\n        console.error(\"Unknown quality preset\");\n    }\n  }\n\n  set showFps(value) {\n    cc.viewer.scene.debugShowFramesPerSecond = value;\n  }\n\n  set background(active) {\n    if (!active) {\n      this.viewer.scene.backgroundColor = Cesium.Color.TRANSPARENT;\n      this.viewer.scene.moon = undefined;\n      this.viewer.scene.skyAtmosphere = undefined;\n      this.viewer.scene.skyBox = undefined;\n      this.viewer.scene.sun = undefined;\n      document.documentElement.style.background = \"transparent\";\n      document.body.style.background = \"transparent\";\n      document.getElementById(\"cesiumContainer\").style.background = \"transparent\";\n    }\n  }\n\n  enablePerformanceStats(logContinuously = false) {\n    this.performanceStats = new CesiumPerformanceStats(this.viewer.scene, logContinuously);\n  }\n\n  addErrorHandler() {\n    // Rethrow scene render errors\n    this.viewer.scene.rethrowRenderErrors = true;\n    this.viewer.scene.renderError.addEventListener((scene, error) => {\n      console.error(scene, error);\n      Sentry.captureException(error);\n    });\n\n    // Proxy and log CesiumWidget render loop errors that only display a UI error message\n    const widget = this.viewer.cesiumWidget;\n    const proxied = widget.showErrorPanel;\n    widget.showErrorPanel = function widgetError(title, message, error) {\n      proxied.apply(this, [title, message, error]);\n      Sentry.captureException(error);\n    };\n  }\n\n  styleInfoBox() {\n    const infoBox = this.viewer.infoBox.container.getElementsByClassName(\"cesium-infoBox\")[0];\n    const close = this.viewer.infoBox.container.getElementsByClassName(\"cesium-infoBox-close\")[0];\n    if (infoBox && close) {\n      // Container for additional buttons\n      const container = document.createElement(\"div\");\n      container.setAttribute(\"class\", \"cesium-infoBox-container\");\n      infoBox.insertBefore(container, close);\n\n      // Notify button\n      const notifyButton = document.createElement(\"button\");\n      notifyButton.setAttribute(\"type\", \"button\");\n      notifyButton.setAttribute(\"class\", \"cesium-button cesium-infoBox-custom\");\n      notifyButton.innerHTML = icon(faBell).html;\n      notifyButton.addEventListener(\"click\", () => {\n        if (this.sats.selectedSatellite) {\n          this.sats.getSatellite(this.sats.selectedSatellite).props.notifyPasses();\n        } else if (this.sats.groundStationAvailable && this.sats.groundStation.isSelected) {\n          this.sats.enabledSatellites.forEach((sat) => {\n            sat.props.notifyPasses();\n          });\n        }\n      });\n      container.appendChild(notifyButton);\n\n      // Info button\n      const infoButton = document.createElement(\"button\");\n      infoButton.setAttribute(\"type\", \"button\");\n      infoButton.setAttribute(\"class\", \"cesium-button cesium-infoBox-custom\");\n      infoButton.innerHTML = icon(faInfo).html;\n      infoButton.addEventListener(\"click\", () => {\n        if (!this.sats.selectedSatellite) {\n          return;\n        }\n        const { satnum } = this.sats.getSatellite(this.sats.selectedSatellite).props;\n        const url = `https://www.n2yo.com/satellite/?s=${satnum}`;\n        window.open(url, \"_blank\", \"noopener\");\n      });\n      container.appendChild(infoButton);\n    }\n\n    const { frame } = this.viewer.infoBox;\n    frame.addEventListener(\"load\", () => {\n      // Inline infobox css as iframe does not use service worker\n      const { head } = frame.contentDocument;\n      const links = head.getElementsByTagName(\"link\");\n      [...links].forEach((link) => {\n        head.removeChild(link);\n      });\n\n      const style = frame.contentDocument.createElement(\"style\");\n      const css = infoBoxCss.toString();\n      const node = document.createTextNode(css);\n      style.appendChild(node);\n      head.appendChild(style);\n    }, false);\n  }\n}\n","import { createApp, markRaw } from \"vue\";\nimport { createPinia } from \"pinia\";\nimport { Workbox } from \"workbox-window\";\nimport { Tooltip } from \"@oruga-ui/oruga-next\";\nimport Toast from \"vue-toastification\";\nimport * as Sentry from \"@sentry/browser\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\nimport { faLayerGroup, faGlobeAfrica, faMobileAlt, faHammer, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\";\n\nimport App from \"./App.vue\";\nimport router from \"./components/Router\";\nimport piniaUrlSync from \"./modules/util/pinia-plugin-url-sync\";\nimport { CesiumController } from \"./modules/CesiumController\";\n\nfunction satvisSetup(customConfig = {}) {\n  // Enable sentry for production version\n  if (window.location.href.includes(\"satvis.space\")) {\n    Sentry.init({ dsn: \"https://d17adce0cef2411aa49e3fc6d6ec0aa7@o294643.ingest.sentry.io/1541793\" });\n  }\n\n  // Setup and init app\n  const app = createApp(App);\n  const cc = new CesiumController();\n  app.config.globalProperties.cc = cc;\n  const pinia = createPinia();\n  pinia.use(({ store }) => { store.router = markRaw(router); });\n  pinia.use(({ store }) => { store.customConfig = markRaw(customConfig); });\n  pinia.use(piniaUrlSync);\n  app.use(pinia);\n  app.use(router);\n  app.use(Tooltip);\n  app.use(Toast, {\n    position: \"bottom-right\",\n  });\n  library.add(faLayerGroup, faGlobeAfrica, faMobileAlt, faHammer, faEye, faGithub);\n  app.component(\"FontAwesomeIcon\", FontAwesomeIcon);\n  app.mount(\"#app\");\n\n  // Register service worker\n  if (\"serviceWorker\" in navigator && !window.location.href.includes(\"localhost\")) {\n    const wb = new Workbox(\"sw.js\");\n    wb.addEventListener(\"controlling\", (evt) => {\n      if (evt.isUpdate) {\n        console.log(\"Reloading page for latest content\");\n        window.location.reload();\n      }\n    });\n    wb.register();\n  }\n\n  return { app, cc };\n}\n\nexport default satvisSetup;\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_0___ = require(\"-!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-4!../../node_modules/cesium/Source/Widgets/InfoBox/InfoBoxDescription.css\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.ib h3 {\n    text-align: center;\n    margin-block-start: 10px;\n    margin-block-end: 10px;\n}\n\n.ib .ib-text {\n    text-align: center;\n}\n\n.ib .ib-code {\n    background: #f4f4f4;\n    color: #666;\n    font-size: 12px;\n    line-height: 1.5;\n    margin: 0px;\n    padding: 4px;\n    white-space: pre-wrap;\n}\n\n.ib .ib-code code {\n    background: inherit;\n}\n\n.ibt {\n    border-collapse: collapse;\n    border-radius: 6px;\n    width: 100%;\n}\n\n.ibt th, .ibt td {\n    border: 1px solid #6d6d6d;\n}\n\n.ibt th {\n    background-color: #4CAF50;\n    padding: 6px;\n}\n\n.ibt td {\n    text-align: center;\n    padding: 4px;\n}\n\n.ibt td:first-child, .ibt th:first-child {\n    text-align: left;\n}\n\n.ibt .ibt-right {\n    text-align: right;\n}\n\n.cesium-infoBox-description {\n    margin-right: 0px;\n    min-height: 200px;\n    max-height: 500px;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/infobox.ecss\"],\"names\":[],\"mappings\":\"AAEA;IACI,kBAAkB;IAClB,wBAAwB;IACxB,sBAAsB;AAC1B;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,mBAAmB;IACnB,WAAW;IACX,eAAe;IACf,gBAAgB;IAChB,WAAW;IACX,YAAY;IACZ,qBAAqB;AACzB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,yBAAyB;IACzB,kBAAkB;IAClB,WAAW;AACf;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;IACzB,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;IACjB,gBAAgB;IAChB,iCAAiC;AACrC\",\"sourcesContent\":[\"@import url(\\\"../../node_modules/cesium/Source/Widgets/InfoBox/InfoBoxDescription.css\\\");\\n\\n.ib h3 {\\n    text-align: center;\\n    margin-block-start: 10px;\\n    margin-block-end: 10px;\\n}\\n\\n.ib .ib-text {\\n    text-align: center;\\n}\\n\\n.ib .ib-code {\\n    background: #f4f4f4;\\n    color: #666;\\n    font-size: 12px;\\n    line-height: 1.5;\\n    margin: 0px;\\n    padding: 4px;\\n    white-space: pre-wrap;\\n}\\n\\n.ib .ib-code code {\\n    background: inherit;\\n}\\n\\n.ibt {\\n    border-collapse: collapse;\\n    border-radius: 6px;\\n    width: 100%;\\n}\\n\\n.ibt th, .ibt td {\\n    border: 1px solid #6d6d6d;\\n}\\n\\n.ibt th {\\n    background-color: #4CAF50;\\n    padding: 6px;\\n}\\n\\n.ibt td {\\n    text-align: center;\\n    padding: 4px;\\n}\\n\\n.ibt td:first-child, .ibt th:first-child {\\n    text-align: left;\\n}\\n\\n.ibt .ibt-right {\\n    text-align: right;\\n}\\n\\n.cesium-infoBox-description {\\n    margin-right: 0px;\\n    min-height: 200px;\\n    max-height: 500px;\\n    overflow-y: auto;\\n    -webkit-overflow-scrolling: touch;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","id","_createElementVNode","href","target","rel","useCesiumStore","defineStore","state","layers","terrainProvider","sceneMode","cameraMode","qualityPreset","background","showFps","pickMode","urlsync","enabled","config","name","url","serialize","v","join","deserialize","split","filter","e","default","useSatStore","enabledComponents","availableSatellitesByTag","availableTags","enabledSatellites","enabledTags","groundstation","trackedSatellite","replaceAll","map","c","toFixed","parseFloat","components","VueMultiselect","data","computed","mapWritableState","availableSatellites","satlist","Object","keys","this","tag","sats","length","satellitesEnabledByTag","getSatellitesFromTags","allEnabledSatellites","get","concat","set","some","sat","includes","satellitesInEnabledTags","cc","watch","tags","satellite","methods","taglist","flat","_hoisted_2","_hoisted_3","_component_vue_multiselect","_ctx","$event","options","multiple","searchable","placeholder","_hoisted_4","_hoisted_5","$options","limit","count","noResult","_withCtx","DeviceDetect","static","window","self","top","matchMedia","matches","userAgent","navigator","toLowerCase","test","standalone","isIos","getiPhoneModel","isiPhoneWithNotch","isInStandaloneMode","isSafari","ratio","devicePixelRatio","screen","height","width","SatelliteSelect","menu","cat","gs","ios","dbg","showUI","tooltipTriggers","canHover","handler","newLayers","oldLayers","newBaseLayers","layer","baseLayers","oldBaseLayers","imageryLayers","deep","newProvider","newMode","value","newComponents","newPosition","oldPosition","setGroundStationFromLatLon","mounted","$route","query","time","setTime","inIframe","toggleMenu","oldState","forEach","k","toggleUI","minimalUI","_component_o_tooltip","label","triggers","$data","position","type","onClick","_cache","_component_font_awesome_icon","icon","_createBlock","_hoisted_8","_component_satellite_select","_hoisted_9","_hoisted_10","_Fragment","_renderList","availableComponents","componentName","key","_hoisted_12","_toDisplayString","_createCommentVNode","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","setGroundStationFromGeolocation","_hoisted_18","focusGroundStation","_hoisted_19","_hoisted_20","imageryProviderNames","_hoisted_22","_hoisted_23","terrainProviders","_hoisted_25","_hoisted_26","sceneModes","_hoisted_28","_hoisted_29","cameraModes","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","viewer","scene","useWebVR","_hoisted_35","_hoisted_36","clock","shouldAnimate","_hoisted_37","_hoisted_38","clockViewModel","multiplier","_hoisted_39","_hoisted_40","$router","go","path","force","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","requestRenderMode","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","fog","_hoisted_50","_hoisted_51","globe","enableLighting","_hoisted_52","_hoisted_53","highDynamicRange","_hoisted_54","_hoisted_55","showGroundAtmosphere","_hoisted_56","_hoisted_57","jumpTo","_hoisted_58","_hoisted_59","_hoisted_60","arguments","createRouter","history","createWebHistory","document","location","pathname","match","routes","component","Satvis","defaultSerialize","String","defaultDeserialize","_ref2","store","router","isReady","then","syncConfig","customConfig","route","currentRoute","defaults","$id","entries","_ref","val","param","console","info","valid","TypeError","error","undefined","replace","urlToState","$subscribe","params","URLSearchParams","search","obj","separator","Array","isArray","reduce","prev","curr","resolve","delete","pushState","toString","stateToUrl","CesiumPerformanceStats","constructor","logContinuously","sampleCount","idx","postRenderTimes","discardNext","avgFps","avgFrameTime","worstFrameTime","preUpdate","addEventListener","performance","mark","postRender","getTimestamp","calculateStats","log","formatStats","measure","i","frametime","duration","reset","getStats","fmt","n","padStart","deg2rad","Math","PI","rad2deg","Orbit","tle","satrec","satellitejs","satnum","orbitalPeriod","meanMotionRad","no","positionECI","positionECF","positionEci","gmst","positionGeodetic","timestamp","calculateVelocity","velocity","velocityVector","positionGd","longitude","latitude","sqrt","x","y","z","computePassesElevation","groundStationPosition","startDate","dayjs","toDate","endDate","add","minElevation","maxPasses","groundStation","date","Date","passes","pass","ongoingPass","lastElevation","positionEcf","lookAngles","elevation","maxElevation","apex","getTime","azimuthApex","azimuth","start","azimuthStart","setSeconds","getSeconds","end","azimuthEnd","push","setMinutes","getMinutes","deltaElevation","PushManager","timers","available","Notification","permission","requestPermission","result","active","clearTimers","timer","clearTimeout","persistentNotification","message","optionsMerged","serviceWorker","getRegistration","reg","showNotification","catch","err","notifyInMs","ms","setTimeout","notifyAtDate","waitMs","diff","abs","unix","content","delay","webkit","messageHandlers","iosNotify","postMessage","SampledPositionProperty","prototype","getRawValues","times","_property","_times","innerType","_innerType","values","_values","startIndex","binarySearch","JulianDate","compare","endIndex","unpack","packedLength","CesiumCallbackHelper","refreshRate","callback","event","onTick","ticks","currentTime","lastUpdated","Cesium","secondsDifference","SatelliteProperties","trim","startsWith","substring","orbit","passInterval","passIntervals","pm","satvisIcon","hasTag","addTags","Set","sampledPosition","fixed","getValue","getSampledInertialPositionsForNextOrbit","addSeconds","positions","inertial","createSampledPosition","updateSampledPosition","samplingRefreshRate","removeCallback","createPeriodicTimeCallback","samplingInterval","request","stop","contains","interval","initSampledPosition","intersect","missingSecondsEnd","missingSecondsStart","samplingStart","samplingStop","addSamples","removeBefore","fromIso8601","isStartIncluded","isStopIncluded","removeAfter","removeSamples","backwardExtrapolationType","HOLD","forwardExtrapolationType","setInterpolationOptions","interpolationDegree","interpolationAlgorithm","INERTIAL","positionsFixed","positionsInertial","positionFixed","positionInertial","computePosition","computePositionInertialTEME","eci","ZERO","positionInertialTEME","temeToFixed","computeTemeToPseudoFixedMatrix","multiplyByVector","fixedToIcrf","computeFixedToIcrfMatrix","groundTrack","julianDate","stopTime","cartographic","fromCartesian","groudPosition","fromRadians","groundStationAvailable","updatePasses","addDays","clone","stopPrediction","computePassIntervals","clearPasses","passIntervalArray","startJulian","fromDate","endJulian","notifyPasses","aheadMin","toast","useToast","warning","startOf","subtract","success","CesiumComponentCollection","lazy","componentNames","created","show","enableComponent","hide","disableComponent","entities","primitives","geometries","recreateGeometryInstancePrimitive","defaultEntity","remove","geometry","primitivePendingUpdate","createPeriodicTickCallback","primitivePendingCreation","primitive","requestRender","geometryInstances","appearance","lastState","readyCallback","ready","_state","update","frameState","icrfToFixed","computeIcrfToFixedMatrix","modelMatrix","fromRotationTranslation","visibleComponents","isSelected","entity","selectedEntity","isTracked","trackedEntity","track","animate","clockRunning","flyTo","offset","PI_OVER_FOUR","setSelectedOnTickCallback","onTickCallback","onUnselectCallback","onTickEventRemovalCallback","onSelectedEntityChangedRemovalCallback","selectedEntityChanged","setTrackedOnTickCallback","onUntrackCallback","onTrackedEntityChangedRemovalCallback","trackedEntityChanged","artificiallyTrack","cameraTracker","ellipsoid","toRadians","createCesiumEntity","entityKey","entityValue","description","moving","viewFrom","orientation","CesiumTimelineHelper","timeline","_highlightRanges","updateFromClock","zoomTo","startTime","ranges","range","addHighlightRange","BLUE","setRange","clearHighlightRanges","addHighlightRanges","relativeTime","DescriptionHelper","cache","updateTreshold","usageTreshold","equalsEpsilon","usage","isGroundStation","renderPasses","renderTLE","upcomingPassIdx","findIndex","isAfter","upcomingPasses","slice","showPassName","renderPass","pad2","num","countdown","format","SatelliteComponentCollection","super","props","eventListeners","init","createComponent","updatedSampledPositionForComponents","Label","pixelOffset","orbitPrimitiveUpdater","geometryPrimitiveUpdater","deinit","createDescription","updateHighlightRanges","isCorrectOrbitComponent","hpr","headingPitchRollQuaternion","createPoint","createLabel","createOrbit","createOrbitTrack","createGroundTrack","createCone","createModel","createGroundStationLink","cachedCallbackProperty","renderDescription","createCesiumSatelliteEntity","entityName","point","pixelSize","color","WHITE","outlineColor","DIMGREY","outlineWidth","createBox","size","box","dimensions","material","model","uri","minimumPixelSize","maximumScale","text","font","style","FILL_AND_OUTLINE","horizontalOrigin","LEFT","distanceDisplayCondition","translucencyByDistance","createOrbitPath","createOrbitPolylineGeometry","leadTime","trailTime","withAlpha","resolution","createOrbitPolylinePrimitive","arcType","NONE","vertexFormat","VERTEX_FORMAT","attributes","fromColor","asynchronous","geometryInstance","GOLD","corridor","cornerType","MITERED","ORANGE","fov","addProperty","conicSensor","CesiumSensorVolumes","ConicSensorGraphics","radius","innerHalfAngle","outerHalfAngle","lateralSurfaceMaterial","intersectionColor","intersectionWidth","polyline","followSurface","glowPower","FORESTGREEN","cartesian","GroundStationEntity","createEntities","createGroundStation","billboard","image","CENTER","verticalOrigin","BOTTOM","scaleByDistance","deltaHours","visibleSatellites","sort","a","b","CesiumCleanupHelper","labelCollection","_primitives","_labelCollection","_spareBillboards","_billboardCollection","SatelliteManager","satellites","getSatellite","addFromTleUrls","urlTagList","promises","addFromTleUrl","Promise","all","updateStore","fetch","mode","response","ok","Error","statusText","lines","splice","addFromTle","newSat","existingSat","find","satIsActive","pendingTrackedSatellite","satStore","selectedSatellite","monitoredSatellites","satelliteNames","newSats","showEnabledSatellites","getSatellitesWithTag","enabledByTag","enabledByName","activeSatellites","cleanup","newTags","oldComponents","del","setGroundStation","utc","CesiumController","initConstants","preloadReferenceFrameData","Viewer","animation","baseLayerPicker","fullscreenButton","fullscreenElement","body","geocoder","homeButton","sceneModePicker","baseLayer","createImageryLayer","navigationHelpButton","navigationInstructionsInitiallyVisible","selectionIndicator","vrButton","contextOptions","webgl","alpha","maximumRenderTimeChange","createInputHandler","addErrorHandler","styleInfoBox","creditDisplay","addStaticCredit","fixLogo","activeLayers","imageryProviders","Offline","create","fromUrl","base","OfflineHighres","maximumLevel","credit","ArcGis","OSM","BlackMarble","tileMatrixSetID","tileWidth","tileHeight","Tiles","parameters","transparent","Nextrad","timeInterval","now","preloadIcrfFixed","overlayLayers","_ref3","_ref4","newLayerNames","clearImageryLayers","layerName","removeAll","imageryProviderName","provider","fromProviderAsync","morphTo3D","morphTo2D","morphToColumbusView","terrainProviderName","requestVertexNormals","camera","lookAt","lookAtTransform","IDENTITY","postUpdate","cameraTrackEci","removeEventListener","SCENE3D","transform","current","toISOString","canvas","setInputAction","setGroundStationFromClickEvent","LEFT_CLICK","pickEllipsoid","coordinates","cartographicPosition","toDegrees","geolocation","getCurrentPosition","coords","altitude","fromDegrees","lat","lon","_animation","container","visibility","_timeline","_fullscreenButton","_container","_vrButton","_bottomContainer","left","oldBottomContainerStyleLeft","bottom","isiPhoneWithNotchVisible","quality","useBrowserRecommendedResolution","debugShowFramesPerSecond","backgroundColor","TRANSPARENT","moon","skyAtmosphere","skyBox","sun","documentElement","getElementById","enablePerformanceStats","performanceStats","rethrowRenderErrors","renderError","Sentry","widget","cesiumWidget","proxied","showErrorPanel","title","apply","infoBox","getElementsByClassName","close","createElement","setAttribute","insertBefore","notifyButton","innerHTML","faBell","html","appendChild","infoButton","faInfo","open","frame","head","contentDocument","getElementsByTagName","link","removeChild","css","infoBoxCss","node","createTextNode","dsn","app","createApp","App","globalProperties","pinia","createPinia","use","markRaw","piniaUrlSync","Tooltip","Toast","library","faLayerGroup","faGlobeAfrica","faMobileAlt","faHammer","faEye","faGithub","FontAwesomeIcon","mount","wb","Workbox","evt","isUpdate","reload","register","___CSS_LOADER_API_SOURCEMAP_IMPORT___","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_AT_RULE_IMPORT_0___","___CSS_LOADER_EXPORT___","module","exports"],"sourceRoot":""}