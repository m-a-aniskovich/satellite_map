define(["exports","./Matrix3-41c58dde","./defaultValue-fe22d8c0","./Check-6ede7e26","./Transforms-e2d4a55a","./Math-0a2ac845"],(function(e,r,t,n,i,a){"use strict";const o={};function s(e,r,t){const n=e+r;return a.CesiumMath.sign(e)!==a.CesiumMath.sign(r)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(r)))<t?0:n}o.computeDiscriminant=function(e,r,t){if("number"!=typeof e)throw new n.DeveloperError("a is a required number.");if("number"!=typeof r)throw new n.DeveloperError("b is a required number.");if("number"!=typeof t)throw new n.DeveloperError("c is a required number.");return r*r-4*e*t},o.computeRealRoots=function(e,r,t){if("number"!=typeof e)throw new n.DeveloperError("a is a required number.");if("number"!=typeof r)throw new n.DeveloperError("b is a required number.");if("number"!=typeof t)throw new n.DeveloperError("c is a required number.");let i;if(0===e)return 0===r?[]:[-t/r];if(0===r){if(0===t)return[0,0];const r=Math.abs(t),n=Math.abs(e);if(r<n&&r/n<a.CesiumMath.EPSILON14)return[0,0];if(r>n&&n/r<a.CesiumMath.EPSILON14)return[];if(i=-t/e,i<0)return[];const o=Math.sqrt(i);return[-o,o]}if(0===t)return i=-r/e,i<0?[i,0]:[0,i];const o=s(r*r,-4*e*t,a.CesiumMath.EPSILON14);if(o<0)return[];const u=-.5*s(r,a.CesiumMath.sign(r)*Math.sqrt(o),a.CesiumMath.EPSILON14);return r>0?[u/e,t/u]:[t/u,u/e]};var u=o;const c={};function d(e,r,t,n){const i=e,a=r/3,o=t/3,s=n,u=i*o,c=a*s,d=a*a,l=o*o,f=i*o-d,h=i*s-a*o,m=a*s-l,p=4*f*m-h*h;let C,w;if(p<0){let e,r,t;d*c>=u*l?(e=i,r=f,t=-2*a*f+i*h):(e=s,r=m,t=-s*h+2*o*m);const n=-(t<0?-1:1)*Math.abs(e)*Math.sqrt(-p);w=-t+n;const M=w/2,b=M<0?-Math.pow(-M,1/3):Math.pow(M,1/3),g=w===n?-b:-r/b;return C=r<=0?b+g:-t/(b*b+g*g+r),d*c>=u*l?[(C-a)/i]:[-s/(C+o)]}const M=f,b=-2*a*f+i*h,g=m,q=-s*h+2*o*m,E=Math.sqrt(p),y=Math.sqrt(3)/2;let v=Math.abs(Math.atan2(i*E,-b)/3);C=2*Math.sqrt(-M);let D=Math.cos(v);w=C*D;let R=C*(-D/2-y*Math.sin(v));const S=w+R>2*a?w-a:R-a,O=i,x=S/O;v=Math.abs(Math.atan2(s*E,-q)/3),C=2*Math.sqrt(-g),D=Math.cos(v),w=C*D,R=C*(-D/2-y*Math.sin(v));const P=-s,N=w+R<2*o?w+o:R+o,L=P/N,I=-S*N-O*P,z=(o*I-a*(S*P))/(-a*I+o*(O*N));return x<=z?x<=L?z<=L?[x,z,L]:[x,L,z]:[L,x,z]:x<=L?[z,x,L]:z<=L?[z,L,x]:[L,z,x]}c.computeDiscriminant=function(e,r,t,i){if("number"!=typeof e)throw new n.DeveloperError("a is a required number.");if("number"!=typeof r)throw new n.DeveloperError("b is a required number.");if("number"!=typeof t)throw new n.DeveloperError("c is a required number.");if("number"!=typeof i)throw new n.DeveloperError("d is a required number.");const a=r*r,o=t*t;return 18*e*r*t*i+a*o-e*e*27*(i*i)-4*(e*o*t+a*r*i)},c.computeRealRoots=function(e,r,t,i){if("number"!=typeof e)throw new n.DeveloperError("a is a required number.");if("number"!=typeof r)throw new n.DeveloperError("b is a required number.");if("number"!=typeof t)throw new n.DeveloperError("c is a required number.");if("number"!=typeof i)throw new n.DeveloperError("d is a required number.");let a,o;if(0===e)return u.computeRealRoots(r,t,i);if(0===r){if(0===t){if(0===i)return[0,0,0];o=-i/e;const r=o<0?-Math.pow(-o,1/3):Math.pow(o,1/3);return[r,r,r]}return 0===i?(a=u.computeRealRoots(e,0,t),0===a.Length?[0]:[a[0],0,a[1]]):d(e,0,t,i)}return 0===t?0===i?(o=-r/e,o<0?[o,0,0]:[0,0,o]):d(e,r,0,i):0===i?(a=u.computeRealRoots(e,r,t),0===a.length?[0]:a[1]<=0?[a[0],a[1],0]:a[0]>=0?[0,a[0],a[1]]:[a[0],0,a[1]]):d(e,r,t,i)};var l=c;const f={};f.computeDiscriminant=function(e,r,t,i,a){if("number"!=typeof e)throw new n.DeveloperError("a is a required number.");if("number"!=typeof r)throw new n.DeveloperError("b is a required number.");if("number"!=typeof t)throw new n.DeveloperError("c is a required number.");if("number"!=typeof i)throw new n.DeveloperError("d is a required number.");if("number"!=typeof a)throw new n.DeveloperError("e is a required number.");const o=e*e,s=r*r,u=s*r,c=t*t,d=c*t,l=i*i,f=l*i,h=a*a;return s*c*l-4*u*f-4*e*d*l+18*e*r*t*f-27*o*l*l+o*e*256*(h*a)+a*(18*u*t*i-4*s*d+16*e*c*c-80*e*r*c*i-6*e*s*l+144*o*t*l)+h*(144*e*s*t-27*s*s-128*o*c-192*o*r*i)},f.computeRealRoots=function(e,r,t,i,o){if("number"!=typeof e)throw new n.DeveloperError("a is a required number.");if("number"!=typeof r)throw new n.DeveloperError("b is a required number.");if("number"!=typeof t)throw new n.DeveloperError("c is a required number.");if("number"!=typeof i)throw new n.DeveloperError("d is a required number.");if("number"!=typeof o)throw new n.DeveloperError("e is a required number.");if(Math.abs(e)<a.CesiumMath.EPSILON15)return l.computeRealRoots(r,t,i,o);const s=r/e,c=t/e,d=i/e,f=o/e;let h=s<0?1:0;switch(h+=c<0?h+1:h,h+=d<0?h+1:h,h+=f<0?h+1:h,h){case 0:case 3:case 4:case 6:case 7:case 9:case 10:case 12:case 13:case 14:case 15:return function(e,r,t,n){const i=e*e,o=r-3*i/8,s=t-r*e/2+i*e/8,c=n-t*e/4+r*i/16-3*i*i/256,d=l.computeRealRoots(1,2*o,o*o-4*c,-s*s);if(d.length>0){const r=-e/4,t=d[d.length-1];if(Math.abs(t)<a.CesiumMath.EPSILON14){const e=u.computeRealRoots(1,o,c);if(2===e.length){const t=e[0],n=e[1];let i;if(t>=0&&n>=0){const e=Math.sqrt(t),i=Math.sqrt(n);return[r-i,r-e,r+e,r+i]}if(t>=0&&n<0)return i=Math.sqrt(t),[r-i,r+i];if(t<0&&n>=0)return i=Math.sqrt(n),[r-i,r+i]}return[]}if(t>0){const e=Math.sqrt(t),n=(o+t-s/e)/2,i=(o+t+s/e)/2,a=u.computeRealRoots(1,e,n),c=u.computeRealRoots(1,-e,i);return 0!==a.length?(a[0]+=r,a[1]+=r,0!==c.length?(c[0]+=r,c[1]+=r,a[1]<=c[0]?[a[0],a[1],c[0],c[1]]:c[1]<=a[0]?[c[0],c[1],a[0],a[1]]:a[0]>=c[0]&&a[1]<=c[1]?[c[0],a[0],a[1],c[1]]:c[0]>=a[0]&&c[1]<=a[1]?[a[0],c[0],c[1],a[1]]:a[0]>c[0]&&a[0]<c[1]?[c[0],a[0],c[1],a[1]]:[a[0],c[0],a[1],c[1]]):a):0!==c.length?(c[0]+=r,c[1]+=r,c):[]}}return[]}(s,c,d,f);case 1:case 2:case 5:case 8:case 11:return function(e,r,t,n){const i=e*e,o=-2*r,s=t*e+r*r-4*n,c=i*n-t*r*e+t*t,d=l.computeRealRoots(1,o,s,c);if(d.length>0){const o=d[0],s=r-o,c=s*s,l=e/2,f=s/2,h=c-4*n,m=c+4*Math.abs(n),p=i-4*o,C=i+4*Math.abs(o);let w,M,b,g,q,E;if(o<0||h*C<p*m){const r=Math.sqrt(p);w=r/2,M=0===r?0:(e*f-t)/r}else{const r=Math.sqrt(h);w=0===r?0:(e*f-t)/r,M=r/2}0===l&&0===w?(b=0,g=0):a.CesiumMath.sign(l)===a.CesiumMath.sign(w)?(b=l+w,g=o/b):(g=l-w,b=o/g),0===f&&0===M?(q=0,E=0):a.CesiumMath.sign(f)===a.CesiumMath.sign(M)?(q=f+M,E=n/q):(E=f-M,q=n/E);const y=u.computeRealRoots(1,b,q),v=u.computeRealRoots(1,g,E);if(0!==y.length)return 0!==v.length?y[1]<=v[0]?[y[0],y[1],v[0],v[1]]:v[1]<=y[0]?[v[0],v[1],y[0],y[1]]:y[0]>=v[0]&&y[1]<=v[1]?[v[0],y[0],y[1],v[1]]:v[0]>=y[0]&&v[1]<=y[1]?[y[0],v[0],v[1],y[1]]:y[0]>v[0]&&y[0]<v[1]?[v[0],y[0],v[1],y[1]]:[y[0],v[0],y[1],v[1]]:y;if(0!==v.length)return v}return[]}(s,c,d,f);default:return}};var h=f;function m(e,n){n=r.Cartesian3.clone(t.defaultValue(n,r.Cartesian3.ZERO)),r.Cartesian3.equals(n,r.Cartesian3.ZERO)||r.Cartesian3.normalize(n,n),this.origin=r.Cartesian3.clone(t.defaultValue(e,r.Cartesian3.ZERO)),this.direction=n}m.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.origin=r.Cartesian3.clone(e.origin),n.direction=r.Cartesian3.clone(e.direction),n):new m(e.origin,e.direction)},m.getPoint=function(e,i,a){return n.Check.typeOf.object("ray",e),n.Check.typeOf.number("t",i),t.defined(a)||(a=new r.Cartesian3),a=r.Cartesian3.multiplyByScalar(e.direction,i,a),r.Cartesian3.add(e.origin,a,a)};const p={rayPlane:function(e,i,o){if(!t.defined(e))throw new n.DeveloperError("ray is required.");if(!t.defined(i))throw new n.DeveloperError("plane is required.");t.defined(o)||(o=new r.Cartesian3);const s=e.origin,u=e.direction,c=i.normal,d=r.Cartesian3.dot(c,u);if(Math.abs(d)<a.CesiumMath.EPSILON15)return;const l=(-i.distance-r.Cartesian3.dot(c,s))/d;return l<0?void 0:(o=r.Cartesian3.multiplyByScalar(u,l,o),r.Cartesian3.add(s,o,o))}},C=new r.Cartesian3,w=new r.Cartesian3,M=new r.Cartesian3,b=new r.Cartesian3,g=new r.Cartesian3;p.rayTriangleParametric=function(e,i,o,s,u){if(!t.defined(e))throw new n.DeveloperError("ray is required.");if(!t.defined(i))throw new n.DeveloperError("p0 is required.");if(!t.defined(o))throw new n.DeveloperError("p1 is required.");if(!t.defined(s))throw new n.DeveloperError("p2 is required.");u=t.defaultValue(u,!1);const c=e.origin,d=e.direction,l=r.Cartesian3.subtract(o,i,C),f=r.Cartesian3.subtract(s,i,w),h=r.Cartesian3.cross(d,f,M),m=r.Cartesian3.dot(l,h);let p,q,E,y,v;if(u){if(m<a.CesiumMath.EPSILON6)return;if(p=r.Cartesian3.subtract(c,i,b),E=r.Cartesian3.dot(p,h),E<0||E>m)return;if(q=r.Cartesian3.cross(p,l,g),y=r.Cartesian3.dot(d,q),y<0||E+y>m)return;v=r.Cartesian3.dot(f,q)/m}else{if(Math.abs(m)<a.CesiumMath.EPSILON6)return;const e=1/m;if(p=r.Cartesian3.subtract(c,i,b),E=r.Cartesian3.dot(p,h)*e,E<0||E>1)return;if(q=r.Cartesian3.cross(p,l,g),y=r.Cartesian3.dot(d,q)*e,y<0||E+y>1)return;v=r.Cartesian3.dot(f,q)*e}return v},p.rayTriangle=function(e,n,i,a,o,s){const u=p.rayTriangleParametric(e,n,i,a,o);if(t.defined(u)&&!(u<0))return t.defined(s)||(s=new r.Cartesian3),r.Cartesian3.multiplyByScalar(e.direction,u,s),r.Cartesian3.add(e.origin,s,s)};const q=new m;p.lineSegmentTriangle=function(e,i,a,o,s,u,c){if(!t.defined(e))throw new n.DeveloperError("v0 is required.");if(!t.defined(i))throw new n.DeveloperError("v1 is required.");if(!t.defined(a))throw new n.DeveloperError("p0 is required.");if(!t.defined(o))throw new n.DeveloperError("p1 is required.");if(!t.defined(s))throw new n.DeveloperError("p2 is required.");const d=q;r.Cartesian3.clone(e,d.origin),r.Cartesian3.subtract(i,e,d.direction),r.Cartesian3.normalize(d.direction,d.direction);const l=p.rayTriangleParametric(d,a,o,s,u);if(!(!t.defined(l)||l<0||l>r.Cartesian3.distance(e,i)))return t.defined(c)||(c=new r.Cartesian3),r.Cartesian3.multiplyByScalar(d.direction,l,c),r.Cartesian3.add(d.origin,c,c)};const E={root0:0,root1:0};function y(e,n,a){t.defined(a)||(a=new i.Interval);const o=e.origin,s=e.direction,u=n.center,c=n.radius*n.radius,d=r.Cartesian3.subtract(o,u,M),l=function(e,r,t,n){const i=r*r-4*e*t;if(i<0)return;if(i>0){const t=1/(2*e),a=Math.sqrt(i),o=(-r+a)*t,s=(-r-a)*t;return o<s?(n.root0=o,n.root1=s):(n.root0=s,n.root1=o),n}const a=-r/(2*e);return 0!==a?(n.root0=n.root1=a,n):void 0}(r.Cartesian3.dot(s,s),2*r.Cartesian3.dot(s,d),r.Cartesian3.magnitudeSquared(d)-c,E);if(t.defined(l))return a.start=l.root0,a.stop=l.root1,a}p.raySphere=function(e,r,i){if(!t.defined(e))throw new n.DeveloperError("ray is required.");if(!t.defined(r))throw new n.DeveloperError("sphere is required.");if(i=y(e,r,i),t.defined(i)&&!(i.stop<0))return i.start=Math.max(i.start,0),i};const v=new m;p.lineSegmentSphere=function(e,i,a,o){if(!t.defined(e))throw new n.DeveloperError("p0 is required.");if(!t.defined(i))throw new n.DeveloperError("p1 is required.");if(!t.defined(a))throw new n.DeveloperError("sphere is required.");const s=v;r.Cartesian3.clone(e,s.origin);const u=r.Cartesian3.subtract(i,e,s.direction),c=r.Cartesian3.magnitude(u);if(r.Cartesian3.normalize(u,u),o=y(s,a,o),!(!t.defined(o)||o.stop<0||o.start>c))return o.start=Math.max(o.start,0),o.stop=Math.min(o.stop,c),o};const D=new r.Cartesian3,R=new r.Cartesian3;function S(e,r,t){const n=e+r;return a.CesiumMath.sign(e)!==a.CesiumMath.sign(r)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(r)))<t?0:n}p.rayEllipsoid=function(e,a){if(!t.defined(e))throw new n.DeveloperError("ray is required.");if(!t.defined(a))throw new n.DeveloperError("ellipsoid is required.");const o=a.oneOverRadii,s=r.Cartesian3.multiplyComponents(o,e.origin,D),u=r.Cartesian3.multiplyComponents(o,e.direction,R),c=r.Cartesian3.magnitudeSquared(s),d=r.Cartesian3.dot(s,u);let l,f,h,m,p;if(c>1){if(d>=0)return;const e=d*d;if(l=c-1,f=r.Cartesian3.magnitudeSquared(u),h=f*l,e<h)return;if(e>h){m=d*d-h,p=-d+Math.sqrt(m);const e=p/f,r=l/p;return e<r?new i.Interval(e,r):{start:r,stop:e}}const t=Math.sqrt(l/f);return new i.Interval(t,t)}return c<1?(l=c-1,f=r.Cartesian3.magnitudeSquared(u),h=f*l,m=d*d-h,p=-d+Math.sqrt(m),new i.Interval(0,p/f)):d<0?(f=r.Cartesian3.magnitudeSquared(u),new i.Interval(0,-d/f)):void 0};const O=new r.Cartesian3,x=new r.Cartesian3,P=new r.Cartesian3,N=new r.Cartesian3,L=new r.Cartesian3,I=new r.Matrix3,z=new r.Matrix3,T=new r.Matrix3,U=new r.Matrix3,W=new r.Matrix3,B=new r.Matrix3,V=new r.Matrix3,Z=new r.Cartesian3,k=new r.Cartesian3,A=new r.Cartographic;p.grazingAltitudeLocation=function(e,i){if(!t.defined(e))throw new n.DeveloperError("ray is required.");if(!t.defined(i))throw new n.DeveloperError("ellipsoid is required.");const o=e.origin,s=e.direction;if(!r.Cartesian3.equals(o,r.Cartesian3.ZERO)){const e=i.geodeticSurfaceNormal(o,O);if(r.Cartesian3.dot(s,e)>=0)return o}const c=t.defined(this.rayEllipsoid(e,i)),d=i.transformPositionToScaledSpace(s,O),l=r.Cartesian3.normalize(d,d),f=r.Cartesian3.mostOrthogonalAxis(d,N),m=r.Cartesian3.normalize(r.Cartesian3.cross(f,l,x),x),p=r.Cartesian3.normalize(r.Cartesian3.cross(l,m,P),P),C=I;C[0]=l.x,C[1]=l.y,C[2]=l.z,C[3]=m.x,C[4]=m.y,C[5]=m.z,C[6]=p.x,C[7]=p.y,C[8]=p.z;const w=r.Matrix3.transpose(C,z),M=r.Matrix3.fromScale(i.radii,T),b=r.Matrix3.fromScale(i.oneOverRadii,U),g=W;g[0]=0,g[1]=-s.z,g[2]=s.y,g[3]=s.z,g[4]=0,g[5]=-s.x,g[6]=-s.y,g[7]=s.x,g[8]=0;const q=r.Matrix3.multiply(r.Matrix3.multiply(w,b,B),g,B),E=r.Matrix3.multiply(r.Matrix3.multiply(q,M,V),C,V),y=r.Matrix3.multiplyByVector(q,o,L),v=function(e,t,n,i,o){const s=1*(e[r.Matrix3.COLUMN1ROW1]-e[r.Matrix3.COLUMN2ROW2]),c=1*(0*S(e[r.Matrix3.COLUMN1ROW0],e[r.Matrix3.COLUMN0ROW1],a.CesiumMath.EPSILON15)+t.y),d=0*e[r.Matrix3.COLUMN0ROW0]+1*e[r.Matrix3.COLUMN2ROW2]+0*t.x+0,l=1*S(e[r.Matrix3.COLUMN2ROW1],e[r.Matrix3.COLUMN1ROW2],a.CesiumMath.EPSILON15),f=1*(0*S(e[r.Matrix3.COLUMN2ROW0],e[r.Matrix3.COLUMN0ROW2])+t.z);let m;const p=[];if(0===f&&0===l){if(m=u.computeRealRoots(s,c,d),0===m.length)return p;const e=m[0],t=Math.sqrt(Math.max(1-e*e,0));if(p.push(new r.Cartesian3(0,1*e,1*-t)),p.push(new r.Cartesian3(0,1*e,1*t)),2===m.length){const e=m[1],t=Math.sqrt(Math.max(1-e*e,0));p.push(new r.Cartesian3(0,1*e,1*-t)),p.push(new r.Cartesian3(0,1*e,1*t))}return p}const C=f*f,w=l*l,M=f*l,b=s*s+w,g=2*(c*s+M),q=2*d*s+c*c-w+C,E=2*(d*c-M),y=d*d-C;if(0===b&&0===g&&0===q&&0===E)return p;m=h.computeRealRoots(b,g,q,E,y);const v=m.length;if(0===v)return p;for(let e=0;e<v;++e){const t=m[e],n=t*t,i=Math.max(1-n,0),o=Math.sqrt(i);let u;u=a.CesiumMath.sign(s)===a.CesiumMath.sign(d)?S(s*n+d,c*t,a.CesiumMath.EPSILON12):a.CesiumMath.sign(d)===a.CesiumMath.sign(c*t)?S(s*n,c*t+d,a.CesiumMath.EPSILON12):S(s*n+c*t,d,a.CesiumMath.EPSILON12);const h=u*S(l*t,f,a.CesiumMath.EPSILON15);h<0?p.push(new r.Cartesian3(0,1*t,1*o)):h>0?p.push(new r.Cartesian3(0,1*t,1*-o)):0!==o?(p.push(new r.Cartesian3(0,1*t,1*-o)),p.push(new r.Cartesian3(0,1*t,1*o)),++e):p.push(new r.Cartesian3(0,1*t,1*o))}return p}(E,r.Cartesian3.negate(y,O));let D,R;const j=v.length;if(j>0){let e=r.Cartesian3.clone(r.Cartesian3.ZERO,k),t=Number.NEGATIVE_INFINITY;for(let n=0;n<j;++n){D=r.Matrix3.multiplyByVector(M,r.Matrix3.multiplyByVector(C,v[n],Z),Z);const i=r.Cartesian3.normalize(r.Cartesian3.subtract(D,o,N),N),a=r.Cartesian3.dot(i,s);a>t&&(t=a,e=r.Cartesian3.clone(D,e))}const n=i.cartesianToCartographic(e,A);return t=a.CesiumMath.clamp(t,0,1),R=r.Cartesian3.magnitude(r.Cartesian3.subtract(e,o,N))*Math.sqrt(1-t*t),R=c?-R:R,n.height=R,i.cartographicToCartesian(n,new r.Cartesian3)}};const j=new r.Cartesian3;p.lineSegmentPlane=function(e,i,o,s){if(!t.defined(e))throw new n.DeveloperError("endPoint0 is required.");if(!t.defined(i))throw new n.DeveloperError("endPoint1 is required.");if(!t.defined(o))throw new n.DeveloperError("plane is required.");t.defined(s)||(s=new r.Cartesian3);const u=r.Cartesian3.subtract(i,e,j),c=o.normal,d=r.Cartesian3.dot(c,u);if(Math.abs(d)<a.CesiumMath.EPSILON6)return;const l=r.Cartesian3.dot(c,e),f=-(o.distance+l)/d;return f<0||f>1?void 0:(r.Cartesian3.multiplyByScalar(u,f,s),r.Cartesian3.add(e,s,s),s)},p.trianglePlaneIntersection=function(e,i,a,o){if(!(t.defined(e)&&t.defined(i)&&t.defined(a)&&t.defined(o)))throw new n.DeveloperError("p0, p1, p2, and plane are required.");const s=o.normal,u=o.distance,c=r.Cartesian3.dot(s,e)+u<0,d=r.Cartesian3.dot(s,i)+u<0,l=r.Cartesian3.dot(s,a)+u<0;let f,h,m=0;if(m+=c?1:0,m+=d?1:0,m+=l?1:0,1!==m&&2!==m||(f=new r.Cartesian3,h=new r.Cartesian3),1===m){if(c)return p.lineSegmentPlane(e,i,o,f),p.lineSegmentPlane(e,a,o,h),{positions:[e,i,a,f,h],indices:[0,3,4,1,2,4,1,4,3]};if(d)return p.lineSegmentPlane(i,a,o,f),p.lineSegmentPlane(i,e,o,h),{positions:[e,i,a,f,h],indices:[1,3,4,2,0,4,2,4,3]};if(l)return p.lineSegmentPlane(a,e,o,f),p.lineSegmentPlane(a,i,o,h),{positions:[e,i,a,f,h],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===m){if(!c)return p.lineSegmentPlane(i,e,o,f),p.lineSegmentPlane(a,e,o,h),{positions:[e,i,a,f,h],indices:[1,2,4,1,4,3,0,3,4]};if(!d)return p.lineSegmentPlane(a,i,o,f),p.lineSegmentPlane(e,i,o,h),{positions:[e,i,a,f,h],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return p.lineSegmentPlane(e,a,o,f),p.lineSegmentPlane(i,a,o,h),{positions:[e,i,a,f,h],indices:[0,1,4,0,4,3,2,3,4]}}};var F=p;e.IntersectionTests=F,e.Ray=m}));