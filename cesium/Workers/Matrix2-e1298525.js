define(["exports","./Matrix3-41c58dde","./Check-6ede7e26","./defaultValue-fe22d8c0","./Math-0a2ac845","./RuntimeError-ef395448"],(function(e,t,n,r,a,c){"use strict";function o(e,t,n,a){this.x=r.defaultValue(e,0),this.y=r.defaultValue(t,0),this.z=r.defaultValue(n,0),this.w=r.defaultValue(a,0)}o.fromElements=function(e,t,n,a,c){return r.defined(c)?(c.x=e,c.y=t,c.z=n,c.w=a,c):new o(e,t,n,a)},o.fromColor=function(e,t){return n.Check.typeOf.object("color",e),r.defined(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new o(e.red,e.green,e.blue,e.alpha)},o.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new o(e.x,e.y,e.z,e.w)},o.packedLength=4,o.pack=function(e,t,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",t),a=r.defaultValue(a,0),t[a++]=e.x,t[a++]=e.y,t[a++]=e.z,t[a]=e.w,t},o.unpack=function(e,t,a){return n.Check.defined("array",e),t=r.defaultValue(t,0),r.defined(a)||(a=new o),a.x=e[t++],a.y=e[t++],a.z=e[t++],a.w=e[t],a},o.packArray=function(e,t){n.Check.defined("array",e);const a=e.length,c=4*a;if(r.defined(t)){if(!Array.isArray(t)&&t.length!==c)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==c&&(t.length=c)}else t=new Array(c);for(let n=0;n<a;++n)o.pack(e[n],t,4*n);return t},o.unpackArray=function(e,t){if(n.Check.defined("array",e),n.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!=0)throw new n.DeveloperError("array length must be a multiple of 4.");const a=e.length;r.defined(t)?t.length=a/4:t=new Array(a/4);for(let n=0;n<a;n+=4){const r=n/4;t[r]=o.unpack(e,n,t[r])}return t},o.fromArray=o.unpack,o.maximumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z,e.w)},o.minimumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z,e.w)},o.minimumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r.z=Math.min(e.z,t.z),r.w=Math.min(e.w,t.w),r},o.maximumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r.z=Math.max(e.z,t.z),r.w=Math.max(e.w,t.w),r},o.clamp=function(e,t,r,c){n.Check.typeOf.object("value",e),n.Check.typeOf.object("min",t),n.Check.typeOf.object("max",r),n.Check.typeOf.object("result",c);const o=a.CesiumMath.clamp(e.x,t.x,r.x),u=a.CesiumMath.clamp(e.y,t.y,r.y),i=a.CesiumMath.clamp(e.z,t.z,r.z),s=a.CesiumMath.clamp(e.w,t.w,r.w);return c.x=o,c.y=u,c.z=i,c.w=s,c},o.magnitudeSquared=function(e){return n.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};const u=new o;o.distance=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),o.subtract(e,t,u),o.magnitude(u)},o.distanceSquared=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),o.subtract(e,t,u),o.magnitudeSquared(u)},o.normalize=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);const r=o.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,t.z=e.z/r,t.w=e.w/r,isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.w))throw new n.DeveloperError("normalized result is not a number");return t},o.dot=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},o.multiplyComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r.z=e.z*t.z,r.w=e.w*t.w,r},o.divideComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r.z=e.z/t.z,r.w=e.w/t.w,r},o.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},o.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},o.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},o.divideByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},o.negate=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},o.abs=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};const i=new o;o.lerp=function(e,t,r,a){return n.Check.typeOf.object("start",e),n.Check.typeOf.object("end",t),n.Check.typeOf.number("t",r),n.Check.typeOf.object("result",a),o.multiplyByScalar(t,r,i),a=o.multiplyByScalar(e,1-r,a),o.add(i,a,a)};const s=new o;o.mostOrthogonalAxis=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);const r=o.normalize(e,s);return o.abs(r,r),r.x<=r.y?r.x<=r.z?r.x<=r.w?o.clone(o.UNIT_X,t):o.clone(o.UNIT_W,t):r.z<=r.w?o.clone(o.UNIT_Z,t):o.clone(o.UNIT_W,t):r.y<=r.z?r.y<=r.w?o.clone(o.UNIT_Y,t):o.clone(o.UNIT_W,t):r.z<=r.w?o.clone(o.UNIT_Z,t):o.clone(o.UNIT_W,t)},o.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},o.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},o.equalsEpsilon=function(e,t,n,c){return e===t||r.defined(e)&&r.defined(t)&&a.CesiumMath.equalsEpsilon(e.x,t.x,n,c)&&a.CesiumMath.equalsEpsilon(e.y,t.y,n,c)&&a.CesiumMath.equalsEpsilon(e.z,t.z,n,c)&&a.CesiumMath.equalsEpsilon(e.w,t.w,n,c)},o.ZERO=Object.freeze(new o(0,0,0,0)),o.ONE=Object.freeze(new o(1,1,1,1)),o.UNIT_X=Object.freeze(new o(1,0,0,0)),o.UNIT_Y=Object.freeze(new o(0,1,0,0)),o.UNIT_Z=Object.freeze(new o(0,0,1,0)),o.UNIT_W=Object.freeze(new o(0,0,0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,n){return o.equalsEpsilon(this,e,t,n)},o.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const h=new Float32Array(1),f=new Uint8Array(h.buffer),l=new Uint32Array([287454020]),y=68===new Uint8Array(l.buffer)[0];function p(e,t,n,a,c,o,u,i,s,h,f,l,y,p,C,O){this[0]=r.defaultValue(e,0),this[1]=r.defaultValue(c,0),this[2]=r.defaultValue(s,0),this[3]=r.defaultValue(y,0),this[4]=r.defaultValue(t,0),this[5]=r.defaultValue(o,0),this[6]=r.defaultValue(h,0),this[7]=r.defaultValue(p,0),this[8]=r.defaultValue(n,0),this[9]=r.defaultValue(u,0),this[10]=r.defaultValue(f,0),this[11]=r.defaultValue(C,0),this[12]=r.defaultValue(a,0),this[13]=r.defaultValue(i,0),this[14]=r.defaultValue(l,0),this[15]=r.defaultValue(O,0)}o.packFloat=function(e,t){return n.Check.typeOf.number("value",e),r.defined(t)||(t=new o),h[0]=e,y?(t.x=f[0],t.y=f[1],t.z=f[2],t.w=f[3]):(t.x=f[3],t.y=f[2],t.z=f[1],t.w=f[0]),t},o.unpackFloat=function(e){return n.Check.typeOf.object("packedFloat",e),y?(f[0]=e.x,f[1]=e.y,f[2]=e.z,f[3]=e.w):(f[0]=e.w,f[1]=e.z,f[2]=e.y,f[3]=e.x),h[0]},p.packedLength=16,p.pack=function(e,t,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",t),a=r.defaultValue(a,0),t[a++]=e[0],t[a++]=e[1],t[a++]=e[2],t[a++]=e[3],t[a++]=e[4],t[a++]=e[5],t[a++]=e[6],t[a++]=e[7],t[a++]=e[8],t[a++]=e[9],t[a++]=e[10],t[a++]=e[11],t[a++]=e[12],t[a++]=e[13],t[a++]=e[14],t[a]=e[15],t},p.unpack=function(e,t,a){return n.Check.defined("array",e),t=r.defaultValue(t,0),r.defined(a)||(a=new p),a[0]=e[t++],a[1]=e[t++],a[2]=e[t++],a[3]=e[t++],a[4]=e[t++],a[5]=e[t++],a[6]=e[t++],a[7]=e[t++],a[8]=e[t++],a[9]=e[t++],a[10]=e[t++],a[11]=e[t++],a[12]=e[t++],a[13]=e[t++],a[14]=e[t++],a[15]=e[t],a},p.packArray=function(e,t){n.Check.defined("array",e);const a=e.length,c=16*a;if(r.defined(t)){if(!Array.isArray(t)&&t.length!==c)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 16 elements");t.length!==c&&(t.length=c)}else t=new Array(c);for(let n=0;n<a;++n)p.pack(e[n],t,16*n);return t},p.unpackArray=function(e,t){if(n.Check.defined("array",e),n.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,16),e.length%16!=0)throw new n.DeveloperError("array length must be a multiple of 16.");const a=e.length;r.defined(t)?t.length=a/16:t=new Array(a/16);for(let n=0;n<a;n+=16){const r=n/16;t[r]=p.unpack(e,n,t[r])}return t},p.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new p(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},p.fromArray=p.unpack,p.fromColumnMajorArray=function(e,t){return n.Check.defined("values",e),p.clone(e,t)},p.fromRowMajorArray=function(e,t){return n.Check.defined("values",e),r.defined(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new p(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},p.fromRotationTranslation=function(e,a,c){return n.Check.typeOf.object("rotation",e),a=r.defaultValue(a,t.Cartesian3.ZERO),r.defined(c)?(c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=0,c[4]=e[3],c[5]=e[4],c[6]=e[5],c[7]=0,c[8]=e[6],c[9]=e[7],c[10]=e[8],c[11]=0,c[12]=a.x,c[13]=a.y,c[14]=a.z,c[15]=1,c):new p(e[0],e[3],e[6],a.x,e[1],e[4],e[7],a.y,e[2],e[5],e[8],a.z,0,0,0,1)},p.fromTranslationQuaternionRotationScale=function(e,t,a,c){n.Check.typeOf.object("translation",e),n.Check.typeOf.object("rotation",t),n.Check.typeOf.object("scale",a),r.defined(c)||(c=new p);const o=a.x,u=a.y,i=a.z,s=t.x*t.x,h=t.x*t.y,f=t.x*t.z,l=t.x*t.w,y=t.y*t.y,C=t.y*t.z,O=t.y*t.w,b=t.z*t.z,m=t.z*t.w,d=t.w*t.w,k=s-y-b+d,x=2*(h-m),j=2*(f+O),w=2*(h+m),g=-s+y-b+d,M=2*(C-l),z=2*(f-O),E=2*(C+l),T=-s-y+b+d;return c[0]=k*o,c[1]=w*o,c[2]=z*o,c[3]=0,c[4]=x*u,c[5]=g*u,c[6]=E*u,c[7]=0,c[8]=j*i,c[9]=M*i,c[10]=T*i,c[11]=0,c[12]=e.x,c[13]=e.y,c[14]=e.z,c[15]=1,c},p.fromTranslationRotationScale=function(e,t){return n.Check.typeOf.object("translationRotationScale",e),p.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},p.fromTranslation=function(e,r){return n.Check.typeOf.object("translation",e),p.fromRotationTranslation(t.Matrix3.IDENTITY,e,r)},p.fromScale=function(e,t){return n.Check.typeOf.object("scale",e),r.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new p(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},p.fromUniformScale=function(e,t){return n.Check.typeOf.number("scale",e),r.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new p(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)},p.fromRotation=function(e,t){return n.Check.typeOf.object("rotation",e),r.defined(t)||(t=new p),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=0,t[4]=e[3],t[5]=e[4],t[6]=e[5],t[7]=0,t[8]=e[6],t[9]=e[7],t[10]=e[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};const C=new t.Cartesian3,O=new t.Cartesian3,b=new t.Cartesian3;p.fromCamera=function(e,a){n.Check.typeOf.object("camera",e);const c=e.position,o=e.direction,u=e.up;n.Check.typeOf.object("camera.position",c),n.Check.typeOf.object("camera.direction",o),n.Check.typeOf.object("camera.up",u),t.Cartesian3.normalize(o,C),t.Cartesian3.normalize(t.Cartesian3.cross(C,u,O),O),t.Cartesian3.normalize(t.Cartesian3.cross(O,C,b),b);const i=O.x,s=O.y,h=O.z,f=C.x,l=C.y,y=C.z,m=b.x,d=b.y,k=b.z,x=c.x,j=c.y,w=c.z,g=i*-x+s*-j+h*-w,M=m*-x+d*-j+k*-w,z=f*x+l*j+y*w;return r.defined(a)?(a[0]=i,a[1]=m,a[2]=-f,a[3]=0,a[4]=s,a[5]=d,a[6]=-l,a[7]=0,a[8]=h,a[9]=k,a[10]=-y,a[11]=0,a[12]=g,a[13]=M,a[14]=z,a[15]=1,a):new p(i,s,h,g,m,d,k,M,-f,-l,-y,z,0,0,0,1)},p.computePerspectiveFieldOfView=function(e,t,r,a,c){n.Check.typeOf.number.greaterThan("fovY",e,0),n.Check.typeOf.number.lessThan("fovY",e,Math.PI),n.Check.typeOf.number.greaterThan("near",r,0),n.Check.typeOf.number.greaterThan("far",a,0),n.Check.typeOf.object("result",c);const o=1/Math.tan(.5*e),u=o/t,i=(a+r)/(r-a),s=2*a*r/(r-a);return c[0]=u,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=o,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=i,c[11]=-1,c[12]=0,c[13]=0,c[14]=s,c[15]=0,c},p.computeOrthographicOffCenter=function(e,t,r,a,c,o,u){n.Check.typeOf.number("left",e),n.Check.typeOf.number("right",t),n.Check.typeOf.number("bottom",r),n.Check.typeOf.number("top",a),n.Check.typeOf.number("near",c),n.Check.typeOf.number("far",o),n.Check.typeOf.object("result",u);let i=1/(t-e),s=1/(a-r),h=1/(o-c);const f=-(t+e)*i,l=-(a+r)*s,y=-(o+c)*h;return i*=2,s*=2,h*=-2,u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=h,u[11]=0,u[12]=f,u[13]=l,u[14]=y,u[15]=1,u},p.computePerspectiveOffCenter=function(e,t,r,a,c,o,u){n.Check.typeOf.number("left",e),n.Check.typeOf.number("right",t),n.Check.typeOf.number("bottom",r),n.Check.typeOf.number("top",a),n.Check.typeOf.number("near",c),n.Check.typeOf.number("far",o),n.Check.typeOf.object("result",u);const i=2*c/(t-e),s=2*c/(a-r),h=(t+e)/(t-e),f=(a+r)/(a-r),l=-(o+c)/(o-c),y=-2*o*c/(o-c);return u[0]=i,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s,u[6]=0,u[7]=0,u[8]=h,u[9]=f,u[10]=l,u[11]=-1,u[12]=0,u[13]=0,u[14]=y,u[15]=0,u},p.computeInfinitePerspectiveOffCenter=function(e,t,r,a,c,o){n.Check.typeOf.number("left",e),n.Check.typeOf.number("right",t),n.Check.typeOf.number("bottom",r),n.Check.typeOf.number("top",a),n.Check.typeOf.number("near",c),n.Check.typeOf.object("result",o);const u=2*c/(t-e),i=2*c/(a-r),s=(t+e)/(t-e),h=(a+r)/(a-r),f=-2*c;return o[0]=u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=s,o[9]=h,o[10]=-1,o[11]=-1,o[12]=0,o[13]=0,o[14]=f,o[15]=0,o},p.computeViewportTransformation=function(e,t,n,a){r.defined(a)||(a=new p),e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT);const c=r.defaultValue(e.x,0),o=r.defaultValue(e.y,0),u=r.defaultValue(e.width,0),i=r.defaultValue(e.height,0);t=r.defaultValue(t,0);const s=.5*u,h=.5*i,f=.5*((n=r.defaultValue(n,1))-t),l=s,y=h,C=f,O=c+s,b=o+h,m=t+f;return a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=y,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=C,a[11]=0,a[12]=O,a[13]=b,a[14]=m,a[15]=1,a},p.computeView=function(e,r,a,c,o){return n.Check.typeOf.object("position",e),n.Check.typeOf.object("direction",r),n.Check.typeOf.object("up",a),n.Check.typeOf.object("right",c),n.Check.typeOf.object("result",o),o[0]=c.x,o[1]=a.x,o[2]=-r.x,o[3]=0,o[4]=c.y,o[5]=a.y,o[6]=-r.y,o[7]=0,o[8]=c.z,o[9]=a.z,o[10]=-r.z,o[11]=0,o[12]=-t.Cartesian3.dot(c,e),o[13]=-t.Cartesian3.dot(a,e),o[14]=t.Cartesian3.dot(r,e),o[15]=1,o},p.toArray=function(e,t){return n.Check.typeOf.object("matrix",e),r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},p.getElementIndex=function(e,t){return n.Check.typeOf.number.greaterThanOrEquals("row",t,0),n.Check.typeOf.number.lessThanOrEquals("row",t,3),n.Check.typeOf.number.greaterThanOrEquals("column",e,0),n.Check.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},p.getColumn=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("result",r);const a=4*t,c=e[a],o=e[a+1],u=e[a+2],i=e[a+3];return r.x=c,r.y=o,r.z=u,r.w=i,r},p.setColumn=function(e,t,r,a){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a);const c=4*t;return(a=p.clone(e,a))[c]=r.x,a[c+1]=r.y,a[c+2]=r.z,a[c+3]=r.w,a},p.getRow=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("result",r);const a=e[t],c=e[t+4],o=e[t+8],u=e[t+12];return r.x=a,r.y=c,r.z=o,r.w=u,r},p.setRow=function(e,t,r,a){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,3),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),(a=p.clone(e,a))[t]=r.x,a[t+4]=r.y,a[t+8]=r.z,a[t+12]=r.w,a},p.setTranslation=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("translation",t),n.Check.typeOf.object("result",r),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=e[15],r};const m=new t.Cartesian3;p.setScale=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r);const a=p.getScale(e,m),c=t.x/a.x,o=t.y/a.y,u=t.z/a.z;return r[0]=e[0]*c,r[1]=e[1]*c,r[2]=e[2]*c,r[3]=e[3],r[4]=e[4]*o,r[5]=e[5]*o,r[6]=e[6]*o,r[7]=e[7],r[8]=e[8]*u,r[9]=e[9]*u,r[10]=e[10]*u,r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r};const d=new t.Cartesian3;p.setUniformScale=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scale",t),n.Check.typeOf.object("result",r);const a=p.getScale(e,d),c=t/a.x,o=t/a.y,u=t/a.z;return r[0]=e[0]*c,r[1]=e[1]*c,r[2]=e[2]*c,r[3]=e[3],r[4]=e[4]*o,r[5]=e[5]*o,r[6]=e[6]*o,r[7]=e[7],r[8]=e[8]*u,r[9]=e[9]*u,r[10]=e[10]*u,r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r};const k=new t.Cartesian3;p.getScale=function(e,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",r),r.x=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[0],e[1],e[2],k)),r.y=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[4],e[5],e[6],k)),r.z=t.Cartesian3.magnitude(t.Cartesian3.fromElements(e[8],e[9],e[10],k)),r};const x=new t.Cartesian3;p.getMaximumScale=function(e){return p.getScale(e,x),t.Cartesian3.maximumComponent(x)};const j=new t.Cartesian3;p.setRotation=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",r);const a=p.getScale(e,j);return r[0]=t[0]*a.x,r[1]=t[1]*a.x,r[2]=t[2]*a.x,r[3]=e[3],r[4]=t[3]*a.y,r[5]=t[4]*a.y,r[6]=t[5]*a.y,r[7]=e[7],r[8]=t[6]*a.z,r[9]=t[7]*a.z,r[10]=t[8]*a.z,r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r};const w=new t.Cartesian3;p.getRotation=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);const r=p.getScale(e,w);return t[0]=e[0]/r.x,t[1]=e[1]/r.x,t[2]=e[2]/r.x,t[3]=e[4]/r.y,t[4]=e[5]/r.y,t[5]=e[6]/r.y,t[6]=e[8]/r.z,t[7]=e[9]/r.z,t[8]=e[10]/r.z,t},p.multiply=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);const a=e[0],c=e[1],o=e[2],u=e[3],i=e[4],s=e[5],h=e[6],f=e[7],l=e[8],y=e[9],p=e[10],C=e[11],O=e[12],b=e[13],m=e[14],d=e[15],k=t[0],x=t[1],j=t[2],w=t[3],g=t[4],M=t[5],z=t[6],E=t[7],T=t[8],q=t[9],V=t[10],A=t[11],I=t[12],N=t[13],P=t[14],_=t[15],R=a*k+i*x+l*j+O*w,S=c*k+s*x+y*j+b*w,U=o*k+h*x+p*j+m*w,W=u*k+f*x+C*j+d*w,L=a*g+i*M+l*z+O*E,v=c*g+s*M+y*z+b*E,B=o*g+h*M+p*z+m*E,$=u*g+f*M+C*z+d*E,X=a*T+i*q+l*V+O*A,D=c*T+s*q+y*V+b*A,Y=o*T+h*q+p*V+m*A,Z=u*T+f*q+C*V+d*A,F=a*I+i*N+l*P+O*_,G=c*I+s*N+y*P+b*_,H=o*I+h*N+p*P+m*_,Q=u*I+f*N+C*P+d*_;return r[0]=R,r[1]=S,r[2]=U,r[3]=W,r[4]=L,r[5]=v,r[6]=B,r[7]=$,r[8]=X,r[9]=D,r[10]=Y,r[11]=Z,r[12]=F,r[13]=G,r[14]=H,r[15]=Q,r},p.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r[9]=e[9]+t[9],r[10]=e[10]+t[10],r[11]=e[11]+t[11],r[12]=e[12]+t[12],r[13]=e[13]+t[13],r[14]=e[14]+t[14],r[15]=e[15]+t[15],r},p.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r[9]=e[9]-t[9],r[10]=e[10]-t[10],r[11]=e[11]-t[11],r[12]=e[12]-t[12],r[13]=e[13]-t[13],r[14]=e[14]-t[14],r[15]=e[15]-t[15],r},p.multiplyTransformation=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);const a=e[0],c=e[1],o=e[2],u=e[4],i=e[5],s=e[6],h=e[8],f=e[9],l=e[10],y=e[12],p=e[13],C=e[14],O=t[0],b=t[1],m=t[2],d=t[4],k=t[5],x=t[6],j=t[8],w=t[9],g=t[10],M=t[12],z=t[13],E=t[14],T=a*O+u*b+h*m,q=c*O+i*b+f*m,V=o*O+s*b+l*m,A=a*d+u*k+h*x,I=c*d+i*k+f*x,N=o*d+s*k+l*x,P=a*j+u*w+h*g,_=c*j+i*w+f*g,R=o*j+s*w+l*g,S=a*M+u*z+h*E+y,U=c*M+i*z+f*E+p,W=o*M+s*z+l*E+C;return r[0]=T,r[1]=q,r[2]=V,r[3]=0,r[4]=A,r[5]=I,r[6]=N,r[7]=0,r[8]=P,r[9]=_,r[10]=R,r[11]=0,r[12]=S,r[13]=U,r[14]=W,r[15]=1,r},p.multiplyByMatrix3=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("rotation",t),n.Check.typeOf.object("result",r);const a=e[0],c=e[1],o=e[2],u=e[4],i=e[5],s=e[6],h=e[8],f=e[9],l=e[10],y=t[0],p=t[1],C=t[2],O=t[3],b=t[4],m=t[5],d=t[6],k=t[7],x=t[8],j=a*y+u*p+h*C,w=c*y+i*p+f*C,g=o*y+s*p+l*C,M=a*O+u*b+h*m,z=c*O+i*b+f*m,E=o*O+s*b+l*m,T=a*d+u*k+h*x,q=c*d+i*k+f*x,V=o*d+s*k+l*x;return r[0]=j,r[1]=w,r[2]=g,r[3]=0,r[4]=M,r[5]=z,r[6]=E,r[7]=0,r[8]=T,r[9]=q,r[10]=V,r[11]=0,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},p.multiplyByTranslation=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("translation",t),n.Check.typeOf.object("result",r);const a=t.x,c=t.y,o=t.z,u=a*e[0]+c*e[4]+o*e[8]+e[12],i=a*e[1]+c*e[5]+o*e[9]+e[13],s=a*e[2]+c*e[6]+o*e[10]+e[14];return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=u,r[13]=i,r[14]=s,r[15]=e[15],r},p.multiplyByScale=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r);const a=t.x,c=t.y,o=t.z;return 1===a&&1===c&&1===o?p.clone(e,r):(r[0]=a*e[0],r[1]=a*e[1],r[2]=a*e[2],r[3]=e[3],r[4]=c*e[4],r[5]=c*e[5],r[6]=c*e[6],r[7]=e[7],r[8]=o*e[8],r[9]=o*e[9],r[10]=o*e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r)},p.multiplyByUniformScale=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scale",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3],r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7],r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r},p.multiplyByVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);const a=t.x,c=t.y,o=t.z,u=t.w,i=e[0]*a+e[4]*c+e[8]*o+e[12]*u,s=e[1]*a+e[5]*c+e[9]*o+e[13]*u,h=e[2]*a+e[6]*c+e[10]*o+e[14]*u,f=e[3]*a+e[7]*c+e[11]*o+e[15]*u;return r.x=i,r.y=s,r.z=h,r.w=f,r},p.multiplyByPointAsVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);const a=t.x,c=t.y,o=t.z,u=e[0]*a+e[4]*c+e[8]*o,i=e[1]*a+e[5]*c+e[9]*o,s=e[2]*a+e[6]*c+e[10]*o;return r.x=u,r.y=i,r.z=s,r},p.multiplyByPoint=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);const a=t.x,c=t.y,o=t.z,u=e[0]*a+e[4]*c+e[8]*o+e[12],i=e[1]*a+e[5]*c+e[9]*o+e[13],s=e[2]*a+e[6]*c+e[10]*o+e[14];return r.x=u,r.y=i,r.z=s,r},p.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11]*t,r[12]=e[12]*t,r[13]=e[13]*t,r[14]=e[14]*t,r[15]=e[15]*t,r},p.negate=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},p.transpose=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);const r=e[1],a=e[2],c=e[3],o=e[6],u=e[7],i=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=a,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=c,t[13]=u,t[14]=i,t[15]=e[15],t},p.abs=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},p.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},p.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},p.getTranslation=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},p.getMatrix3=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};const g=new t.Matrix3,M=new t.Matrix3,z=new o,E=new o(0,0,0,1);p.inverse=function(e,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",r);const u=e[0],i=e[4],s=e[8],h=e[12],f=e[1],l=e[5],y=e[9],C=e[13],O=e[2],b=e[6],m=e[10],d=e[14],k=e[3],x=e[7],j=e[11],w=e[15];let T=m*w,q=d*j,V=b*w,A=d*x,I=b*j,N=m*x,P=O*w,_=d*k,R=O*j,S=m*k,U=O*x,W=b*k;const L=T*l+A*y+I*C-(q*l+V*y+N*C),v=q*f+P*y+S*C-(T*f+_*y+R*C),B=V*f+_*l+U*C-(A*f+P*l+W*C),$=N*f+R*l+W*y-(I*f+S*l+U*y),X=q*i+V*s+N*h-(T*i+A*s+I*h),D=T*u+_*s+R*h-(q*u+P*s+S*h),Y=A*u+P*i+W*h-(V*u+_*i+U*h),Z=I*u+S*i+U*s-(N*u+R*i+W*s);T=s*C,q=h*y,V=i*C,A=h*l,I=i*y,N=s*l,P=u*C,_=h*f,R=u*y,S=s*f,U=u*l,W=i*f;const F=T*x+A*j+I*w-(q*x+V*j+N*w),G=q*k+P*j+S*w-(T*k+_*j+R*w),H=V*k+_*x+U*w-(A*k+P*x+W*w),Q=N*k+R*x+W*j-(I*k+S*x+U*j),J=V*m+N*d+q*b-(I*d+T*b+A*m),K=R*d+T*O+_*m-(P*m+S*d+q*O),ee=P*b+W*d+A*O-(U*d+V*O+_*b),te=U*m+I*O+S*b-(R*b+W*m+N*O);let ne=u*L+i*v+s*B+h*$;if(Math.abs(ne)<a.CesiumMath.EPSILON21){if(t.Matrix3.equalsEpsilon(p.getMatrix3(e,g),M,a.CesiumMath.EPSILON7)&&o.equals(p.getRow(e,3,z),E))return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=1,r;throw new c.RuntimeError("matrix is not invertible because its determinate is zero.")}return ne=1/ne,r[0]=L*ne,r[1]=v*ne,r[2]=B*ne,r[3]=$*ne,r[4]=X*ne,r[5]=D*ne,r[6]=Y*ne,r[7]=Z*ne,r[8]=F*ne,r[9]=G*ne,r[10]=H*ne,r[11]=Q*ne,r[12]=J*ne,r[13]=K*ne,r[14]=ee*ne,r[15]=te*ne,r},p.inverseTransformation=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);const r=e[0],a=e[1],c=e[2],o=e[4],u=e[5],i=e[6],s=e[8],h=e[9],f=e[10],l=e[12],y=e[13],p=e[14],C=-r*l-a*y-c*p,O=-o*l-u*y-i*p,b=-s*l-h*y-f*p;return t[0]=r,t[1]=o,t[2]=s,t[3]=0,t[4]=a,t[5]=u,t[6]=h,t[7]=0,t[8]=c,t[9]=i,t[10]=f,t[11]=0,t[12]=C,t[13]=O,t[14]=b,t[15]=1,t};const T=new p;function q(e,t,n,a){this.west=r.defaultValue(e,0),this.south=r.defaultValue(t,0),this.east=r.defaultValue(n,0),this.north=r.defaultValue(a,0)}p.inverseTranspose=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),p.inverse(p.transpose(e,T),t)},p.IDENTITY=Object.freeze(new p(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),p.ZERO=Object.freeze(new p(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),p.COLUMN0ROW0=0,p.COLUMN0ROW1=1,p.COLUMN0ROW2=2,p.COLUMN0ROW3=3,p.COLUMN1ROW0=4,p.COLUMN1ROW1=5,p.COLUMN1ROW2=6,p.COLUMN1ROW3=7,p.COLUMN2ROW0=8,p.COLUMN2ROW1=9,p.COLUMN2ROW2=10,p.COLUMN2ROW3=11,p.COLUMN3ROW0=12,p.COLUMN3ROW1=13,p.COLUMN3ROW2=14,p.COLUMN3ROW3=15,Object.defineProperties(p.prototype,{length:{get:function(){return p.packedLength}}}),p.prototype.clone=function(e){return p.clone(this,e)},p.prototype.equals=function(e){return p.equals(this,e)},p.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},p.prototype.equalsEpsilon=function(e,t){return p.equalsEpsilon(this,e,t)},p.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`},Object.defineProperties(q.prototype,{width:{get:function(){return q.computeWidth(this)}},height:{get:function(){return q.computeHeight(this)}}}),q.packedLength=4,q.pack=function(e,t,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",t),a=r.defaultValue(a,0),t[a++]=e.west,t[a++]=e.south,t[a++]=e.east,t[a]=e.north,t},q.unpack=function(e,t,a){return n.Check.defined("array",e),t=r.defaultValue(t,0),r.defined(a)||(a=new q),a.west=e[t++],a.south=e[t++],a.east=e[t++],a.north=e[t],a},q.computeWidth=function(e){n.Check.typeOf.object("rectangle",e);let t=e.east;const r=e.west;return t<r&&(t+=a.CesiumMath.TWO_PI),t-r},q.computeHeight=function(e){return n.Check.typeOf.object("rectangle",e),e.north-e.south},q.fromDegrees=function(e,t,n,c,o){return e=a.CesiumMath.toRadians(r.defaultValue(e,0)),t=a.CesiumMath.toRadians(r.defaultValue(t,0)),n=a.CesiumMath.toRadians(r.defaultValue(n,0)),c=a.CesiumMath.toRadians(r.defaultValue(c,0)),r.defined(o)?(o.west=e,o.south=t,o.east=n,o.north=c,o):new q(e,t,n,c)},q.fromRadians=function(e,t,n,a,c){return r.defined(c)?(c.west=r.defaultValue(e,0),c.south=r.defaultValue(t,0),c.east=r.defaultValue(n,0),c.north=r.defaultValue(a,0),c):new q(e,t,n,a)},q.fromCartographicArray=function(e,t){n.Check.defined("cartographics",e);let c=Number.MAX_VALUE,o=-Number.MAX_VALUE,u=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=Number.MAX_VALUE,h=-Number.MAX_VALUE;for(let t=0,n=e.length;t<n;t++){const n=e[t];c=Math.min(c,n.longitude),o=Math.max(o,n.longitude),s=Math.min(s,n.latitude),h=Math.max(h,n.latitude);const r=n.longitude>=0?n.longitude:n.longitude+a.CesiumMath.TWO_PI;u=Math.min(u,r),i=Math.max(i,r)}return o-c>i-u&&(c=u,o=i,o>a.CesiumMath.PI&&(o-=a.CesiumMath.TWO_PI),c>a.CesiumMath.PI&&(c-=a.CesiumMath.TWO_PI)),r.defined(t)?(t.west=c,t.south=s,t.east=o,t.north=h,t):new q(c,s,o,h)},q.fromCartesianArray=function(e,c,o){n.Check.defined("cartesians",e),c=r.defaultValue(c,t.Ellipsoid.WGS84);let u=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=Number.MAX_VALUE,l=-Number.MAX_VALUE;for(let t=0,n=e.length;t<n;t++){const n=c.cartesianToCartographic(e[t]);u=Math.min(u,n.longitude),i=Math.max(i,n.longitude),f=Math.min(f,n.latitude),l=Math.max(l,n.latitude);const r=n.longitude>=0?n.longitude:n.longitude+a.CesiumMath.TWO_PI;s=Math.min(s,r),h=Math.max(h,r)}return i-u>h-s&&(u=s,i=h,i>a.CesiumMath.PI&&(i-=a.CesiumMath.TWO_PI),u>a.CesiumMath.PI&&(u-=a.CesiumMath.TWO_PI)),r.defined(o)?(o.west=u,o.south=f,o.east=i,o.north=l,o):new q(u,f,i,l)},q.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new q(e.west,e.south,e.east,e.north)},q.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e.west-t.west)<=n&&Math.abs(e.south-t.south)<=n&&Math.abs(e.east-t.east)<=n&&Math.abs(e.north-t.north)<=n},q.prototype.clone=function(e){return q.clone(this,e)},q.prototype.equals=function(e){return q.equals(this,e)},q.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},q.prototype.equalsEpsilon=function(e,t){return q.equalsEpsilon(this,e,t)},q.validate=function(e){n.Check.typeOf.object("rectangle",e);const t=e.north;n.Check.typeOf.number.greaterThanOrEquals("north",t,-a.CesiumMath.PI_OVER_TWO),n.Check.typeOf.number.lessThanOrEquals("north",t,a.CesiumMath.PI_OVER_TWO);const r=e.south;n.Check.typeOf.number.greaterThanOrEquals("south",r,-a.CesiumMath.PI_OVER_TWO),n.Check.typeOf.number.lessThanOrEquals("south",r,a.CesiumMath.PI_OVER_TWO);const c=e.west;n.Check.typeOf.number.greaterThanOrEquals("west",c,-Math.PI),n.Check.typeOf.number.lessThanOrEquals("west",c,Math.PI);const o=e.east;n.Check.typeOf.number.greaterThanOrEquals("east",o,-Math.PI),n.Check.typeOf.number.lessThanOrEquals("east",o,Math.PI)},q.southwest=function(e,a){return n.Check.typeOf.object("rectangle",e),r.defined(a)?(a.longitude=e.west,a.latitude=e.south,a.height=0,a):new t.Cartographic(e.west,e.south)},q.northwest=function(e,a){return n.Check.typeOf.object("rectangle",e),r.defined(a)?(a.longitude=e.west,a.latitude=e.north,a.height=0,a):new t.Cartographic(e.west,e.north)},q.northeast=function(e,a){return n.Check.typeOf.object("rectangle",e),r.defined(a)?(a.longitude=e.east,a.latitude=e.north,a.height=0,a):new t.Cartographic(e.east,e.north)},q.southeast=function(e,a){return n.Check.typeOf.object("rectangle",e),r.defined(a)?(a.longitude=e.east,a.latitude=e.south,a.height=0,a):new t.Cartographic(e.east,e.south)},q.center=function(e,c){n.Check.typeOf.object("rectangle",e);let o=e.east;const u=e.west;o<u&&(o+=a.CesiumMath.TWO_PI);const i=a.CesiumMath.negativePiToPi(.5*(u+o)),s=.5*(e.south+e.north);return r.defined(c)?(c.longitude=i,c.latitude=s,c.height=0,c):new t.Cartographic(i,s)},q.intersection=function(e,t,c){n.Check.typeOf.object("rectangle",e),n.Check.typeOf.object("otherRectangle",t);let o=e.east,u=e.west,i=t.east,s=t.west;o<u&&i>0?o+=a.CesiumMath.TWO_PI:i<s&&o>0&&(i+=a.CesiumMath.TWO_PI),o<u&&s<0?s+=a.CesiumMath.TWO_PI:i<s&&u<0&&(u+=a.CesiumMath.TWO_PI);const h=a.CesiumMath.negativePiToPi(Math.max(u,s)),f=a.CesiumMath.negativePiToPi(Math.min(o,i));if((e.west<e.east||t.west<t.east)&&f<=h)return;const l=Math.max(e.south,t.south),y=Math.min(e.north,t.north);return l>=y?void 0:r.defined(c)?(c.west=h,c.south=l,c.east=f,c.north=y,c):new q(h,l,f,y)},q.simpleIntersection=function(e,t,a){n.Check.typeOf.object("rectangle",e),n.Check.typeOf.object("otherRectangle",t);const c=Math.max(e.west,t.west),o=Math.max(e.south,t.south),u=Math.min(e.east,t.east),i=Math.min(e.north,t.north);if(!(o>=i||c>=u))return r.defined(a)?(a.west=c,a.south=o,a.east=u,a.north=i,a):new q(c,o,u,i)},q.union=function(e,t,c){n.Check.typeOf.object("rectangle",e),n.Check.typeOf.object("otherRectangle",t),r.defined(c)||(c=new q);let o=e.east,u=e.west,i=t.east,s=t.west;o<u&&i>0?o+=a.CesiumMath.TWO_PI:i<s&&o>0&&(i+=a.CesiumMath.TWO_PI),o<u&&s<0?s+=a.CesiumMath.TWO_PI:i<s&&u<0&&(u+=a.CesiumMath.TWO_PI);const h=a.CesiumMath.negativePiToPi(Math.min(u,s)),f=a.CesiumMath.negativePiToPi(Math.max(o,i));return c.west=h,c.south=Math.min(e.south,t.south),c.east=f,c.north=Math.max(e.north,t.north),c},q.expand=function(e,t,a){return n.Check.typeOf.object("rectangle",e),n.Check.typeOf.object("cartographic",t),r.defined(a)||(a=new q),a.west=Math.min(e.west,t.longitude),a.south=Math.min(e.south,t.latitude),a.east=Math.max(e.east,t.longitude),a.north=Math.max(e.north,t.latitude),a},q.contains=function(e,t){n.Check.typeOf.object("rectangle",e),n.Check.typeOf.object("cartographic",t);let r=t.longitude;const c=t.latitude,o=e.west;let u=e.east;return u<o&&(u+=a.CesiumMath.TWO_PI,r<0&&(r+=a.CesiumMath.TWO_PI)),(r>o||a.CesiumMath.equalsEpsilon(r,o,a.CesiumMath.EPSILON14))&&(r<u||a.CesiumMath.equalsEpsilon(r,u,a.CesiumMath.EPSILON14))&&c>=e.south&&c<=e.north};const V=new t.Cartographic;function A(e,t){this.x=r.defaultValue(e,0),this.y=r.defaultValue(t,0)}q.subsample=function(e,c,o,u){n.Check.typeOf.object("rectangle",e),c=r.defaultValue(c,t.Ellipsoid.WGS84),o=r.defaultValue(o,0),r.defined(u)||(u=[]);let i=0;const s=e.north,h=e.south,f=e.east,l=e.west,y=V;y.height=o,y.longitude=l,y.latitude=s,u[i]=c.cartographicToCartesian(y,u[i]),i++,y.longitude=f,u[i]=c.cartographicToCartesian(y,u[i]),i++,y.latitude=h,u[i]=c.cartographicToCartesian(y,u[i]),i++,y.longitude=l,u[i]=c.cartographicToCartesian(y,u[i]),i++,y.latitude=s<0?s:h>0?h:0;for(let t=1;t<8;++t)y.longitude=-Math.PI+t*a.CesiumMath.PI_OVER_TWO,q.contains(e,y)&&(u[i]=c.cartographicToCartesian(y,u[i]),i++);return 0===y.latitude&&(y.longitude=l,u[i]=c.cartographicToCartesian(y,u[i]),i++,y.longitude=f,u[i]=c.cartographicToCartesian(y,u[i]),i++),u.length=i,u},q.subsection=function(e,t,c,o,u,i){if(n.Check.typeOf.object("rectangle",e),n.Check.typeOf.number.greaterThanOrEquals("westLerp",t,0),n.Check.typeOf.number.lessThanOrEquals("westLerp",t,1),n.Check.typeOf.number.greaterThanOrEquals("southLerp",c,0),n.Check.typeOf.number.lessThanOrEquals("southLerp",c,1),n.Check.typeOf.number.greaterThanOrEquals("eastLerp",o,0),n.Check.typeOf.number.lessThanOrEquals("eastLerp",o,1),n.Check.typeOf.number.greaterThanOrEquals("northLerp",u,0),n.Check.typeOf.number.lessThanOrEquals("northLerp",u,1),n.Check.typeOf.number.lessThanOrEquals("westLerp",t,o),n.Check.typeOf.number.lessThanOrEquals("southLerp",c,u),r.defined(i)||(i=new q),e.west<=e.east){const n=e.east-e.west;i.west=e.west+t*n,i.east=e.west+o*n}else{const n=a.CesiumMath.TWO_PI+e.east-e.west;i.west=a.CesiumMath.negativePiToPi(e.west+t*n),i.east=a.CesiumMath.negativePiToPi(e.west+o*n)}const s=e.north-e.south;return i.south=e.south+c*s,i.north=e.south+u*s,1===t&&(i.west=e.east),1===o&&(i.east=e.east),1===c&&(i.south=e.north),1===u&&(i.north=e.north),i},q.MAX_VALUE=Object.freeze(new q(-Math.PI,-a.CesiumMath.PI_OVER_TWO,Math.PI,a.CesiumMath.PI_OVER_TWO)),A.fromElements=function(e,t,n){return r.defined(n)?(n.x=e,n.y=t,n):new A(e,t)},A.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.x=e.x,t.y=e.y,t):new A(e.x,e.y)},A.fromCartesian3=A.clone,A.fromCartesian4=A.clone,A.packedLength=2,A.pack=function(e,t,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",t),a=r.defaultValue(a,0),t[a++]=e.x,t[a]=e.y,t},A.unpack=function(e,t,a){return n.Check.defined("array",e),t=r.defaultValue(t,0),r.defined(a)||(a=new A),a.x=e[t++],a.y=e[t],a},A.packArray=function(e,t){n.Check.defined("array",e);const a=e.length,c=2*a;if(r.defined(t)){if(!Array.isArray(t)&&t.length!==c)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 2 elements");t.length!==c&&(t.length=c)}else t=new Array(c);for(let n=0;n<a;++n)A.pack(e[n],t,2*n);return t},A.unpackArray=function(e,t){if(n.Check.defined("array",e),n.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!=0)throw new n.DeveloperError("array length must be a multiple of 2.");const a=e.length;r.defined(t)?t.length=a/2:t=new Array(a/2);for(let n=0;n<a;n+=2){const r=n/2;t[r]=A.unpack(e,n,t[r])}return t},A.fromArray=A.unpack,A.maximumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y)},A.minimumComponent=function(e){return n.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y)},A.minimumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.min(e.x,t.x),r.y=Math.min(e.y,t.y),r},A.maximumByComponent=function(e,t,r){return n.Check.typeOf.object("first",e),n.Check.typeOf.object("second",t),n.Check.typeOf.object("result",r),r.x=Math.max(e.x,t.x),r.y=Math.max(e.y,t.y),r},A.clamp=function(e,t,r,c){n.Check.typeOf.object("value",e),n.Check.typeOf.object("min",t),n.Check.typeOf.object("max",r),n.Check.typeOf.object("result",c);const o=a.CesiumMath.clamp(e.x,t.x,r.x),u=a.CesiumMath.clamp(e.y,t.y,r.y);return c.x=o,c.y=u,c},A.magnitudeSquared=function(e){return n.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},A.magnitude=function(e){return Math.sqrt(A.magnitudeSquared(e))};const I=new A;A.distance=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),A.subtract(e,t,I),A.magnitude(I)},A.distanceSquared=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),A.subtract(e,t,I),A.magnitudeSquared(I)},A.normalize=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);const r=A.magnitude(e);if(t.x=e.x/r,t.y=e.y/r,isNaN(t.x)||isNaN(t.y))throw new n.DeveloperError("normalized result is not a number");return t},A.dot=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),e.x*t.x+e.y*t.y},A.cross=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),e.x*t.y-e.y*t.x},A.multiplyComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x*t.x,r.y=e.y*t.y,r},A.divideComponents=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x/t.x,r.y=e.y/t.y,r},A.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x+t.x,r.y=e.y+t.y,r},A.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r.x=e.x-t.x,r.y=e.y-t.y,r},A.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x*t,r.y=e.y*t,r},A.divideByScalar=function(e,t,r){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r.x=e.x/t,r.y=e.y/t,r},A.negate=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},A.abs=function(e,t){return n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};const N=new A;A.lerp=function(e,t,r,a){return n.Check.typeOf.object("start",e),n.Check.typeOf.object("end",t),n.Check.typeOf.number("t",r),n.Check.typeOf.object("result",a),A.multiplyByScalar(t,r,N),a=A.multiplyByScalar(e,1-r,a),A.add(N,a,a)};const P=new A,_=new A;A.angleBetween=function(e,t){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),A.normalize(e,P),A.normalize(t,_),a.CesiumMath.acosClamped(A.dot(P,_))};const R=new A;function S(e,t,n,a){this[0]=r.defaultValue(e,0),this[1]=r.defaultValue(n,0),this[2]=r.defaultValue(t,0),this[3]=r.defaultValue(a,0)}A.mostOrthogonalAxis=function(e,t){n.Check.typeOf.object("cartesian",e),n.Check.typeOf.object("result",t);const r=A.normalize(e,R);return A.abs(r,r),r.x<=r.y?A.clone(A.UNIT_X,t):A.clone(A.UNIT_Y,t)},A.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.x===t.x&&e.y===t.y},A.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},A.equalsEpsilon=function(e,t,n,c){return e===t||r.defined(e)&&r.defined(t)&&a.CesiumMath.equalsEpsilon(e.x,t.x,n,c)&&a.CesiumMath.equalsEpsilon(e.y,t.y,n,c)},A.ZERO=Object.freeze(new A(0,0)),A.ONE=Object.freeze(new A(1,1)),A.UNIT_X=Object.freeze(new A(1,0)),A.UNIT_Y=Object.freeze(new A(0,1)),A.prototype.clone=function(e){return A.clone(this,e)},A.prototype.equals=function(e){return A.equals(this,e)},A.prototype.equalsEpsilon=function(e,t,n){return A.equalsEpsilon(this,e,t,n)},A.prototype.toString=function(){return`(${this.x}, ${this.y})`},S.packedLength=4,S.pack=function(e,t,a){return n.Check.typeOf.object("value",e),n.Check.defined("array",t),a=r.defaultValue(a,0),t[a++]=e[0],t[a++]=e[1],t[a++]=e[2],t[a++]=e[3],t},S.unpack=function(e,t,a){return n.Check.defined("array",e),t=r.defaultValue(t,0),r.defined(a)||(a=new S),a[0]=e[t++],a[1]=e[t++],a[2]=e[t++],a[3]=e[t++],a},S.packArray=function(e,t){n.Check.defined("array",e);const a=e.length,c=4*a;if(r.defined(t)){if(!Array.isArray(t)&&t.length!==c)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==c&&(t.length=c)}else t=new Array(c);for(let n=0;n<a;++n)S.pack(e[n],t,4*n);return t},S.unpackArray=function(e,t){if(n.Check.defined("array",e),n.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!=0)throw new n.DeveloperError("array length must be a multiple of 4.");const a=e.length;r.defined(t)?t.length=a/4:t=new Array(a/4);for(let n=0;n<a;n+=4){const r=n/4;t[r]=S.unpack(e,n,t[r])}return t},S.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new S(e[0],e[2],e[1],e[3])},S.fromArray=S.unpack,S.fromColumnMajorArray=function(e,t){return n.Check.defined("values",e),S.clone(e,t)},S.fromRowMajorArray=function(e,t){return n.Check.defined("values",e),r.defined(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new S(e[0],e[1],e[2],e[3])},S.fromScale=function(e,t){return n.Check.typeOf.object("scale",e),r.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new S(e.x,0,0,e.y)},S.fromUniformScale=function(e,t){return n.Check.typeOf.number("scale",e),r.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new S(e,0,0,e)},S.fromRotation=function(e,t){n.Check.typeOf.number("angle",e);const a=Math.cos(e),c=Math.sin(e);return r.defined(t)?(t[0]=a,t[1]=c,t[2]=-c,t[3]=a,t):new S(a,-c,c,a)},S.toArray=function(e,t){return n.Check.typeOf.object("matrix",e),r.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},S.getElementIndex=function(e,t){return n.Check.typeOf.number.greaterThanOrEquals("row",t,0),n.Check.typeOf.number.lessThanOrEquals("row",t,1),n.Check.typeOf.number.greaterThanOrEquals("column",e,0),n.Check.typeOf.number.lessThanOrEquals("column",e,1),2*e+t},S.getColumn=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("result",r);const a=2*t,c=e[a],o=e[a+1];return r.x=c,r.y=o,r},S.setColumn=function(e,t,r,a){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a);const c=2*t;return(a=S.clone(e,a))[c]=r.x,a[c+1]=r.y,a},S.getRow=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("result",r);const a=e[t],c=e[t+2];return r.x=a,r.y=c,r},S.setRow=function(e,t,r,a){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number.greaterThanOrEquals("index",t,0),n.Check.typeOf.number.lessThanOrEquals("index",t,1),n.Check.typeOf.object("cartesian",r),n.Check.typeOf.object("result",a),(a=S.clone(e,a))[t]=r.x,a[t+2]=r.y,a};const U=new A;S.setScale=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r);const a=S.getScale(e,U),c=t.x/a.x,o=t.y/a.y;return r[0]=e[0]*c,r[1]=e[1]*c,r[2]=e[2]*o,r[3]=e[3]*o,r};const W=new A;S.setUniformScale=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scale",t),n.Check.typeOf.object("result",r);const a=S.getScale(e,W),c=t/a.x,o=t/a.y;return r[0]=e[0]*c,r[1]=e[1]*c,r[2]=e[2]*o,r[3]=e[3]*o,r};const L=new A;S.getScale=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t.x=A.magnitude(A.fromElements(e[0],e[1],L)),t.y=A.magnitude(A.fromElements(e[2],e[3],L)),t};const v=new A;S.getMaximumScale=function(e){return S.getScale(e,v),A.maximumComponent(v)};const B=new A;S.setRotation=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",r);const a=S.getScale(e,B);return r[0]=t[0]*a.x,r[1]=t[1]*a.x,r[2]=t[2]*a.y,r[3]=t[3]*a.y,r};const $=new A;S.getRotation=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);const r=S.getScale(e,$);return t[0]=e[0]/r.x,t[1]=e[1]/r.x,t[2]=e[2]/r.y,t[3]=e[3]/r.y,t},S.multiply=function(e,t,r){n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r);const a=e[0]*t[0]+e[2]*t[1],c=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],u=e[1]*t[2]+e[3]*t[3];return r[0]=a,r[1]=o,r[2]=c,r[3]=u,r},S.add=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r},S.subtract=function(e,t,r){return n.Check.typeOf.object("left",e),n.Check.typeOf.object("right",t),n.Check.typeOf.object("result",r),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r},S.multiplyByVector=function(e,t,r){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("cartesian",t),n.Check.typeOf.object("result",r);const a=e[0]*t.x+e[2]*t.y,c=e[1]*t.x+e[3]*t.y;return r.x=a,r.y=c,r},S.multiplyByScalar=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scalar",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r},S.multiplyByScale=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("scale",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t.x,r[1]=e[1]*t.x,r[2]=e[2]*t.y,r[3]=e[3]*t.y,r},S.multiplyByUniformScale=function(e,t,r){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.number("scale",t),n.Check.typeOf.object("result",r),r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r},S.negate=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},S.transpose=function(e,t){n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t);const r=e[0],a=e[2],c=e[1],o=e[3];return t[0]=r,t[1]=a,t[2]=c,t[3]=o,t},S.abs=function(e,t){return n.Check.typeOf.object("matrix",e),n.Check.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},S.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},S.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]},S.equalsEpsilon=function(e,t,n){return n=r.defaultValue(n,0),e===t||r.defined(e)&&r.defined(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n},S.IDENTITY=Object.freeze(new S(1,0,0,1)),S.ZERO=Object.freeze(new S(0,0,0,0)),S.COLUMN0ROW0=0,S.COLUMN0ROW1=1,S.COLUMN1ROW0=2,S.COLUMN1ROW1=3,Object.defineProperties(S.prototype,{length:{get:function(){return S.packedLength}}}),S.prototype.clone=function(e){return S.clone(this,e)},S.prototype.equals=function(e){return S.equals(this,e)},S.prototype.equalsEpsilon=function(e,t){return S.equalsEpsilon(this,e,t)},S.prototype.toString=function(){return`(${this[0]}, ${this[2]})\n(${this[1]}, ${this[3]})`},e.Cartesian2=A,e.Cartesian4=o,e.Matrix2=S,e.Matrix4=p,e.Rectangle=q}));