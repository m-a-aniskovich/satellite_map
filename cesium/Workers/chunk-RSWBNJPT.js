/*! For license information please see chunk-RSWBNJPT.js.LICENSE.txt */
import{Cartesian3_default,Cartographic_default,Ellipsoid_default,Matrix3_default}from"./chunk-PHQVHDVI.js";import{Math_default}from"./chunk-IZED7ODV.js";import{RuntimeError_default}from"./chunk-66CXKODF.js";import{defaultValue_default}from"./chunk-C53JYYKX.js";import{Check_default,DeveloperError_default}from"./chunk-7FEGZO3D.js";import{defined_default}from"./chunk-YS4KPNLC.js";function Cartesian4(e,t,a,r){this.x=defaultValue_default(e,0),this.y=defaultValue_default(t,0),this.z=defaultValue_default(a,0),this.w=defaultValue_default(r,0)}Cartesian4.fromElements=function(e,t,a,r,n){return defined_default(n)?(n.x=e,n.y=t,n.z=a,n.w=r,n):new Cartesian4(e,t,a,r)},Cartesian4.fromColor=function(e,t){return Check_default.typeOf.object("color",e),defined_default(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new Cartesian4(e.red,e.green,e.blue,e.alpha)},Cartesian4.clone=function(e,t){if(defined_default(e))return defined_default(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new Cartesian4(e.x,e.y,e.z,e.w)},Cartesian4.packedLength=4,Cartesian4.pack=function(e,t,a){return Check_default.typeOf.object("value",e),Check_default.defined("array",t),a=defaultValue_default(a,0),t[a++]=e.x,t[a++]=e.y,t[a++]=e.z,t[a]=e.w,t},Cartesian4.unpack=function(e,t,a){return Check_default.defined("array",e),t=defaultValue_default(t,0),defined_default(a)||(a=new Cartesian4),a.x=e[t++],a.y=e[t++],a.z=e[t++],a.w=e[t],a},Cartesian4.packArray=function(e,t){Check_default.defined("array",e);const a=e.length,r=4*a;if(defined_default(t)){if(!Array.isArray(t)&&t.length!==r)throw new DeveloperError_default("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(let r=0;r<a;++r)Cartesian4.pack(e[r],t,4*r);return t},Cartesian4.unpackArray=function(e,t){if(Check_default.defined("array",e),Check_default.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!=0)throw new DeveloperError_default("array length must be a multiple of 4.");const a=e.length;defined_default(t)?t.length=a/4:t=new Array(a/4);for(let r=0;r<a;r+=4){const a=r/4;t[a]=Cartesian4.unpack(e,r,t[a])}return t},Cartesian4.fromArray=Cartesian4.unpack,Cartesian4.maximumComponent=function(e){return Check_default.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z,e.w)},Cartesian4.minimumComponent=function(e){return Check_default.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z,e.w)},Cartesian4.minimumByComponent=function(e,t,a){return Check_default.typeOf.object("first",e),Check_default.typeOf.object("second",t),Check_default.typeOf.object("result",a),a.x=Math.min(e.x,t.x),a.y=Math.min(e.y,t.y),a.z=Math.min(e.z,t.z),a.w=Math.min(e.w,t.w),a},Cartesian4.maximumByComponent=function(e,t,a){return Check_default.typeOf.object("first",e),Check_default.typeOf.object("second",t),Check_default.typeOf.object("result",a),a.x=Math.max(e.x,t.x),a.y=Math.max(e.y,t.y),a.z=Math.max(e.z,t.z),a.w=Math.max(e.w,t.w),a},Cartesian4.clamp=function(e,t,a,r){Check_default.typeOf.object("value",e),Check_default.typeOf.object("min",t),Check_default.typeOf.object("max",a),Check_default.typeOf.object("result",r);const n=Math_default.clamp(e.x,t.x,a.x),u=Math_default.clamp(e.y,t.y,a.y),f=Math_default.clamp(e.z,t.z,a.z),l=Math_default.clamp(e.w,t.w,a.w);return r.x=n,r.y=u,r.z=f,r.w=l,r},Cartesian4.magnitudeSquared=function(e){return Check_default.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Cartesian4.magnitude=function(e){return Math.sqrt(Cartesian4.magnitudeSquared(e))};var distanceScratch=new Cartesian4;Cartesian4.distance=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Cartesian4.subtract(e,t,distanceScratch),Cartesian4.magnitude(distanceScratch)},Cartesian4.distanceSquared=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Cartesian4.subtract(e,t,distanceScratch),Cartesian4.magnitudeSquared(distanceScratch)},Cartesian4.normalize=function(e,t){Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t);const a=Cartesian4.magnitude(e);if(t.x=e.x/a,t.y=e.y/a,t.z=e.z/a,t.w=e.w/a,isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.w))throw new DeveloperError_default("normalized result is not a number");return t},Cartesian4.dot=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},Cartesian4.multiplyComponents=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x*t.x,a.y=e.y*t.y,a.z=e.z*t.z,a.w=e.w*t.w,a},Cartesian4.divideComponents=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x/t.x,a.y=e.y/t.y,a.z=e.z/t.z,a.w=e.w/t.w,a},Cartesian4.add=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x+t.x,a.y=e.y+t.y,a.z=e.z+t.z,a.w=e.w+t.w,a},Cartesian4.subtract=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x-t.x,a.y=e.y-t.y,a.z=e.z-t.z,a.w=e.w-t.w,a},Cartesian4.multiplyByScalar=function(e,t,a){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.number("scalar",t),Check_default.typeOf.object("result",a),a.x=e.x*t,a.y=e.y*t,a.z=e.z*t,a.w=e.w*t,a},Cartesian4.divideByScalar=function(e,t,a){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.number("scalar",t),Check_default.typeOf.object("result",a),a.x=e.x/t,a.y=e.y/t,a.z=e.z/t,a.w=e.w/t,a},Cartesian4.negate=function(e,t){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},Cartesian4.abs=function(e,t){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var lerpScratch=new Cartesian4;Cartesian4.lerp=function(e,t,a,r){return Check_default.typeOf.object("start",e),Check_default.typeOf.object("end",t),Check_default.typeOf.number("t",a),Check_default.typeOf.object("result",r),Cartesian4.multiplyByScalar(t,a,lerpScratch),r=Cartesian4.multiplyByScalar(e,1-a,r),Cartesian4.add(lerpScratch,r,r)};var mostOrthogonalAxisScratch=new Cartesian4;Cartesian4.mostOrthogonalAxis=function(e,t){Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t);const a=Cartesian4.normalize(e,mostOrthogonalAxisScratch);return Cartesian4.abs(a,a),a.x<=a.y?a.x<=a.z?a.x<=a.w?Cartesian4.clone(Cartesian4.UNIT_X,t):Cartesian4.clone(Cartesian4.UNIT_W,t):a.z<=a.w?Cartesian4.clone(Cartesian4.UNIT_Z,t):Cartesian4.clone(Cartesian4.UNIT_W,t):a.y<=a.z?a.y<=a.w?Cartesian4.clone(Cartesian4.UNIT_Y,t):Cartesian4.clone(Cartesian4.UNIT_W,t):a.z<=a.w?Cartesian4.clone(Cartesian4.UNIT_Z,t):Cartesian4.clone(Cartesian4.UNIT_W,t)},Cartesian4.equals=function(e,t){return e===t||defined_default(e)&&defined_default(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},Cartesian4.equalsArray=function(e,t,a){return e.x===t[a]&&e.y===t[a+1]&&e.z===t[a+2]&&e.w===t[a+3]},Cartesian4.equalsEpsilon=function(e,t,a,r){return e===t||defined_default(e)&&defined_default(t)&&Math_default.equalsEpsilon(e.x,t.x,a,r)&&Math_default.equalsEpsilon(e.y,t.y,a,r)&&Math_default.equalsEpsilon(e.z,t.z,a,r)&&Math_default.equalsEpsilon(e.w,t.w,a,r)},Cartesian4.ZERO=Object.freeze(new Cartesian4(0,0,0,0)),Cartesian4.ONE=Object.freeze(new Cartesian4(1,1,1,1)),Cartesian4.UNIT_X=Object.freeze(new Cartesian4(1,0,0,0)),Cartesian4.UNIT_Y=Object.freeze(new Cartesian4(0,1,0,0)),Cartesian4.UNIT_Z=Object.freeze(new Cartesian4(0,0,1,0)),Cartesian4.UNIT_W=Object.freeze(new Cartesian4(0,0,0,1)),Cartesian4.prototype.clone=function(e){return Cartesian4.clone(this,e)},Cartesian4.prototype.equals=function(e){return Cartesian4.equals(this,e)},Cartesian4.prototype.equalsEpsilon=function(e,t,a){return Cartesian4.equalsEpsilon(this,e,t,a)},Cartesian4.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};var scratchF32Array=new Float32Array(1),scratchU8Array=new Uint8Array(scratchF32Array.buffer),testU32=new Uint32Array([287454020]),testU8=new Uint8Array(testU32.buffer),littleEndian=68===testU8[0];Cartesian4.packFloat=function(e,t){return Check_default.typeOf.number("value",e),defined_default(t)||(t=new Cartesian4),scratchF32Array[0]=e,littleEndian?(t.x=scratchU8Array[0],t.y=scratchU8Array[1],t.z=scratchU8Array[2],t.w=scratchU8Array[3]):(t.x=scratchU8Array[3],t.y=scratchU8Array[2],t.z=scratchU8Array[1],t.w=scratchU8Array[0]),t},Cartesian4.unpackFloat=function(e){return Check_default.typeOf.object("packedFloat",e),littleEndian?(scratchU8Array[0]=e.x,scratchU8Array[1]=e.y,scratchU8Array[2]=e.z,scratchU8Array[3]=e.w):(scratchU8Array[0]=e.w,scratchU8Array[1]=e.z,scratchU8Array[2]=e.y,scratchU8Array[3]=e.x),scratchF32Array[0]};var Cartesian4_default=Cartesian4;function Matrix4(e,t,a,r,n,u,f,l,c,i,o,s,d,h,_,y){this[0]=defaultValue_default(e,0),this[1]=defaultValue_default(n,0),this[2]=defaultValue_default(c,0),this[3]=defaultValue_default(d,0),this[4]=defaultValue_default(t,0),this[5]=defaultValue_default(u,0),this[6]=defaultValue_default(i,0),this[7]=defaultValue_default(h,0),this[8]=defaultValue_default(a,0),this[9]=defaultValue_default(f,0),this[10]=defaultValue_default(o,0),this[11]=defaultValue_default(_,0),this[12]=defaultValue_default(r,0),this[13]=defaultValue_default(l,0),this[14]=defaultValue_default(s,0),this[15]=defaultValue_default(y,0)}Matrix4.packedLength=16,Matrix4.pack=function(e,t,a){return Check_default.typeOf.object("value",e),Check_default.defined("array",t),a=defaultValue_default(a,0),t[a++]=e[0],t[a++]=e[1],t[a++]=e[2],t[a++]=e[3],t[a++]=e[4],t[a++]=e[5],t[a++]=e[6],t[a++]=e[7],t[a++]=e[8],t[a++]=e[9],t[a++]=e[10],t[a++]=e[11],t[a++]=e[12],t[a++]=e[13],t[a++]=e[14],t[a]=e[15],t},Matrix4.unpack=function(e,t,a){return Check_default.defined("array",e),t=defaultValue_default(t,0),defined_default(a)||(a=new Matrix4),a[0]=e[t++],a[1]=e[t++],a[2]=e[t++],a[3]=e[t++],a[4]=e[t++],a[5]=e[t++],a[6]=e[t++],a[7]=e[t++],a[8]=e[t++],a[9]=e[t++],a[10]=e[t++],a[11]=e[t++],a[12]=e[t++],a[13]=e[t++],a[14]=e[t++],a[15]=e[t],a},Matrix4.packArray=function(e,t){Check_default.defined("array",e);const a=e.length,r=16*a;if(defined_default(t)){if(!Array.isArray(t)&&t.length!==r)throw new DeveloperError_default("If result is a typed array, it must have exactly array.length * 16 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(let r=0;r<a;++r)Matrix4.pack(e[r],t,16*r);return t},Matrix4.unpackArray=function(e,t){if(Check_default.defined("array",e),Check_default.typeOf.number.greaterThanOrEquals("array.length",e.length,16),e.length%16!=0)throw new DeveloperError_default("array length must be a multiple of 16.");const a=e.length;defined_default(t)?t.length=a/16:t=new Array(a/16);for(let r=0;r<a;r+=16){const a=r/16;t[a]=Matrix4.unpack(e,r,t[a])}return t},Matrix4.clone=function(e,t){if(defined_default(e))return defined_default(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},Matrix4.fromArray=Matrix4.unpack,Matrix4.fromColumnMajorArray=function(e,t){return Check_default.defined("values",e),Matrix4.clone(e,t)},Matrix4.fromRowMajorArray=function(e,t){return Check_default.defined("values",e),defined_default(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new Matrix4(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Matrix4.fromRotationTranslation=function(e,t,a){return Check_default.typeOf.object("rotation",e),t=defaultValue_default(t,Cartesian3_default.ZERO),defined_default(a)?(a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=0,a[4]=e[3],a[5]=e[4],a[6]=e[5],a[7]=0,a[8]=e[6],a[9]=e[7],a[10]=e[8],a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,a):new Matrix4(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},Matrix4.fromTranslationQuaternionRotationScale=function(e,t,a,r){Check_default.typeOf.object("translation",e),Check_default.typeOf.object("rotation",t),Check_default.typeOf.object("scale",a),defined_default(r)||(r=new Matrix4);const n=a.x,u=a.y,f=a.z,l=t.x*t.x,c=t.x*t.y,i=t.x*t.z,o=t.x*t.w,s=t.y*t.y,d=t.y*t.z,h=t.y*t.w,_=t.z*t.z,y=t.z*t.w,C=t.w*t.w,p=l-s-_+C,O=2*(c-y),x=2*(i+h),m=2*(c+y),b=-l+s-_+C,k=2*(d-o),M=2*(i-h),g=2*(d+o),j=-l-s+_+C;return r[0]=p*n,r[1]=m*n,r[2]=M*n,r[3]=0,r[4]=O*u,r[5]=b*u,r[6]=g*u,r[7]=0,r[8]=x*f,r[9]=k*f,r[10]=j*f,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r},Matrix4.fromTranslationRotationScale=function(e,t){return Check_default.typeOf.object("translationRotationScale",e),Matrix4.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},Matrix4.fromTranslation=function(e,t){return Check_default.typeOf.object("translation",e),Matrix4.fromRotationTranslation(Matrix3_default.IDENTITY,e,t)},Matrix4.fromScale=function(e,t){return Check_default.typeOf.object("scale",e),defined_default(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new Matrix4(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},Matrix4.fromUniformScale=function(e,t){return Check_default.typeOf.number("scale",e),defined_default(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new Matrix4(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)},Matrix4.fromRotation=function(e,t){return Check_default.typeOf.object("rotation",e),defined_default(t)||(t=new Matrix4),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=0,t[4]=e[3],t[5]=e[4],t[6]=e[5],t[7]=0,t[8]=e[6],t[9]=e[7],t[10]=e[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var fromCameraF=new Cartesian3_default,fromCameraR=new Cartesian3_default,fromCameraU=new Cartesian3_default;Matrix4.fromCamera=function(e,t){Check_default.typeOf.object("camera",e);const a=e.position,r=e.direction,n=e.up;Check_default.typeOf.object("camera.position",a),Check_default.typeOf.object("camera.direction",r),Check_default.typeOf.object("camera.up",n),Cartesian3_default.normalize(r,fromCameraF),Cartesian3_default.normalize(Cartesian3_default.cross(fromCameraF,n,fromCameraR),fromCameraR),Cartesian3_default.normalize(Cartesian3_default.cross(fromCameraR,fromCameraF,fromCameraU),fromCameraU);const u=fromCameraR.x,f=fromCameraR.y,l=fromCameraR.z,c=fromCameraF.x,i=fromCameraF.y,o=fromCameraF.z,s=fromCameraU.x,d=fromCameraU.y,h=fromCameraU.z,_=a.x,y=a.y,C=a.z,p=u*-_+f*-y+l*-C,O=s*-_+d*-y+h*-C,x=c*_+i*y+o*C;return defined_default(t)?(t[0]=u,t[1]=s,t[2]=-c,t[3]=0,t[4]=f,t[5]=d,t[6]=-i,t[7]=0,t[8]=l,t[9]=h,t[10]=-o,t[11]=0,t[12]=p,t[13]=O,t[14]=x,t[15]=1,t):new Matrix4(u,f,l,p,s,d,h,O,-c,-i,-o,x,0,0,0,1)},Matrix4.computePerspectiveFieldOfView=function(e,t,a,r,n){Check_default.typeOf.number.greaterThan("fovY",e,0),Check_default.typeOf.number.lessThan("fovY",e,Math.PI),Check_default.typeOf.number.greaterThan("near",a,0),Check_default.typeOf.number.greaterThan("far",r,0),Check_default.typeOf.object("result",n);const u=1/Math.tan(.5*e),f=u/t,l=(r+a)/(a-r),c=2*r*a/(a-r);return n[0]=f,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=u,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=l,n[11]=-1,n[12]=0,n[13]=0,n[14]=c,n[15]=0,n},Matrix4.computeOrthographicOffCenter=function(e,t,a,r,n,u,f){Check_default.typeOf.number("left",e),Check_default.typeOf.number("right",t),Check_default.typeOf.number("bottom",a),Check_default.typeOf.number("top",r),Check_default.typeOf.number("near",n),Check_default.typeOf.number("far",u),Check_default.typeOf.object("result",f);let l=1/(t-e),c=1/(r-a),i=1/(u-n);const o=-(t+e)*l,s=-(r+a)*c,d=-(u+n)*i;return l*=2,c*=2,i*=-2,f[0]=l,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=c,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=i,f[11]=0,f[12]=o,f[13]=s,f[14]=d,f[15]=1,f},Matrix4.computePerspectiveOffCenter=function(e,t,a,r,n,u,f){Check_default.typeOf.number("left",e),Check_default.typeOf.number("right",t),Check_default.typeOf.number("bottom",a),Check_default.typeOf.number("top",r),Check_default.typeOf.number("near",n),Check_default.typeOf.number("far",u),Check_default.typeOf.object("result",f);const l=2*n/(t-e),c=2*n/(r-a),i=(t+e)/(t-e),o=(r+a)/(r-a),s=-(u+n)/(u-n),d=-2*u*n/(u-n);return f[0]=l,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=c,f[6]=0,f[7]=0,f[8]=i,f[9]=o,f[10]=s,f[11]=-1,f[12]=0,f[13]=0,f[14]=d,f[15]=0,f},Matrix4.computeInfinitePerspectiveOffCenter=function(e,t,a,r,n,u){Check_default.typeOf.number("left",e),Check_default.typeOf.number("right",t),Check_default.typeOf.number("bottom",a),Check_default.typeOf.number("top",r),Check_default.typeOf.number("near",n),Check_default.typeOf.object("result",u);const f=2*n/(t-e),l=2*n/(r-a),c=(t+e)/(t-e),i=(r+a)/(r-a),o=-2*n;return u[0]=f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l,u[6]=0,u[7]=0,u[8]=c,u[9]=i,u[10]=-1,u[11]=-1,u[12]=0,u[13]=0,u[14]=o,u[15]=0,u},Matrix4.computeViewportTransformation=function(e,t,a,r){defined_default(r)||(r=new Matrix4),e=defaultValue_default(e,defaultValue_default.EMPTY_OBJECT);const n=defaultValue_default(e.x,0),u=defaultValue_default(e.y,0),f=defaultValue_default(e.width,0),l=defaultValue_default(e.height,0);t=defaultValue_default(t,0);const c=.5*f,i=.5*l,o=.5*((a=defaultValue_default(a,1))-t),s=c,d=i,h=o,_=n+c,y=u+i,C=t+o;return r[0]=s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=d,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=h,r[11]=0,r[12]=_,r[13]=y,r[14]=C,r[15]=1,r},Matrix4.computeView=function(e,t,a,r,n){return Check_default.typeOf.object("position",e),Check_default.typeOf.object("direction",t),Check_default.typeOf.object("up",a),Check_default.typeOf.object("right",r),Check_default.typeOf.object("result",n),n[0]=r.x,n[1]=a.x,n[2]=-t.x,n[3]=0,n[4]=r.y,n[5]=a.y,n[6]=-t.y,n[7]=0,n[8]=r.z,n[9]=a.z,n[10]=-t.z,n[11]=0,n[12]=-Cartesian3_default.dot(r,e),n[13]=-Cartesian3_default.dot(a,e),n[14]=Cartesian3_default.dot(t,e),n[15]=1,n},Matrix4.toArray=function(e,t){return Check_default.typeOf.object("matrix",e),defined_default(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},Matrix4.getElementIndex=function(e,t){return Check_default.typeOf.number.greaterThanOrEquals("row",t,0),Check_default.typeOf.number.lessThanOrEquals("row",t,3),Check_default.typeOf.number.greaterThanOrEquals("column",e,0),Check_default.typeOf.number.lessThanOrEquals("column",e,3),4*e+t},Matrix4.getColumn=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,3),Check_default.typeOf.object("result",a);const r=4*t,n=e[r],u=e[r+1],f=e[r+2],l=e[r+3];return a.x=n,a.y=u,a.z=f,a.w=l,a},Matrix4.setColumn=function(e,t,a,r){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,3),Check_default.typeOf.object("cartesian",a),Check_default.typeOf.object("result",r);const n=4*t;return(r=Matrix4.clone(e,r))[n]=a.x,r[n+1]=a.y,r[n+2]=a.z,r[n+3]=a.w,r},Matrix4.getRow=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,3),Check_default.typeOf.object("result",a);const r=e[t],n=e[t+4],u=e[t+8],f=e[t+12];return a.x=r,a.y=n,a.z=u,a.w=f,a},Matrix4.setRow=function(e,t,a,r){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,3),Check_default.typeOf.object("cartesian",a),Check_default.typeOf.object("result",r),(r=Matrix4.clone(e,r))[t]=a.x,r[t+4]=a.y,r[t+8]=a.z,r[t+12]=a.w,r},Matrix4.setTranslation=function(e,t,a){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("translation",t),Check_default.typeOf.object("result",a),a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=e[4],a[5]=e[5],a[6]=e[6],a[7]=e[7],a[8]=e[8],a[9]=e[9],a[10]=e[10],a[11]=e[11],a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=e[15],a};var scaleScratch1=new Cartesian3_default;Matrix4.setScale=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("scale",t),Check_default.typeOf.object("result",a);const r=Matrix4.getScale(e,scaleScratch1),n=t.x/r.x,u=t.y/r.y,f=t.z/r.z;return a[0]=e[0]*n,a[1]=e[1]*n,a[2]=e[2]*n,a[3]=e[3],a[4]=e[4]*u,a[5]=e[5]*u,a[6]=e[6]*u,a[7]=e[7],a[8]=e[8]*f,a[9]=e[9]*f,a[10]=e[10]*f,a[11]=e[11],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15],a};var scaleScratch2=new Cartesian3_default;Matrix4.setUniformScale=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number("scale",t),Check_default.typeOf.object("result",a);const r=Matrix4.getScale(e,scaleScratch2),n=t/r.x,u=t/r.y,f=t/r.z;return a[0]=e[0]*n,a[1]=e[1]*n,a[2]=e[2]*n,a[3]=e[3],a[4]=e[4]*u,a[5]=e[5]*u,a[6]=e[6]*u,a[7]=e[7],a[8]=e[8]*f,a[9]=e[9]*f,a[10]=e[10]*f,a[11]=e[11],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15],a};var scratchColumn=new Cartesian3_default;Matrix4.getScale=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t.x=Cartesian3_default.magnitude(Cartesian3_default.fromElements(e[0],e[1],e[2],scratchColumn)),t.y=Cartesian3_default.magnitude(Cartesian3_default.fromElements(e[4],e[5],e[6],scratchColumn)),t.z=Cartesian3_default.magnitude(Cartesian3_default.fromElements(e[8],e[9],e[10],scratchColumn)),t};var scaleScratch3=new Cartesian3_default;Matrix4.getMaximumScale=function(e){return Matrix4.getScale(e,scaleScratch3),Cartesian3_default.maximumComponent(scaleScratch3)};var scaleScratch4=new Cartesian3_default;Matrix4.setRotation=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",a);const r=Matrix4.getScale(e,scaleScratch4);return a[0]=t[0]*r.x,a[1]=t[1]*r.x,a[2]=t[2]*r.x,a[3]=e[3],a[4]=t[3]*r.y,a[5]=t[4]*r.y,a[6]=t[5]*r.y,a[7]=e[7],a[8]=t[6]*r.z,a[9]=t[7]*r.z,a[10]=t[8]*r.z,a[11]=e[11],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15],a};var scaleScratch5=new Cartesian3_default;Matrix4.getRotation=function(e,t){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t);const a=Matrix4.getScale(e,scaleScratch5);return t[0]=e[0]/a.x,t[1]=e[1]/a.x,t[2]=e[2]/a.x,t[3]=e[4]/a.y,t[4]=e[5]/a.y,t[5]=e[6]/a.y,t[6]=e[8]/a.z,t[7]=e[9]/a.z,t[8]=e[10]/a.z,t},Matrix4.multiply=function(e,t,a){Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a);const r=e[0],n=e[1],u=e[2],f=e[3],l=e[4],c=e[5],i=e[6],o=e[7],s=e[8],d=e[9],h=e[10],_=e[11],y=e[12],C=e[13],p=e[14],O=e[15],x=t[0],m=t[1],b=t[2],k=t[3],M=t[4],g=t[5],j=t[6],w=t[7],E=t[8],z=t[9],T=t[10],R=t[11],S=t[12],q=t[13],A=t[14],V=t[15],U=r*x+l*m+s*b+y*k,v=n*x+c*m+d*b+C*k,I=u*x+i*m+h*b+p*k,N=f*x+o*m+_*b+O*k,P=r*M+l*g+s*j+y*w,L=n*M+c*g+d*j+C*w,W=u*M+i*g+h*j+p*w,B=f*M+o*g+_*j+O*w,$=r*E+l*z+s*T+y*R,D=n*E+c*z+d*T+C*R,X=u*E+i*z+h*T+p*R,F=f*E+o*z+_*T+O*R,Y=r*S+l*q+s*A+y*V,Z=n*S+c*q+d*A+C*V,H=u*S+i*q+h*A+p*V,G=f*S+o*q+_*A+O*V;return a[0]=U,a[1]=v,a[2]=I,a[3]=N,a[4]=P,a[5]=L,a[6]=W,a[7]=B,a[8]=$,a[9]=D,a[10]=X,a[11]=F,a[12]=Y,a[13]=Z,a[14]=H,a[15]=G,a},Matrix4.add=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a[0]=e[0]+t[0],a[1]=e[1]+t[1],a[2]=e[2]+t[2],a[3]=e[3]+t[3],a[4]=e[4]+t[4],a[5]=e[5]+t[5],a[6]=e[6]+t[6],a[7]=e[7]+t[7],a[8]=e[8]+t[8],a[9]=e[9]+t[9],a[10]=e[10]+t[10],a[11]=e[11]+t[11],a[12]=e[12]+t[12],a[13]=e[13]+t[13],a[14]=e[14]+t[14],a[15]=e[15]+t[15],a},Matrix4.subtract=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a[0]=e[0]-t[0],a[1]=e[1]-t[1],a[2]=e[2]-t[2],a[3]=e[3]-t[3],a[4]=e[4]-t[4],a[5]=e[5]-t[5],a[6]=e[6]-t[6],a[7]=e[7]-t[7],a[8]=e[8]-t[8],a[9]=e[9]-t[9],a[10]=e[10]-t[10],a[11]=e[11]-t[11],a[12]=e[12]-t[12],a[13]=e[13]-t[13],a[14]=e[14]-t[14],a[15]=e[15]-t[15],a},Matrix4.multiplyTransformation=function(e,t,a){Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a);const r=e[0],n=e[1],u=e[2],f=e[4],l=e[5],c=e[6],i=e[8],o=e[9],s=e[10],d=e[12],h=e[13],_=e[14],y=t[0],C=t[1],p=t[2],O=t[4],x=t[5],m=t[6],b=t[8],k=t[9],M=t[10],g=t[12],j=t[13],w=t[14],E=r*y+f*C+i*p,z=n*y+l*C+o*p,T=u*y+c*C+s*p,R=r*O+f*x+i*m,S=n*O+l*x+o*m,q=u*O+c*x+s*m,A=r*b+f*k+i*M,V=n*b+l*k+o*M,U=u*b+c*k+s*M,v=r*g+f*j+i*w+d,I=n*g+l*j+o*w+h,N=u*g+c*j+s*w+_;return a[0]=E,a[1]=z,a[2]=T,a[3]=0,a[4]=R,a[5]=S,a[6]=q,a[7]=0,a[8]=A,a[9]=V,a[10]=U,a[11]=0,a[12]=v,a[13]=I,a[14]=N,a[15]=1,a},Matrix4.multiplyByMatrix3=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("rotation",t),Check_default.typeOf.object("result",a);const r=e[0],n=e[1],u=e[2],f=e[4],l=e[5],c=e[6],i=e[8],o=e[9],s=e[10],d=t[0],h=t[1],_=t[2],y=t[3],C=t[4],p=t[5],O=t[6],x=t[7],m=t[8],b=r*d+f*h+i*_,k=n*d+l*h+o*_,M=u*d+c*h+s*_,g=r*y+f*C+i*p,j=n*y+l*C+o*p,w=u*y+c*C+s*p,E=r*O+f*x+i*m,z=n*O+l*x+o*m,T=u*O+c*x+s*m;return a[0]=b,a[1]=k,a[2]=M,a[3]=0,a[4]=g,a[5]=j,a[6]=w,a[7]=0,a[8]=E,a[9]=z,a[10]=T,a[11]=0,a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15],a},Matrix4.multiplyByTranslation=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("translation",t),Check_default.typeOf.object("result",a);const r=t.x,n=t.y,u=t.z,f=r*e[0]+n*e[4]+u*e[8]+e[12],l=r*e[1]+n*e[5]+u*e[9]+e[13],c=r*e[2]+n*e[6]+u*e[10]+e[14];return a[0]=e[0],a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=e[4],a[5]=e[5],a[6]=e[6],a[7]=e[7],a[8]=e[8],a[9]=e[9],a[10]=e[10],a[11]=e[11],a[12]=f,a[13]=l,a[14]=c,a[15]=e[15],a},Matrix4.multiplyByScale=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("scale",t),Check_default.typeOf.object("result",a);const r=t.x,n=t.y,u=t.z;return 1===r&&1===n&&1===u?Matrix4.clone(e,a):(a[0]=r*e[0],a[1]=r*e[1],a[2]=r*e[2],a[3]=e[3],a[4]=n*e[4],a[5]=n*e[5],a[6]=n*e[6],a[7]=e[7],a[8]=u*e[8],a[9]=u*e[9],a[10]=u*e[10],a[11]=e[11],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15],a)},Matrix4.multiplyByUniformScale=function(e,t,a){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.number("scale",t),Check_default.typeOf.object("result",a),a[0]=e[0]*t,a[1]=e[1]*t,a[2]=e[2]*t,a[3]=e[3],a[4]=e[4]*t,a[5]=e[5]*t,a[6]=e[6]*t,a[7]=e[7],a[8]=e[8]*t,a[9]=e[9]*t,a[10]=e[10]*t,a[11]=e[11],a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15],a},Matrix4.multiplyByVector=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("cartesian",t),Check_default.typeOf.object("result",a);const r=t.x,n=t.y,u=t.z,f=t.w,l=e[0]*r+e[4]*n+e[8]*u+e[12]*f,c=e[1]*r+e[5]*n+e[9]*u+e[13]*f,i=e[2]*r+e[6]*n+e[10]*u+e[14]*f,o=e[3]*r+e[7]*n+e[11]*u+e[15]*f;return a.x=l,a.y=c,a.z=i,a.w=o,a},Matrix4.multiplyByPointAsVector=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("cartesian",t),Check_default.typeOf.object("result",a);const r=t.x,n=t.y,u=t.z,f=e[0]*r+e[4]*n+e[8]*u,l=e[1]*r+e[5]*n+e[9]*u,c=e[2]*r+e[6]*n+e[10]*u;return a.x=f,a.y=l,a.z=c,a},Matrix4.multiplyByPoint=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("cartesian",t),Check_default.typeOf.object("result",a);const r=t.x,n=t.y,u=t.z,f=e[0]*r+e[4]*n+e[8]*u+e[12],l=e[1]*r+e[5]*n+e[9]*u+e[13],c=e[2]*r+e[6]*n+e[10]*u+e[14];return a.x=f,a.y=l,a.z=c,a},Matrix4.multiplyByScalar=function(e,t,a){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.number("scalar",t),Check_default.typeOf.object("result",a),a[0]=e[0]*t,a[1]=e[1]*t,a[2]=e[2]*t,a[3]=e[3]*t,a[4]=e[4]*t,a[5]=e[5]*t,a[6]=e[6]*t,a[7]=e[7]*t,a[8]=e[8]*t,a[9]=e[9]*t,a[10]=e[10]*t,a[11]=e[11]*t,a[12]=e[12]*t,a[13]=e[13]*t,a[14]=e[14]*t,a[15]=e[15]*t,a},Matrix4.negate=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},Matrix4.transpose=function(e,t){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t);const a=e[1],r=e[2],n=e[3],u=e[6],f=e[7],l=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=a,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=u,t[10]=e[10],t[11]=e[14],t[12]=n,t[13]=f,t[14]=l,t[15]=e[15],t},Matrix4.abs=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},Matrix4.equals=function(e,t){return e===t||defined_default(e)&&defined_default(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},Matrix4.equalsEpsilon=function(e,t,a){return a=defaultValue_default(a,0),e===t||defined_default(e)&&defined_default(t)&&Math.abs(e[0]-t[0])<=a&&Math.abs(e[1]-t[1])<=a&&Math.abs(e[2]-t[2])<=a&&Math.abs(e[3]-t[3])<=a&&Math.abs(e[4]-t[4])<=a&&Math.abs(e[5]-t[5])<=a&&Math.abs(e[6]-t[6])<=a&&Math.abs(e[7]-t[7])<=a&&Math.abs(e[8]-t[8])<=a&&Math.abs(e[9]-t[9])<=a&&Math.abs(e[10]-t[10])<=a&&Math.abs(e[11]-t[11])<=a&&Math.abs(e[12]-t[12])<=a&&Math.abs(e[13]-t[13])<=a&&Math.abs(e[14]-t[14])<=a&&Math.abs(e[15]-t[15])<=a},Matrix4.getTranslation=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t.x=e[12],t.y=e[13],t.z=e[14],t},Matrix4.getMatrix3=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var scratchInverseRotation=new Matrix3_default,scratchMatrix3Zero=new Matrix3_default,scratchBottomRow=new Cartesian4_default,scratchExpectedBottomRow=new Cartesian4_default(0,0,0,1);Matrix4.inverse=function(e,t){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t);const a=e[0],r=e[4],n=e[8],u=e[12],f=e[1],l=e[5],c=e[9],i=e[13],o=e[2],s=e[6],d=e[10],h=e[14],_=e[3],y=e[7],C=e[11],p=e[15];let O=d*p,x=h*C,m=s*p,b=h*y,k=s*C,M=d*y,g=o*p,j=h*_,w=o*C,E=d*_,z=o*y,T=s*_;const R=O*l+b*c+k*i-(x*l+m*c+M*i),S=x*f+g*c+E*i-(O*f+j*c+w*i),q=m*f+j*l+z*i-(b*f+g*l+T*i),A=M*f+w*l+T*c-(k*f+E*l+z*c),V=x*r+m*n+M*u-(O*r+b*n+k*u),U=O*a+j*n+w*u-(x*a+g*n+E*u),v=b*a+g*r+T*u-(m*a+j*r+z*u),I=k*a+E*r+z*n-(M*a+w*r+T*n);O=n*i,x=u*c,m=r*i,b=u*l,k=r*c,M=n*l,g=a*i,j=u*f,w=a*c,E=n*f,z=a*l,T=r*f;const N=O*y+b*C+k*p-(x*y+m*C+M*p),P=x*_+g*C+E*p-(O*_+j*C+w*p),L=m*_+j*y+z*p-(b*_+g*y+T*p),W=M*_+w*y+T*C-(k*_+E*y+z*C),B=m*d+M*h+x*s-(k*h+O*s+b*d),$=w*h+O*o+j*d-(g*d+E*h+x*o),D=g*s+T*h+b*o-(z*h+m*o+j*s),X=z*d+k*o+E*s-(w*s+T*d+M*o);let F=a*R+r*S+n*q+u*A;if(Math.abs(F)<Math_default.EPSILON21){if(Matrix3_default.equalsEpsilon(Matrix4.getMatrix3(e,scratchInverseRotation),scratchMatrix3Zero,Math_default.EPSILON7)&&Cartesian4_default.equals(Matrix4.getRow(e,3,scratchBottomRow),scratchExpectedBottomRow))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new RuntimeError_default("matrix is not invertible because its determinate is zero.")}return F=1/F,t[0]=R*F,t[1]=S*F,t[2]=q*F,t[3]=A*F,t[4]=V*F,t[5]=U*F,t[6]=v*F,t[7]=I*F,t[8]=N*F,t[9]=P*F,t[10]=L*F,t[11]=W*F,t[12]=B*F,t[13]=$*F,t[14]=D*F,t[15]=X*F,t},Matrix4.inverseTransformation=function(e,t){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t);const a=e[0],r=e[1],n=e[2],u=e[4],f=e[5],l=e[6],c=e[8],i=e[9],o=e[10],s=e[12],d=e[13],h=e[14],_=-a*s-r*d-n*h,y=-u*s-f*d-l*h,C=-c*s-i*d-o*h;return t[0]=a,t[1]=u,t[2]=c,t[3]=0,t[4]=r,t[5]=f,t[6]=i,t[7]=0,t[8]=n,t[9]=l,t[10]=o,t[11]=0,t[12]=_,t[13]=y,t[14]=C,t[15]=1,t};var scratchTransposeMatrix=new Matrix4;Matrix4.inverseTranspose=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),Matrix4.inverse(Matrix4.transpose(e,scratchTransposeMatrix),t)},Matrix4.IDENTITY=Object.freeze(new Matrix4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),Matrix4.ZERO=Object.freeze(new Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),Matrix4.COLUMN0ROW0=0,Matrix4.COLUMN0ROW1=1,Matrix4.COLUMN0ROW2=2,Matrix4.COLUMN0ROW3=3,Matrix4.COLUMN1ROW0=4,Matrix4.COLUMN1ROW1=5,Matrix4.COLUMN1ROW2=6,Matrix4.COLUMN1ROW3=7,Matrix4.COLUMN2ROW0=8,Matrix4.COLUMN2ROW1=9,Matrix4.COLUMN2ROW2=10,Matrix4.COLUMN2ROW3=11,Matrix4.COLUMN3ROW0=12,Matrix4.COLUMN3ROW1=13,Matrix4.COLUMN3ROW2=14,Matrix4.COLUMN3ROW3=15,Object.defineProperties(Matrix4.prototype,{length:{get:function(){return Matrix4.packedLength}}}),Matrix4.prototype.clone=function(e){return Matrix4.clone(this,e)},Matrix4.prototype.equals=function(e){return Matrix4.equals(this,e)},Matrix4.equalsArray=function(e,t,a){return e[0]===t[a]&&e[1]===t[a+1]&&e[2]===t[a+2]&&e[3]===t[a+3]&&e[4]===t[a+4]&&e[5]===t[a+5]&&e[6]===t[a+6]&&e[7]===t[a+7]&&e[8]===t[a+8]&&e[9]===t[a+9]&&e[10]===t[a+10]&&e[11]===t[a+11]&&e[12]===t[a+12]&&e[13]===t[a+13]&&e[14]===t[a+14]&&e[15]===t[a+15]},Matrix4.prototype.equalsEpsilon=function(e,t){return Matrix4.equalsEpsilon(this,e,t)},Matrix4.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`};var Matrix4_default=Matrix4;function Rectangle(e,t,a,r){this.west=defaultValue_default(e,0),this.south=defaultValue_default(t,0),this.east=defaultValue_default(a,0),this.north=defaultValue_default(r,0)}Object.defineProperties(Rectangle.prototype,{width:{get:function(){return Rectangle.computeWidth(this)}},height:{get:function(){return Rectangle.computeHeight(this)}}}),Rectangle.packedLength=4,Rectangle.pack=function(e,t,a){return Check_default.typeOf.object("value",e),Check_default.defined("array",t),a=defaultValue_default(a,0),t[a++]=e.west,t[a++]=e.south,t[a++]=e.east,t[a]=e.north,t},Rectangle.unpack=function(e,t,a){return Check_default.defined("array",e),t=defaultValue_default(t,0),defined_default(a)||(a=new Rectangle),a.west=e[t++],a.south=e[t++],a.east=e[t++],a.north=e[t],a},Rectangle.computeWidth=function(e){Check_default.typeOf.object("rectangle",e);let t=e.east;const a=e.west;return t<a&&(t+=Math_default.TWO_PI),t-a},Rectangle.computeHeight=function(e){return Check_default.typeOf.object("rectangle",e),e.north-e.south},Rectangle.fromDegrees=function(e,t,a,r,n){return e=Math_default.toRadians(defaultValue_default(e,0)),t=Math_default.toRadians(defaultValue_default(t,0)),a=Math_default.toRadians(defaultValue_default(a,0)),r=Math_default.toRadians(defaultValue_default(r,0)),defined_default(n)?(n.west=e,n.south=t,n.east=a,n.north=r,n):new Rectangle(e,t,a,r)},Rectangle.fromRadians=function(e,t,a,r,n){return defined_default(n)?(n.west=defaultValue_default(e,0),n.south=defaultValue_default(t,0),n.east=defaultValue_default(a,0),n.north=defaultValue_default(r,0),n):new Rectangle(e,t,a,r)},Rectangle.fromCartographicArray=function(e,t){Check_default.defined("cartographics",e);let a=Number.MAX_VALUE,r=-Number.MAX_VALUE,n=Number.MAX_VALUE,u=-Number.MAX_VALUE,f=Number.MAX_VALUE,l=-Number.MAX_VALUE;for(let t=0,c=e.length;t<c;t++){const c=e[t];a=Math.min(a,c.longitude),r=Math.max(r,c.longitude),f=Math.min(f,c.latitude),l=Math.max(l,c.latitude);const i=c.longitude>=0?c.longitude:c.longitude+Math_default.TWO_PI;n=Math.min(n,i),u=Math.max(u,i)}return r-a>u-n&&(a=n,r=u,r>Math_default.PI&&(r-=Math_default.TWO_PI),a>Math_default.PI&&(a-=Math_default.TWO_PI)),defined_default(t)?(t.west=a,t.south=f,t.east=r,t.north=l,t):new Rectangle(a,f,r,l)},Rectangle.fromCartesianArray=function(e,t,a){Check_default.defined("cartesians",e),t=defaultValue_default(t,Ellipsoid_default.WGS84);let r=Number.MAX_VALUE,n=-Number.MAX_VALUE,u=Number.MAX_VALUE,f=-Number.MAX_VALUE,l=Number.MAX_VALUE,c=-Number.MAX_VALUE;for(let a=0,i=e.length;a<i;a++){const i=t.cartesianToCartographic(e[a]);r=Math.min(r,i.longitude),n=Math.max(n,i.longitude),l=Math.min(l,i.latitude),c=Math.max(c,i.latitude);const o=i.longitude>=0?i.longitude:i.longitude+Math_default.TWO_PI;u=Math.min(u,o),f=Math.max(f,o)}return n-r>f-u&&(r=u,n=f,n>Math_default.PI&&(n-=Math_default.TWO_PI),r>Math_default.PI&&(r-=Math_default.TWO_PI)),defined_default(a)?(a.west=r,a.south=l,a.east=n,a.north=c,a):new Rectangle(r,l,n,c)},Rectangle.clone=function(e,t){if(defined_default(e))return defined_default(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new Rectangle(e.west,e.south,e.east,e.north)},Rectangle.equalsEpsilon=function(e,t,a){return a=defaultValue_default(a,0),e===t||defined_default(e)&&defined_default(t)&&Math.abs(e.west-t.west)<=a&&Math.abs(e.south-t.south)<=a&&Math.abs(e.east-t.east)<=a&&Math.abs(e.north-t.north)<=a},Rectangle.prototype.clone=function(e){return Rectangle.clone(this,e)},Rectangle.prototype.equals=function(e){return Rectangle.equals(this,e)},Rectangle.equals=function(e,t){return e===t||defined_default(e)&&defined_default(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},Rectangle.prototype.equalsEpsilon=function(e,t){return Rectangle.equalsEpsilon(this,e,t)},Rectangle.validate=function(e){Check_default.typeOf.object("rectangle",e);const t=e.north;Check_default.typeOf.number.greaterThanOrEquals("north",t,-Math_default.PI_OVER_TWO),Check_default.typeOf.number.lessThanOrEquals("north",t,Math_default.PI_OVER_TWO);const a=e.south;Check_default.typeOf.number.greaterThanOrEquals("south",a,-Math_default.PI_OVER_TWO),Check_default.typeOf.number.lessThanOrEquals("south",a,Math_default.PI_OVER_TWO);const r=e.west;Check_default.typeOf.number.greaterThanOrEquals("west",r,-Math.PI),Check_default.typeOf.number.lessThanOrEquals("west",r,Math.PI);const n=e.east;Check_default.typeOf.number.greaterThanOrEquals("east",n,-Math.PI),Check_default.typeOf.number.lessThanOrEquals("east",n,Math.PI)},Rectangle.southwest=function(e,t){return Check_default.typeOf.object("rectangle",e),defined_default(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new Cartographic_default(e.west,e.south)},Rectangle.northwest=function(e,t){return Check_default.typeOf.object("rectangle",e),defined_default(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new Cartographic_default(e.west,e.north)},Rectangle.northeast=function(e,t){return Check_default.typeOf.object("rectangle",e),defined_default(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new Cartographic_default(e.east,e.north)},Rectangle.southeast=function(e,t){return Check_default.typeOf.object("rectangle",e),defined_default(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new Cartographic_default(e.east,e.south)},Rectangle.center=function(e,t){Check_default.typeOf.object("rectangle",e);let a=e.east;const r=e.west;a<r&&(a+=Math_default.TWO_PI);const n=Math_default.negativePiToPi(.5*(r+a)),u=.5*(e.south+e.north);return defined_default(t)?(t.longitude=n,t.latitude=u,t.height=0,t):new Cartographic_default(n,u)},Rectangle.intersection=function(e,t,a){Check_default.typeOf.object("rectangle",e),Check_default.typeOf.object("otherRectangle",t);let r=e.east,n=e.west,u=t.east,f=t.west;r<n&&u>0?r+=Math_default.TWO_PI:u<f&&r>0&&(u+=Math_default.TWO_PI),r<n&&f<0?f+=Math_default.TWO_PI:u<f&&n<0&&(n+=Math_default.TWO_PI);const l=Math_default.negativePiToPi(Math.max(n,f)),c=Math_default.negativePiToPi(Math.min(r,u));if((e.west<e.east||t.west<t.east)&&c<=l)return;const i=Math.max(e.south,t.south),o=Math.min(e.north,t.north);return i>=o?void 0:defined_default(a)?(a.west=l,a.south=i,a.east=c,a.north=o,a):new Rectangle(l,i,c,o)},Rectangle.simpleIntersection=function(e,t,a){Check_default.typeOf.object("rectangle",e),Check_default.typeOf.object("otherRectangle",t);const r=Math.max(e.west,t.west),n=Math.max(e.south,t.south),u=Math.min(e.east,t.east),f=Math.min(e.north,t.north);if(!(n>=f||r>=u))return defined_default(a)?(a.west=r,a.south=n,a.east=u,a.north=f,a):new Rectangle(r,n,u,f)},Rectangle.union=function(e,t,a){Check_default.typeOf.object("rectangle",e),Check_default.typeOf.object("otherRectangle",t),defined_default(a)||(a=new Rectangle);let r=e.east,n=e.west,u=t.east,f=t.west;r<n&&u>0?r+=Math_default.TWO_PI:u<f&&r>0&&(u+=Math_default.TWO_PI),r<n&&f<0?f+=Math_default.TWO_PI:u<f&&n<0&&(n+=Math_default.TWO_PI);const l=Math_default.negativePiToPi(Math.min(n,f)),c=Math_default.negativePiToPi(Math.max(r,u));return a.west=l,a.south=Math.min(e.south,t.south),a.east=c,a.north=Math.max(e.north,t.north),a},Rectangle.expand=function(e,t,a){return Check_default.typeOf.object("rectangle",e),Check_default.typeOf.object("cartographic",t),defined_default(a)||(a=new Rectangle),a.west=Math.min(e.west,t.longitude),a.south=Math.min(e.south,t.latitude),a.east=Math.max(e.east,t.longitude),a.north=Math.max(e.north,t.latitude),a},Rectangle.contains=function(e,t){Check_default.typeOf.object("rectangle",e),Check_default.typeOf.object("cartographic",t);let a=t.longitude;const r=t.latitude,n=e.west;let u=e.east;return u<n&&(u+=Math_default.TWO_PI,a<0&&(a+=Math_default.TWO_PI)),(a>n||Math_default.equalsEpsilon(a,n,Math_default.EPSILON14))&&(a<u||Math_default.equalsEpsilon(a,u,Math_default.EPSILON14))&&r>=e.south&&r<=e.north};var subsampleLlaScratch=new Cartographic_default;Rectangle.subsample=function(e,t,a,r){Check_default.typeOf.object("rectangle",e),t=defaultValue_default(t,Ellipsoid_default.WGS84),a=defaultValue_default(a,0),defined_default(r)||(r=[]);let n=0;const u=e.north,f=e.south,l=e.east,c=e.west,i=subsampleLlaScratch;i.height=a,i.longitude=c,i.latitude=u,r[n]=t.cartographicToCartesian(i,r[n]),n++,i.longitude=l,r[n]=t.cartographicToCartesian(i,r[n]),n++,i.latitude=f,r[n]=t.cartographicToCartesian(i,r[n]),n++,i.longitude=c,r[n]=t.cartographicToCartesian(i,r[n]),n++,i.latitude=u<0?u:f>0?f:0;for(let a=1;a<8;++a)i.longitude=-Math.PI+a*Math_default.PI_OVER_TWO,Rectangle.contains(e,i)&&(r[n]=t.cartographicToCartesian(i,r[n]),n++);return 0===i.latitude&&(i.longitude=c,r[n]=t.cartographicToCartesian(i,r[n]),n++,i.longitude=l,r[n]=t.cartographicToCartesian(i,r[n]),n++),r.length=n,r},Rectangle.subsection=function(e,t,a,r,n,u){if(Check_default.typeOf.object("rectangle",e),Check_default.typeOf.number.greaterThanOrEquals("westLerp",t,0),Check_default.typeOf.number.lessThanOrEquals("westLerp",t,1),Check_default.typeOf.number.greaterThanOrEquals("southLerp",a,0),Check_default.typeOf.number.lessThanOrEquals("southLerp",a,1),Check_default.typeOf.number.greaterThanOrEquals("eastLerp",r,0),Check_default.typeOf.number.lessThanOrEquals("eastLerp",r,1),Check_default.typeOf.number.greaterThanOrEquals("northLerp",n,0),Check_default.typeOf.number.lessThanOrEquals("northLerp",n,1),Check_default.typeOf.number.lessThanOrEquals("westLerp",t,r),Check_default.typeOf.number.lessThanOrEquals("southLerp",a,n),defined_default(u)||(u=new Rectangle),e.west<=e.east){const a=e.east-e.west;u.west=e.west+t*a,u.east=e.west+r*a}else{const a=Math_default.TWO_PI+e.east-e.west;u.west=Math_default.negativePiToPi(e.west+t*a),u.east=Math_default.negativePiToPi(e.west+r*a)}const f=e.north-e.south;return u.south=e.south+a*f,u.north=e.south+n*f,1===t&&(u.west=e.east),1===r&&(u.east=e.east),1===a&&(u.south=e.north),1===n&&(u.north=e.north),u},Rectangle.MAX_VALUE=Object.freeze(new Rectangle(-Math.PI,-Math_default.PI_OVER_TWO,Math.PI,Math_default.PI_OVER_TWO));var Rectangle_default=Rectangle;function Cartesian2(e,t){this.x=defaultValue_default(e,0),this.y=defaultValue_default(t,0)}Cartesian2.fromElements=function(e,t,a){return defined_default(a)?(a.x=e,a.y=t,a):new Cartesian2(e,t)},Cartesian2.clone=function(e,t){if(defined_default(e))return defined_default(t)?(t.x=e.x,t.y=e.y,t):new Cartesian2(e.x,e.y)},Cartesian2.fromCartesian3=Cartesian2.clone,Cartesian2.fromCartesian4=Cartesian2.clone,Cartesian2.packedLength=2,Cartesian2.pack=function(e,t,a){return Check_default.typeOf.object("value",e),Check_default.defined("array",t),a=defaultValue_default(a,0),t[a++]=e.x,t[a]=e.y,t},Cartesian2.unpack=function(e,t,a){return Check_default.defined("array",e),t=defaultValue_default(t,0),defined_default(a)||(a=new Cartesian2),a.x=e[t++],a.y=e[t],a},Cartesian2.packArray=function(e,t){Check_default.defined("array",e);const a=e.length,r=2*a;if(defined_default(t)){if(!Array.isArray(t)&&t.length!==r)throw new DeveloperError_default("If result is a typed array, it must have exactly array.length * 2 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(let r=0;r<a;++r)Cartesian2.pack(e[r],t,2*r);return t},Cartesian2.unpackArray=function(e,t){if(Check_default.defined("array",e),Check_default.typeOf.number.greaterThanOrEquals("array.length",e.length,2),e.length%2!=0)throw new DeveloperError_default("array length must be a multiple of 2.");const a=e.length;defined_default(t)?t.length=a/2:t=new Array(a/2);for(let r=0;r<a;r+=2){const a=r/2;t[a]=Cartesian2.unpack(e,r,t[a])}return t},Cartesian2.fromArray=Cartesian2.unpack,Cartesian2.maximumComponent=function(e){return Check_default.typeOf.object("cartesian",e),Math.max(e.x,e.y)},Cartesian2.minimumComponent=function(e){return Check_default.typeOf.object("cartesian",e),Math.min(e.x,e.y)},Cartesian2.minimumByComponent=function(e,t,a){return Check_default.typeOf.object("first",e),Check_default.typeOf.object("second",t),Check_default.typeOf.object("result",a),a.x=Math.min(e.x,t.x),a.y=Math.min(e.y,t.y),a},Cartesian2.maximumByComponent=function(e,t,a){return Check_default.typeOf.object("first",e),Check_default.typeOf.object("second",t),Check_default.typeOf.object("result",a),a.x=Math.max(e.x,t.x),a.y=Math.max(e.y,t.y),a},Cartesian2.clamp=function(e,t,a,r){Check_default.typeOf.object("value",e),Check_default.typeOf.object("min",t),Check_default.typeOf.object("max",a),Check_default.typeOf.object("result",r);const n=Math_default.clamp(e.x,t.x,a.x),u=Math_default.clamp(e.y,t.y,a.y);return r.x=n,r.y=u,r},Cartesian2.magnitudeSquared=function(e){return Check_default.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y},Cartesian2.magnitude=function(e){return Math.sqrt(Cartesian2.magnitudeSquared(e))};var distanceScratch2=new Cartesian2;Cartesian2.distance=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Cartesian2.subtract(e,t,distanceScratch2),Cartesian2.magnitude(distanceScratch2)},Cartesian2.distanceSquared=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Cartesian2.subtract(e,t,distanceScratch2),Cartesian2.magnitudeSquared(distanceScratch2)},Cartesian2.normalize=function(e,t){Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t);const a=Cartesian2.magnitude(e);if(t.x=e.x/a,t.y=e.y/a,isNaN(t.x)||isNaN(t.y))throw new DeveloperError_default("normalized result is not a number");return t},Cartesian2.dot=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),e.x*t.x+e.y*t.y},Cartesian2.cross=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),e.x*t.y-e.y*t.x},Cartesian2.multiplyComponents=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x*t.x,a.y=e.y*t.y,a},Cartesian2.divideComponents=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x/t.x,a.y=e.y/t.y,a},Cartesian2.add=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x+t.x,a.y=e.y+t.y,a},Cartesian2.subtract=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a.x=e.x-t.x,a.y=e.y-t.y,a},Cartesian2.multiplyByScalar=function(e,t,a){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.number("scalar",t),Check_default.typeOf.object("result",a),a.x=e.x*t,a.y=e.y*t,a},Cartesian2.divideByScalar=function(e,t,a){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.number("scalar",t),Check_default.typeOf.object("result",a),a.x=e.x/t,a.y=e.y/t,a},Cartesian2.negate=function(e,t){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t),t.x=-e.x,t.y=-e.y,t},Cartesian2.abs=function(e,t){return Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t),t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var lerpScratch2=new Cartesian2;Cartesian2.lerp=function(e,t,a,r){return Check_default.typeOf.object("start",e),Check_default.typeOf.object("end",t),Check_default.typeOf.number("t",a),Check_default.typeOf.object("result",r),Cartesian2.multiplyByScalar(t,a,lerpScratch2),r=Cartesian2.multiplyByScalar(e,1-a,r),Cartesian2.add(lerpScratch2,r,r)};var angleBetweenScratch=new Cartesian2,angleBetweenScratch2=new Cartesian2;Cartesian2.angleBetween=function(e,t){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Cartesian2.normalize(e,angleBetweenScratch),Cartesian2.normalize(t,angleBetweenScratch2),Math_default.acosClamped(Cartesian2.dot(angleBetweenScratch,angleBetweenScratch2))};var mostOrthogonalAxisScratch2=new Cartesian2;Cartesian2.mostOrthogonalAxis=function(e,t){Check_default.typeOf.object("cartesian",e),Check_default.typeOf.object("result",t);const a=Cartesian2.normalize(e,mostOrthogonalAxisScratch2);return Cartesian2.abs(a,a),a.x<=a.y?Cartesian2.clone(Cartesian2.UNIT_X,t):Cartesian2.clone(Cartesian2.UNIT_Y,t)},Cartesian2.equals=function(e,t){return e===t||defined_default(e)&&defined_default(t)&&e.x===t.x&&e.y===t.y},Cartesian2.equalsArray=function(e,t,a){return e.x===t[a]&&e.y===t[a+1]},Cartesian2.equalsEpsilon=function(e,t,a,r){return e===t||defined_default(e)&&defined_default(t)&&Math_default.equalsEpsilon(e.x,t.x,a,r)&&Math_default.equalsEpsilon(e.y,t.y,a,r)},Cartesian2.ZERO=Object.freeze(new Cartesian2(0,0)),Cartesian2.ONE=Object.freeze(new Cartesian2(1,1)),Cartesian2.UNIT_X=Object.freeze(new Cartesian2(1,0)),Cartesian2.UNIT_Y=Object.freeze(new Cartesian2(0,1)),Cartesian2.prototype.clone=function(e){return Cartesian2.clone(this,e)},Cartesian2.prototype.equals=function(e){return Cartesian2.equals(this,e)},Cartesian2.prototype.equalsEpsilon=function(e,t,a){return Cartesian2.equalsEpsilon(this,e,t,a)},Cartesian2.prototype.toString=function(){return`(${this.x}, ${this.y})`};var Cartesian2_default=Cartesian2;function Matrix2(e,t,a,r){this[0]=defaultValue_default(e,0),this[1]=defaultValue_default(a,0),this[2]=defaultValue_default(t,0),this[3]=defaultValue_default(r,0)}Matrix2.packedLength=4,Matrix2.pack=function(e,t,a){return Check_default.typeOf.object("value",e),Check_default.defined("array",t),a=defaultValue_default(a,0),t[a++]=e[0],t[a++]=e[1],t[a++]=e[2],t[a++]=e[3],t},Matrix2.unpack=function(e,t,a){return Check_default.defined("array",e),t=defaultValue_default(t,0),defined_default(a)||(a=new Matrix2),a[0]=e[t++],a[1]=e[t++],a[2]=e[t++],a[3]=e[t++],a},Matrix2.packArray=function(e,t){Check_default.defined("array",e);const a=e.length,r=4*a;if(defined_default(t)){if(!Array.isArray(t)&&t.length!==r)throw new DeveloperError_default("If result is a typed array, it must have exactly array.length * 4 elements");t.length!==r&&(t.length=r)}else t=new Array(r);for(let r=0;r<a;++r)Matrix2.pack(e[r],t,4*r);return t},Matrix2.unpackArray=function(e,t){if(Check_default.defined("array",e),Check_default.typeOf.number.greaterThanOrEquals("array.length",e.length,4),e.length%4!=0)throw new DeveloperError_default("array length must be a multiple of 4.");const a=e.length;defined_default(t)?t.length=a/4:t=new Array(a/4);for(let r=0;r<a;r+=4){const a=r/4;t[a]=Matrix2.unpack(e,r,t[a])}return t},Matrix2.clone=function(e,t){if(defined_default(e))return defined_default(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new Matrix2(e[0],e[2],e[1],e[3])},Matrix2.fromArray=Matrix2.unpack,Matrix2.fromColumnMajorArray=function(e,t){return Check_default.defined("values",e),Matrix2.clone(e,t)},Matrix2.fromRowMajorArray=function(e,t){return Check_default.defined("values",e),defined_default(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new Matrix2(e[0],e[1],e[2],e[3])},Matrix2.fromScale=function(e,t){return Check_default.typeOf.object("scale",e),defined_default(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new Matrix2(e.x,0,0,e.y)},Matrix2.fromUniformScale=function(e,t){return Check_default.typeOf.number("scale",e),defined_default(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new Matrix2(e,0,0,e)},Matrix2.fromRotation=function(e,t){Check_default.typeOf.number("angle",e);const a=Math.cos(e),r=Math.sin(e);return defined_default(t)?(t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t):new Matrix2(a,-r,r,a)},Matrix2.toArray=function(e,t){return Check_default.typeOf.object("matrix",e),defined_default(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},Matrix2.getElementIndex=function(e,t){return Check_default.typeOf.number.greaterThanOrEquals("row",t,0),Check_default.typeOf.number.lessThanOrEquals("row",t,1),Check_default.typeOf.number.greaterThanOrEquals("column",e,0),Check_default.typeOf.number.lessThanOrEquals("column",e,1),2*e+t},Matrix2.getColumn=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,1),Check_default.typeOf.object("result",a);const r=2*t,n=e[r],u=e[r+1];return a.x=n,a.y=u,a},Matrix2.setColumn=function(e,t,a,r){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,1),Check_default.typeOf.object("cartesian",a),Check_default.typeOf.object("result",r);const n=2*t;return(r=Matrix2.clone(e,r))[n]=a.x,r[n+1]=a.y,r},Matrix2.getRow=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,1),Check_default.typeOf.object("result",a);const r=e[t],n=e[t+2];return a.x=r,a.y=n,a},Matrix2.setRow=function(e,t,a,r){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.number.greaterThanOrEquals("index",t,0),Check_default.typeOf.number.lessThanOrEquals("index",t,1),Check_default.typeOf.object("cartesian",a),Check_default.typeOf.object("result",r),(r=Matrix2.clone(e,r))[t]=a.x,r[t+2]=a.y,r};var scaleScratch12=new Cartesian2_default;Matrix2.setScale=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("scale",t),Check_default.typeOf.object("result",a);const r=Matrix2.getScale(e,scaleScratch12),n=t.x/r.x,u=t.y/r.y;return a[0]=e[0]*n,a[1]=e[1]*n,a[2]=e[2]*u,a[3]=e[3]*u,a};var scaleScratch22=new Cartesian2_default;Matrix2.setUniformScale=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.number("scale",t),Check_default.typeOf.object("result",a);const r=Matrix2.getScale(e,scaleScratch22),n=t/r.x,u=t/r.y;return a[0]=e[0]*n,a[1]=e[1]*n,a[2]=e[2]*u,a[3]=e[3]*u,a};var scratchColumn2=new Cartesian2_default;Matrix2.getScale=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t.x=Cartesian2_default.magnitude(Cartesian2_default.fromElements(e[0],e[1],scratchColumn2)),t.y=Cartesian2_default.magnitude(Cartesian2_default.fromElements(e[2],e[3],scratchColumn2)),t};var scaleScratch32=new Cartesian2_default;Matrix2.getMaximumScale=function(e){return Matrix2.getScale(e,scaleScratch32),Cartesian2_default.maximumComponent(scaleScratch32)};var scaleScratch42=new Cartesian2_default;Matrix2.setRotation=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",a);const r=Matrix2.getScale(e,scaleScratch42);return a[0]=t[0]*r.x,a[1]=t[1]*r.x,a[2]=t[2]*r.y,a[3]=t[3]*r.y,a};var scaleScratch52=new Cartesian2_default;Matrix2.getRotation=function(e,t){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t);const a=Matrix2.getScale(e,scaleScratch52);return t[0]=e[0]/a.x,t[1]=e[1]/a.x,t[2]=e[2]/a.y,t[3]=e[3]/a.y,t},Matrix2.multiply=function(e,t,a){Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a);const r=e[0]*t[0]+e[2]*t[1],n=e[0]*t[2]+e[2]*t[3],u=e[1]*t[0]+e[3]*t[1],f=e[1]*t[2]+e[3]*t[3];return a[0]=r,a[1]=u,a[2]=n,a[3]=f,a},Matrix2.add=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a[0]=e[0]+t[0],a[1]=e[1]+t[1],a[2]=e[2]+t[2],a[3]=e[3]+t[3],a},Matrix2.subtract=function(e,t,a){return Check_default.typeOf.object("left",e),Check_default.typeOf.object("right",t),Check_default.typeOf.object("result",a),a[0]=e[0]-t[0],a[1]=e[1]-t[1],a[2]=e[2]-t[2],a[3]=e[3]-t[3],a},Matrix2.multiplyByVector=function(e,t,a){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("cartesian",t),Check_default.typeOf.object("result",a);const r=e[0]*t.x+e[2]*t.y,n=e[1]*t.x+e[3]*t.y;return a.x=r,a.y=n,a},Matrix2.multiplyByScalar=function(e,t,a){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.number("scalar",t),Check_default.typeOf.object("result",a),a[0]=e[0]*t,a[1]=e[1]*t,a[2]=e[2]*t,a[3]=e[3]*t,a},Matrix2.multiplyByScale=function(e,t,a){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("scale",t),Check_default.typeOf.object("result",a),a[0]=e[0]*t.x,a[1]=e[1]*t.x,a[2]=e[2]*t.y,a[3]=e[3]*t.y,a},Matrix2.multiplyByUniformScale=function(e,t,a){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.number("scale",t),Check_default.typeOf.object("result",a),a[0]=e[0]*t,a[1]=e[1]*t,a[2]=e[2]*t,a[3]=e[3]*t,a},Matrix2.negate=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},Matrix2.transpose=function(e,t){Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t);const a=e[0],r=e[2],n=e[1],u=e[3];return t[0]=a,t[1]=r,t[2]=n,t[3]=u,t},Matrix2.abs=function(e,t){return Check_default.typeOf.object("matrix",e),Check_default.typeOf.object("result",t),t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},Matrix2.equals=function(e,t){return e===t||defined_default(e)&&defined_default(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},Matrix2.equalsArray=function(e,t,a){return e[0]===t[a]&&e[1]===t[a+1]&&e[2]===t[a+2]&&e[3]===t[a+3]},Matrix2.equalsEpsilon=function(e,t,a){return a=defaultValue_default(a,0),e===t||defined_default(e)&&defined_default(t)&&Math.abs(e[0]-t[0])<=a&&Math.abs(e[1]-t[1])<=a&&Math.abs(e[2]-t[2])<=a&&Math.abs(e[3]-t[3])<=a},Matrix2.IDENTITY=Object.freeze(new Matrix2(1,0,0,1)),Matrix2.ZERO=Object.freeze(new Matrix2(0,0,0,0)),Matrix2.COLUMN0ROW0=0,Matrix2.COLUMN0ROW1=1,Matrix2.COLUMN1ROW0=2,Matrix2.COLUMN1ROW1=3,Object.defineProperties(Matrix2.prototype,{length:{get:function(){return Matrix2.packedLength}}}),Matrix2.prototype.clone=function(e){return Matrix2.clone(this,e)},Matrix2.prototype.equals=function(e){return Matrix2.equals(this,e)},Matrix2.prototype.equalsEpsilon=function(e,t){return Matrix2.equalsEpsilon(this,e,t)},Matrix2.prototype.toString=function(){return`(${this[0]}, ${this[2]})\n(${this[1]}, ${this[3]})`};var Matrix2_default=Matrix2;export{Cartesian4_default,Matrix4_default,Rectangle_default,Cartesian2_default,Matrix2_default};