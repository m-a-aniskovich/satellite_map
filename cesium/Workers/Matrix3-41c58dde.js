define(["exports","./Check-6ede7e26","./defaultValue-fe22d8c0","./Math-0a2ac845"],(function(e,t,n,r){"use strict";function i(e,t,r){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0),this.z=n.defaultValue(r,0)}i.fromSpherical=function(e,r){t.Check.typeOf.object("spherical",e),n.defined(r)||(r=new i);const a=e.clock,o=e.cone,c=n.defaultValue(e.magnitude,1),u=c*Math.sin(o);return r.x=u*Math.cos(a),r.y=u*Math.sin(a),r.z=c*Math.cos(o),r},i.fromElements=function(e,t,r,a){return n.defined(a)?(a.x=e,a.y=t,a.z=r,a):new i(e,t,r)},i.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new i(e.x,e.y,e.z)},i.fromCartesian4=i.clone,i.packedLength=3,i.pack=function(e,r,i){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),i=n.defaultValue(i,0),r[i++]=e.x,r[i++]=e.y,r[i]=e.z,r},i.unpack=function(e,r,a){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(a)||(a=new i),a.x=e[r++],a.y=e[r++],a.z=e[r],a},i.packArray=function(e,r){t.Check.defined("array",e);const a=e.length,o=3*a;if(n.defined(r)){if(!Array.isArray(r)&&r.length!==o)throw new t.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");r.length!==o&&(r.length=o)}else r=new Array(o);for(let t=0;t<a;++t)i.pack(e[t],r,3*t);return r},i.unpackArray=function(e,r){if(t.Check.defined("array",e),t.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,3),e.length%3!=0)throw new t.DeveloperError("array length must be a multiple of 3.");const a=e.length;n.defined(r)?r.length=a/3:r=new Array(a/3);for(let t=0;t<a;t+=3){const n=t/3;r[n]=i.unpack(e,t,r[n])}return r},i.fromArray=i.unpack,i.maximumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.max(e.x,e.y,e.z)},i.minimumComponent=function(e){return t.Check.typeOf.object("cartesian",e),Math.min(e.x,e.y,e.z)},i.minimumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r.z=Math.min(e.z,n.z),r},i.maximumByComponent=function(e,n,r){return t.Check.typeOf.object("first",e),t.Check.typeOf.object("second",n),t.Check.typeOf.object("result",r),r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r.z=Math.max(e.z,n.z),r},i.clamp=function(e,n,i,a){t.Check.typeOf.object("value",e),t.Check.typeOf.object("min",n),t.Check.typeOf.object("max",i),t.Check.typeOf.object("result",a);const o=r.CesiumMath.clamp(e.x,n.x,i.x),c=r.CesiumMath.clamp(e.y,n.y,i.y),u=r.CesiumMath.clamp(e.z,n.z,i.z);return a.x=o,a.y=c,a.z=u,a},i.magnitudeSquared=function(e){return t.Check.typeOf.object("cartesian",e),e.x*e.x+e.y*e.y+e.z*e.z},i.magnitude=function(e){return Math.sqrt(i.magnitudeSquared(e))};const a=new i;i.distance=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),i.subtract(e,n,a),i.magnitude(a)},i.distanceSquared=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),i.subtract(e,n,a),i.magnitudeSquared(a)},i.normalize=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);const r=i.magnitude(e);if(n.x=e.x/r,n.y=e.y/r,n.z=e.z/r,isNaN(n.x)||isNaN(n.y)||isNaN(n.z))throw new t.DeveloperError("normalized result is not a number");return n},i.dot=function(e,n){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),e.x*n.x+e.y*n.y+e.z*n.z},i.multiplyComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x*n.x,r.y=e.y*n.y,r.z=e.z*n.z,r},i.divideComponents=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x/n.x,r.y=e.y/n.y,r.z=e.z/n.z,r},i.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x+n.x,r.y=e.y+n.y,r.z=e.z+n.z,r},i.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=e.x-n.x,r.y=e.y-n.y,r.z=e.z-n.z,r},i.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x*n,r.y=e.y*n,r.z=e.z*n,r},i.divideByScalar=function(e,n,r){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r.x=e.x/n,r.y=e.y/n,r.z=e.z/n,r},i.negate=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=-e.x,n.y=-e.y,n.z=-e.z,n},i.abs=function(e,n){return t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n),n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n};const o=new i;i.lerp=function(e,n,r,a){return t.Check.typeOf.object("start",e),t.Check.typeOf.object("end",n),t.Check.typeOf.number("t",r),t.Check.typeOf.object("result",a),i.multiplyByScalar(n,r,o),a=i.multiplyByScalar(e,1-r,a),i.add(o,a,a)};const c=new i,u=new i;i.angleBetween=function(e,n){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),i.normalize(e,c),i.normalize(n,u);const r=i.dot(c,u),a=i.magnitude(i.cross(c,u,c));return Math.atan2(a,r)};const s=new i;i.mostOrthogonalAxis=function(e,n){t.Check.typeOf.object("cartesian",e),t.Check.typeOf.object("result",n);const r=i.normalize(e,s);return i.abs(r,r),r.x<=r.y?r.x<=r.z?i.clone(i.UNIT_X,n):i.clone(i.UNIT_Z,n):r.y<=r.z?i.clone(i.UNIT_Y,n):i.clone(i.UNIT_Z,n)},i.projectVector=function(e,n,r){t.Check.defined("a",e),t.Check.defined("b",n),t.Check.defined("result",r);const a=i.dot(e,n)/i.dot(n,n);return i.multiplyByScalar(n,a,r)},i.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},i.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},i.equalsEpsilon=function(e,t,i,a){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,i,a)&&r.CesiumMath.equalsEpsilon(e.y,t.y,i,a)&&r.CesiumMath.equalsEpsilon(e.z,t.z,i,a)},i.cross=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);const i=e.x,a=e.y,o=e.z,c=n.x,u=n.y,s=n.z,f=a*s-o*u,h=o*c-i*s,l=i*u-a*c;return r.x=f,r.y=h,r.z=l,r},i.midpoint=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r.x=.5*(e.x+n.x),r.y=.5*(e.y+n.y),r.z=.5*(e.z+n.z),r},i.fromDegrees=function(e,n,a,o,c){return t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",n),e=r.CesiumMath.toRadians(e),n=r.CesiumMath.toRadians(n),i.fromRadians(e,n,a,o,c)};let f=new i,h=new i;const l=new i(40680631590769,40680631590769,40408299984661.445);i.fromRadians=function(e,r,a,o,c){t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",r),a=n.defaultValue(a,0);const u=n.defined(o)?o.radiiSquared:l,s=Math.cos(r);f.x=s*Math.cos(e),f.y=s*Math.sin(e),f.z=Math.sin(r),f=i.normalize(f,f),i.multiplyComponents(u,f,h);const d=Math.sqrt(i.dot(f,h));return h=i.divideByScalar(h,d,h),f=i.multiplyByScalar(f,a,f),n.defined(c)||(c=new i),i.add(h,f,c)},i.fromDegreesArray=function(e,r,a){if(t.Check.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");const o=e.length;n.defined(a)?a.length=o/2:a=new Array(o/2);for(let t=0;t<o;t+=2){const n=e[t],o=e[t+1],c=t/2;a[c]=i.fromDegrees(n,o,0,r,a[c])}return a},i.fromRadiansArray=function(e,r,a){if(t.Check.defined("coordinates",e),e.length<2||e.length%2!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");const o=e.length;n.defined(a)?a.length=o/2:a=new Array(o/2);for(let t=0;t<o;t+=2){const n=e[t],o=e[t+1],c=t/2;a[c]=i.fromRadians(n,o,0,r,a[c])}return a},i.fromDegreesArrayHeights=function(e,r,a){if(t.Check.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");const o=e.length;n.defined(a)?a.length=o/3:a=new Array(o/3);for(let t=0;t<o;t+=3){const n=e[t],o=e[t+1],c=e[t+2],u=t/3;a[u]=i.fromDegrees(n,o,c,r,a[u])}return a},i.fromRadiansArrayHeights=function(e,r,a){if(t.Check.defined("coordinates",e),e.length<3||e.length%3!=0)throw new t.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");const o=e.length;n.defined(a)?a.length=o/3:a=new Array(o/3);for(let t=0;t<o;t+=3){const n=e[t],o=e[t+1],c=e[t+2],u=t/3;a[u]=i.fromRadians(n,o,c,r,a[u])}return a},i.ZERO=Object.freeze(new i(0,0,0)),i.ONE=Object.freeze(new i(1,1,1)),i.UNIT_X=Object.freeze(new i(1,0,0)),i.UNIT_Y=Object.freeze(new i(0,1,0)),i.UNIT_Z=Object.freeze(new i(0,0,1)),i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.equalsEpsilon=function(e,t,n){return i.equalsEpsilon(this,e,t,n)},i.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};const d=new i,y=new i;function p(e,a,o,c,u){if(!n.defined(e))throw new t.DeveloperError("cartesian is required.");if(!n.defined(a))throw new t.DeveloperError("oneOverRadii is required.");if(!n.defined(o))throw new t.DeveloperError("oneOverRadiiSquared is required.");if(!n.defined(c))throw new t.DeveloperError("centerToleranceSquared is required.");const s=e.x,f=e.y,h=e.z,l=a.x,p=a.y,m=a.z,C=s*s*l*l,O=f*f*p*p,b=h*h*m*m,k=C+O+b,g=Math.sqrt(1/k),x=i.multiplyByScalar(e,g,d);if(k<c)return isFinite(g)?i.clone(x,u):void 0;const z=o.x,j=o.y,w=o.z,M=y;M.x=x.x*z*2,M.y=x.y*j*2,M.z=x.z*w*2;let q,S,E,R,_,v,T,N,A,I,V,D=(1-g)*i.magnitude(e)/(.5*i.magnitude(M)),U=0;do{D-=U,E=1/(1+D*z),R=1/(1+D*j),_=1/(1+D*w),v=E*E,T=R*R,N=_*_,A=v*E,I=T*R,V=N*_,q=C*v+O*T+b*N-1,S=C*A*z+O*I*j+b*V*w,U=q/(-2*S)}while(Math.abs(q)>r.CesiumMath.EPSILON12);return n.defined(u)?(u.x=s*E,u.y=f*R,u.z=h*_,u):new i(s*E,f*R,h*_)}function m(e,t,r){this.longitude=n.defaultValue(e,0),this.latitude=n.defaultValue(t,0),this.height=n.defaultValue(r,0)}m.fromRadians=function(e,r,i,a){return t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",r),i=n.defaultValue(i,0),n.defined(a)?(a.longitude=e,a.latitude=r,a.height=i,a):new m(e,r,i)},m.fromDegrees=function(e,n,i,a){return t.Check.typeOf.number("longitude",e),t.Check.typeOf.number("latitude",n),e=r.CesiumMath.toRadians(e),n=r.CesiumMath.toRadians(n),m.fromRadians(e,n,i,a)};const C=new i,O=new i,b=new i,k=new i(1/6378137,1/6378137,1/6356752.314245179),g=new i(1/40680631590769,1/40680631590769,1/40408299984661.445),x=r.CesiumMath.EPSILON1;function z(e,a,o,c){a=n.defaultValue(a,0),o=n.defaultValue(o,0),c=n.defaultValue(c,0),t.Check.typeOf.number.greaterThanOrEquals("x",a,0),t.Check.typeOf.number.greaterThanOrEquals("y",o,0),t.Check.typeOf.number.greaterThanOrEquals("z",c,0),e._radii=new i(a,o,c),e._radiiSquared=new i(a*a,o*o,c*c),e._radiiToTheFourth=new i(a*a*a*a,o*o*o*o,c*c*c*c),e._oneOverRadii=new i(0===a?0:1/a,0===o?0:1/o,0===c?0:1/c),e._oneOverRadiiSquared=new i(0===a?0:1/(a*a),0===o?0:1/(o*o),0===c?0:1/(c*c)),e._minimumRadius=Math.min(a,o,c),e._maximumRadius=Math.max(a,o,c),e._centerToleranceSquared=r.CesiumMath.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function j(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,z(this,e,t,n)}m.fromCartesian=function(e,t,a){const o=n.defined(t)?t.oneOverRadii:k,c=n.defined(t)?t.oneOverRadiiSquared:g,u=p(e,o,c,n.defined(t)?t._centerToleranceSquared:x,O);if(!n.defined(u))return;let s=i.multiplyComponents(u,c,C);s=i.normalize(s,s);const f=i.subtract(e,u,b),h=Math.atan2(s.y,s.x),l=Math.asin(s.z),d=r.CesiumMath.sign(i.dot(f,e))*i.magnitude(f);return n.defined(a)?(a.longitude=h,a.latitude=l,a.height=d,a):new m(h,l,d)},m.toCartesian=function(e,n,r){return t.Check.defined("cartographic",e),i.fromRadians(e.longitude,e.latitude,e.height,n,r)},m.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new m(e.longitude,e.latitude,e.height)},m.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},m.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e.longitude-t.longitude)<=r&&Math.abs(e.latitude-t.latitude)<=r&&Math.abs(e.height-t.height)<=r},m.ZERO=Object.freeze(new m(0,0,0)),m.prototype.clone=function(e){return m.clone(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.equalsEpsilon=function(e,t){return m.equalsEpsilon(this,e,t)},m.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`},Object.defineProperties(j.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),j.clone=function(e,t){if(!n.defined(e))return;const r=e._radii;return n.defined(t)?(i.clone(r,t._radii),i.clone(e._radiiSquared,t._radiiSquared),i.clone(e._radiiToTheFourth,t._radiiToTheFourth),i.clone(e._oneOverRadii,t._oneOverRadii),i.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new j(r.x,r.y,r.z)},j.fromCartesian3=function(e,t){return n.defined(t)||(t=new j),n.defined(e)?(z(t,e.x,e.y,e.z),t):t},j.WGS84=Object.freeze(new j(6378137,6378137,6356752.314245179)),j.UNIT_SPHERE=Object.freeze(new j(1,1,1)),j.MOON=Object.freeze(new j(r.CesiumMath.LUNAR_RADIUS,r.CesiumMath.LUNAR_RADIUS,r.CesiumMath.LUNAR_RADIUS)),j.prototype.clone=function(e){return j.clone(this,e)},j.packedLength=i.packedLength,j.pack=function(e,r,a){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),a=n.defaultValue(a,0),i.pack(e._radii,r,a),r},j.unpack=function(e,r,a){t.Check.defined("array",e),r=n.defaultValue(r,0);const o=i.unpack(e,r);return j.fromCartesian3(o,a)},j.prototype.geocentricSurfaceNormal=i.normalize,j.prototype.geodeticSurfaceNormalCartographic=function(e,r){t.Check.typeOf.object("cartographic",e);const a=e.longitude,o=e.latitude,c=Math.cos(o),u=c*Math.cos(a),s=c*Math.sin(a),f=Math.sin(o);return n.defined(r)||(r=new i),r.x=u,r.y=s,r.z=f,i.normalize(r,r)},j.prototype.geodeticSurfaceNormal=function(e,t){if(!i.equalsEpsilon(e,i.ZERO,r.CesiumMath.EPSILON14))return n.defined(t)||(t=new i),t=i.multiplyComponents(e,this._oneOverRadiiSquared,t),i.normalize(t,t)};const w=new i,M=new i;j.prototype.cartographicToCartesian=function(e,t){const r=w,a=M;this.geodeticSurfaceNormalCartographic(e,r),i.multiplyComponents(this._radiiSquared,r,a);const o=Math.sqrt(i.dot(r,a));return i.divideByScalar(a,o,a),i.multiplyByScalar(r,e.height,r),n.defined(t)||(t=new i),i.add(a,r,t)},j.prototype.cartographicArrayToCartesianArray=function(e,r){t.Check.defined("cartographics",e);const i=e.length;n.defined(r)?r.length=i:r=new Array(i);for(let t=0;t<i;t++)r[t]=this.cartographicToCartesian(e[t],r[t]);return r};const q=new i,S=new i,E=new i;j.prototype.cartesianToCartographic=function(e,t){const a=this.scaleToGeodeticSurface(e,S);if(!n.defined(a))return;const o=this.geodeticSurfaceNormal(a,q),c=i.subtract(e,a,E),u=Math.atan2(o.y,o.x),s=Math.asin(o.z),f=r.CesiumMath.sign(i.dot(c,e))*i.magnitude(c);return n.defined(t)?(t.longitude=u,t.latitude=s,t.height=f,t):new m(u,s,f)},j.prototype.cartesianArrayToCartographicArray=function(e,r){t.Check.defined("cartesians",e);const i=e.length;n.defined(r)?r.length=i:r=new Array(i);for(let t=0;t<i;++t)r[t]=this.cartesianToCartographic(e[t],r[t]);return r},j.prototype.scaleToGeodeticSurface=function(e,t){return p(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},j.prototype.scaleToGeocentricSurface=function(e,r){t.Check.typeOf.object("cartesian",e),n.defined(r)||(r=new i);const a=e.x,o=e.y,c=e.z,u=this._oneOverRadiiSquared,s=1/Math.sqrt(a*a*u.x+o*o*u.y+c*c*u.z);return i.multiplyByScalar(e,s,r)},j.prototype.transformPositionToScaledSpace=function(e,t){return n.defined(t)||(t=new i),i.multiplyComponents(e,this._oneOverRadii,t)},j.prototype.transformPositionFromScaledSpace=function(e,t){return n.defined(t)||(t=new i),i.multiplyComponents(e,this._radii,t)},j.prototype.equals=function(e){return this===e||n.defined(e)&&i.equals(this._radii,e._radii)},j.prototype.toString=function(){return this._radii.toString()},j.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,a,o){if(t.Check.typeOf.object("position",e),!r.CesiumMath.equalsEpsilon(this._radii.x,this._radii.y,r.CesiumMath.EPSILON15))throw new t.DeveloperError("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");t.Check.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),a=n.defaultValue(a,0);const c=this._squaredXOverSquaredZ;if(n.defined(o)||(o=new i),o.x=0,o.y=0,o.z=e.z*(1-c),!(Math.abs(o.z)>=this._radii.z-a))return o};const R=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],_=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function v(e,n,r){t.Check.typeOf.number("a",e),t.Check.typeOf.number("b",n),t.Check.typeOf.func("func",r);const i=.5*(n+e),a=.5*(n-e);let o=0;for(let e=0;e<5;e++){const t=a*R[e];o+=_[e]*(r(i+t)+r(i-t))}return o*=a,o}function T(e,t,r,i,a,o,c,u,s){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(i,0),this[2]=n.defaultValue(c,0),this[3]=n.defaultValue(t,0),this[4]=n.defaultValue(a,0),this[5]=n.defaultValue(u,0),this[6]=n.defaultValue(r,0),this[7]=n.defaultValue(o,0),this[8]=n.defaultValue(s,0)}j.prototype.surfaceArea=function(e){t.Check.typeOf.object("rectangle",e);const n=e.west;let i=e.east;const a=e.south,o=e.north;for(;i<n;)i+=r.CesiumMath.TWO_PI;const c=this._radiiSquared,u=c.x,s=c.y,f=c.z,h=u*s;return v(a,o,(function(e){const t=Math.cos(e),r=Math.sin(e);return Math.cos(e)*v(n,i,(function(e){const n=Math.cos(e),i=Math.sin(e);return Math.sqrt(h*r*r+f*(s*n*n+u*i*i)*t*t)}))}))},T.packedLength=9,T.pack=function(e,r,i){return t.Check.typeOf.object("value",e),t.Check.defined("array",r),i=n.defaultValue(i,0),r[i++]=e[0],r[i++]=e[1],r[i++]=e[2],r[i++]=e[3],r[i++]=e[4],r[i++]=e[5],r[i++]=e[6],r[i++]=e[7],r[i++]=e[8],r},T.unpack=function(e,r,i){return t.Check.defined("array",e),r=n.defaultValue(r,0),n.defined(i)||(i=new T),i[0]=e[r++],i[1]=e[r++],i[2]=e[r++],i[3]=e[r++],i[4]=e[r++],i[5]=e[r++],i[6]=e[r++],i[7]=e[r++],i[8]=e[r++],i},T.packArray=function(e,r){t.Check.defined("array",e);const i=e.length,a=9*i;if(n.defined(r)){if(!Array.isArray(r)&&r.length!==a)throw new t.DeveloperError("If result is a typed array, it must have exactly array.length * 9 elements");r.length!==a&&(r.length=a)}else r=new Array(a);for(let t=0;t<i;++t)T.pack(e[t],r,9*t);return r},T.unpackArray=function(e,r){if(t.Check.defined("array",e),t.Check.typeOf.number.greaterThanOrEquals("array.length",e.length,9),e.length%9!=0)throw new t.DeveloperError("array length must be a multiple of 9.");const i=e.length;n.defined(r)?r.length=i/9:r=new Array(i/9);for(let t=0;t<i;t+=9){const n=t/9;r[n]=T.unpack(e,t,r[n])}return r},T.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new T(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},T.fromArray=T.unpack,T.fromColumnMajorArray=function(e,n){return t.Check.defined("values",e),T.clone(e,n)},T.fromRowMajorArray=function(e,r){return t.Check.defined("values",e),n.defined(r)?(r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8],r):new T(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},T.fromQuaternion=function(e,r){t.Check.typeOf.object("quaternion",e);const i=e.x*e.x,a=e.x*e.y,o=e.x*e.z,c=e.x*e.w,u=e.y*e.y,s=e.y*e.z,f=e.y*e.w,h=e.z*e.z,l=e.z*e.w,d=e.w*e.w,y=i-u-h+d,p=2*(a-l),m=2*(o+f),C=2*(a+l),O=-i+u-h+d,b=2*(s-c),k=2*(o-f),g=2*(s+c),x=-i-u+h+d;return n.defined(r)?(r[0]=y,r[1]=C,r[2]=k,r[3]=p,r[4]=O,r[5]=g,r[6]=m,r[7]=b,r[8]=x,r):new T(y,p,m,C,O,b,k,g,x)},T.fromHeadingPitchRoll=function(e,r){t.Check.typeOf.object("headingPitchRoll",e);const i=Math.cos(-e.pitch),a=Math.cos(-e.heading),o=Math.cos(e.roll),c=Math.sin(-e.pitch),u=Math.sin(-e.heading),s=Math.sin(e.roll),f=i*a,h=-o*u+s*c*a,l=s*u+o*c*a,d=i*u,y=o*a+s*c*u,p=-s*a+o*c*u,m=-c,C=s*i,O=o*i;return n.defined(r)?(r[0]=f,r[1]=d,r[2]=m,r[3]=h,r[4]=y,r[5]=C,r[6]=l,r[7]=p,r[8]=O,r):new T(f,h,l,d,y,p,m,C,O)},T.fromScale=function(e,r){return t.Check.typeOf.object("scale",e),n.defined(r)?(r[0]=e.x,r[1]=0,r[2]=0,r[3]=0,r[4]=e.y,r[5]=0,r[6]=0,r[7]=0,r[8]=e.z,r):new T(e.x,0,0,0,e.y,0,0,0,e.z)},T.fromUniformScale=function(e,r){return t.Check.typeOf.number("scale",e),n.defined(r)?(r[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=e,r[5]=0,r[6]=0,r[7]=0,r[8]=e,r):new T(e,0,0,0,e,0,0,0,e)},T.fromCrossProduct=function(e,r){return t.Check.typeOf.object("vector",e),n.defined(r)?(r[0]=0,r[1]=e.z,r[2]=-e.y,r[3]=-e.z,r[4]=0,r[5]=e.x,r[6]=e.y,r[7]=-e.x,r[8]=0,r):new T(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},T.fromRotationX=function(e,r){t.Check.typeOf.number("angle",e);const i=Math.cos(e),a=Math.sin(e);return n.defined(r)?(r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=i,r[5]=a,r[6]=0,r[7]=-a,r[8]=i,r):new T(1,0,0,0,i,-a,0,a,i)},T.fromRotationY=function(e,r){t.Check.typeOf.number("angle",e);const i=Math.cos(e),a=Math.sin(e);return n.defined(r)?(r[0]=i,r[1]=0,r[2]=-a,r[3]=0,r[4]=1,r[5]=0,r[6]=a,r[7]=0,r[8]=i,r):new T(i,0,a,0,1,0,-a,0,i)},T.fromRotationZ=function(e,r){t.Check.typeOf.number("angle",e);const i=Math.cos(e),a=Math.sin(e);return n.defined(r)?(r[0]=i,r[1]=a,r[2]=0,r[3]=-a,r[4]=i,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r):new T(i,-a,0,a,i,0,0,0,1)},T.toArray=function(e,r){return t.Check.typeOf.object("matrix",e),n.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},T.getElementIndex=function(e,n){return t.Check.typeOf.number.greaterThanOrEquals("row",n,0),t.Check.typeOf.number.lessThanOrEquals("row",n,2),t.Check.typeOf.number.greaterThanOrEquals("column",e,0),t.Check.typeOf.number.lessThanOrEquals("column",e,2),3*e+n},T.getColumn=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("result",r);const i=3*n,a=e[i],o=e[i+1],c=e[i+2];return r.x=a,r.y=o,r.z=c,r},T.setColumn=function(e,n,r,i){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",i);const a=3*n;return(i=T.clone(e,i))[a]=r.x,i[a+1]=r.y,i[a+2]=r.z,i},T.getRow=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("result",r);const i=e[n],a=e[n+3],o=e[n+6];return r.x=i,r.y=a,r.z=o,r},T.setRow=function(e,n,r,i){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number.greaterThanOrEquals("index",n,0),t.Check.typeOf.number.lessThanOrEquals("index",n,2),t.Check.typeOf.object("cartesian",r),t.Check.typeOf.object("result",i),(i=T.clone(e,i))[n]=r.x,i[n+3]=r.y,i[n+6]=r.z,i};const N=new i;T.setScale=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("scale",n),t.Check.typeOf.object("result",r);const i=T.getScale(e,N),a=n.x/i.x,o=n.y/i.y,c=n.z/i.z;return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*o,r[4]=e[4]*o,r[5]=e[5]*o,r[6]=e[6]*c,r[7]=e[7]*c,r[8]=e[8]*c,r};const A=new i;T.setUniformScale=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scale",n),t.Check.typeOf.object("result",r);const i=T.getScale(e,A),a=n/i.x,o=n/i.y,c=n/i.z;return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*o,r[4]=e[4]*o,r[5]=e[5]*o,r[6]=e[6]*c,r[7]=e[7]*c,r[8]=e[8]*c,r};const I=new i;T.getScale=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n.x=i.magnitude(i.fromElements(e[0],e[1],e[2],I)),n.y=i.magnitude(i.fromElements(e[3],e[4],e[5],I)),n.z=i.magnitude(i.fromElements(e[6],e[7],e[8],I)),n};const V=new i;T.getMaximumScale=function(e){return T.getScale(e,V),i.maximumComponent(V)};const D=new i;T.setRotation=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",r);const i=T.getScale(e,D);return r[0]=n[0]*i.x,r[1]=n[1]*i.x,r[2]=n[2]*i.x,r[3]=n[3]*i.y,r[4]=n[4]*i.y,r[5]=n[5]*i.y,r[6]=n[6]*i.z,r[7]=n[7]*i.z,r[8]=n[8]*i.z,r};const U=new i;T.getRotation=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);const r=T.getScale(e,U);return n[0]=e[0]/r.x,n[1]=e[1]/r.x,n[2]=e[2]/r.x,n[3]=e[3]/r.y,n[4]=e[4]/r.y,n[5]=e[5]/r.y,n[6]=e[6]/r.z,n[7]=e[7]/r.z,n[8]=e[8]/r.z,n},T.multiply=function(e,n,r){t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r);const i=e[0]*n[0]+e[3]*n[1]+e[6]*n[2],a=e[1]*n[0]+e[4]*n[1]+e[7]*n[2],o=e[2]*n[0]+e[5]*n[1]+e[8]*n[2],c=e[0]*n[3]+e[3]*n[4]+e[6]*n[5],u=e[1]*n[3]+e[4]*n[4]+e[7]*n[5],s=e[2]*n[3]+e[5]*n[4]+e[8]*n[5],f=e[0]*n[6]+e[3]*n[7]+e[6]*n[8],h=e[1]*n[6]+e[4]*n[7]+e[7]*n[8],l=e[2]*n[6]+e[5]*n[7]+e[8]*n[8];return r[0]=i,r[1]=a,r[2]=o,r[3]=c,r[4]=u,r[5]=s,r[6]=f,r[7]=h,r[8]=l,r},T.add=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]+n[0],r[1]=e[1]+n[1],r[2]=e[2]+n[2],r[3]=e[3]+n[3],r[4]=e[4]+n[4],r[5]=e[5]+n[5],r[6]=e[6]+n[6],r[7]=e[7]+n[7],r[8]=e[8]+n[8],r},T.subtract=function(e,n,r){return t.Check.typeOf.object("left",e),t.Check.typeOf.object("right",n),t.Check.typeOf.object("result",r),r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],r[3]=e[3]-n[3],r[4]=e[4]-n[4],r[5]=e[5]-n[5],r[6]=e[6]-n[6],r[7]=e[7]-n[7],r[8]=e[8]-n[8],r},T.multiplyByVector=function(e,n,r){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("cartesian",n),t.Check.typeOf.object("result",r);const i=n.x,a=n.y,o=n.z,c=e[0]*i+e[3]*a+e[6]*o,u=e[1]*i+e[4]*a+e[7]*o,s=e[2]*i+e[5]*a+e[8]*o;return r.x=c,r.y=u,r.z=s,r},T.multiplyByScalar=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scalar",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*n,r},T.multiplyByScale=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("scale",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n.x,r[1]=e[1]*n.x,r[2]=e[2]*n.x,r[3]=e[3]*n.y,r[4]=e[4]*n.y,r[5]=e[5]*n.y,r[6]=e[6]*n.z,r[7]=e[7]*n.z,r[8]=e[8]*n.z,r},T.multiplyByUniformScale=function(e,n,r){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.number("scale",n),t.Check.typeOf.object("result",r),r[0]=e[0]*n,r[1]=e[1]*n,r[2]=e[2]*n,r[3]=e[3]*n,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*n,r},T.negate=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=-e[3],n[4]=-e[4],n[5]=-e[5],n[6]=-e[6],n[7]=-e[7],n[8]=-e[8],n},T.transpose=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);const r=e[0],i=e[3],a=e[6],o=e[1],c=e[4],u=e[7],s=e[2],f=e[5],h=e[8];return n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=c,n[5]=u,n[6]=s,n[7]=f,n[8]=h,n};const L=[1,0,0],B=[2,2,1];function P(e){let t=0;for(let n=0;n<3;++n){const r=e[T.getElementIndex(B[n],L[n])];t+=2*r*r}return Math.sqrt(t)}function $(e,t){const n=r.CesiumMath.EPSILON15;let i=0,a=1;for(let t=0;t<3;++t){const n=Math.abs(e[T.getElementIndex(B[t],L[t])]);n>i&&(a=t,i=n)}let o=1,c=0;const u=L[a],s=B[a];if(Math.abs(e[T.getElementIndex(s,u)])>n){const t=(e[T.getElementIndex(s,s)]-e[T.getElementIndex(u,u)])/2/e[T.getElementIndex(s,u)];let n;n=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),o=1/Math.sqrt(1+n*n),c=n*o}return(t=T.clone(T.IDENTITY,t))[T.getElementIndex(u,u)]=t[T.getElementIndex(s,s)]=o,t[T.getElementIndex(s,u)]=c,t[T.getElementIndex(u,s)]=-c,t}const W=new T,Z=new T;T.computeEigenDecomposition=function(e,i){t.Check.typeOf.object("matrix",e);const a=r.CesiumMath.EPSILON20;let o=0,c=0;n.defined(i)||(i={});const u=i.unitary=T.clone(T.IDENTITY,i.unitary),s=i.diagonal=T.clone(e,i.diagonal),f=a*function(e){let t=0;for(let n=0;n<9;++n){const r=e[n];t+=r*r}return Math.sqrt(t)}(s);for(;c<10&&P(s)>f;)$(s,W),T.transpose(W,Z),T.multiply(s,W,s),T.multiply(Z,s,s),T.multiply(u,W,u),++o>2&&(++c,o=0);return i},T.abs=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),n[0]=Math.abs(e[0]),n[1]=Math.abs(e[1]),n[2]=Math.abs(e[2]),n[3]=Math.abs(e[3]),n[4]=Math.abs(e[4]),n[5]=Math.abs(e[5]),n[6]=Math.abs(e[6]),n[7]=Math.abs(e[7]),n[8]=Math.abs(e[8]),n},T.determinant=function(e){t.Check.typeOf.object("matrix",e);const n=e[0],r=e[3],i=e[6],a=e[1],o=e[4],c=e[7],u=e[2],s=e[5],f=e[8];return n*(o*f-s*c)+a*(s*i-r*f)+u*(r*c-o*i)},T.inverse=function(e,n){t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n);const i=e[0],a=e[1],o=e[2],c=e[3],u=e[4],s=e[5],f=e[6],h=e[7],l=e[8],d=T.determinant(e);if(Math.abs(d)<=r.CesiumMath.EPSILON15)throw new t.DeveloperError("matrix is not invertible");n[0]=u*l-h*s,n[1]=h*o-a*l,n[2]=a*s-u*o,n[3]=f*s-c*l,n[4]=i*l-f*o,n[5]=c*o-i*s,n[6]=c*h-f*u,n[7]=f*a-i*h,n[8]=i*u-c*a;const y=1/d;return T.multiplyByScalar(n,y,n)};const F=new T;T.inverseTranspose=function(e,n){return t.Check.typeOf.object("matrix",e),t.Check.typeOf.object("result",n),T.inverse(T.transpose(e,F),n)},T.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},T.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r},T.IDENTITY=Object.freeze(new T(1,0,0,0,1,0,0,0,1)),T.ZERO=Object.freeze(new T(0,0,0,0,0,0,0,0,0)),T.COLUMN0ROW0=0,T.COLUMN0ROW1=1,T.COLUMN0ROW2=2,T.COLUMN1ROW0=3,T.COLUMN1ROW1=4,T.COLUMN1ROW2=5,T.COLUMN2ROW0=6,T.COLUMN2ROW1=7,T.COLUMN2ROW2=8,Object.defineProperties(T.prototype,{length:{get:function(){return T.packedLength}}}),T.prototype.clone=function(e){return T.clone(this,e)},T.prototype.equals=function(e){return T.equals(this,e)},T.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},T.prototype.equalsEpsilon=function(e,t){return T.equalsEpsilon(this,e,t)},T.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})\n(${this[1]}, ${this[4]}, ${this[7]})\n(${this[2]}, ${this[5]}, ${this[8]})`},e.Cartesian3=i,e.Cartographic=m,e.Ellipsoid=j,e.Matrix3=T}));