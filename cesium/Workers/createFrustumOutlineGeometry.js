/*! For license information please see createFrustumOutlineGeometry.js.LICENSE.txt */
import{FrustumGeometry_default,OrthographicFrustum_default,PerspectiveFrustum_default}from"./chunk-N7TYCDTR.js";import"./chunk-ZTYE74E2.js";import"./chunk-4EYB62WJ.js";import{GeometryAttributes_default}from"./chunk-SJDXMQSP.js";import{GeometryAttribute_default,Geometry_default,PrimitiveType_default}from"./chunk-OTBRPBCC.js";import{BoundingSphere_default,Quaternion_default}from"./chunk-D4YHO4NZ.js";import"./chunk-HSW63JN4.js";import"./chunk-RSWBNJPT.js";import{ComponentDatatype_default}from"./chunk-Z6LPXA7S.js";import{Cartesian3_default}from"./chunk-PHQVHDVI.js";import"./chunk-IZED7ODV.js";import"./chunk-VNRUVNIK.js";import"./chunk-66CXKODF.js";import{defaultValue_default}from"./chunk-C53JYYKX.js";import{Check_default}from"./chunk-7FEGZO3D.js";import{defined_default}from"./chunk-YS4KPNLC.js";var PERSPECTIVE=0,ORTHOGRAPHIC=1;function FrustumOutlineGeometry(e){Check_default.typeOf.object("options",e),Check_default.typeOf.object("options.frustum",e.frustum),Check_default.typeOf.object("options.origin",e.origin),Check_default.typeOf.object("options.orientation",e.orientation);const t=e.frustum,u=e.orientation,r=e.origin,a=defaultValue_default(e._drawNearPlane,!0);let n,i;t instanceof PerspectiveFrustum_default?(n=PERSPECTIVE,i=PerspectiveFrustum_default.packedLength):t instanceof OrthographicFrustum_default&&(n=ORTHOGRAPHIC,i=OrthographicFrustum_default.packedLength),this._frustumType=n,this._frustum=t.clone(),this._origin=Cartesian3_default.clone(r),this._orientation=Quaternion_default.clone(u),this._drawNearPlane=a,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+i+Cartesian3_default.packedLength+Quaternion_default.packedLength}FrustumOutlineGeometry.pack=function(e,t,u){Check_default.typeOf.object("value",e),Check_default.defined("array",t),u=defaultValue_default(u,0);const r=e._frustumType,a=e._frustum;return t[u++]=r,r===PERSPECTIVE?(PerspectiveFrustum_default.pack(a,t,u),u+=PerspectiveFrustum_default.packedLength):(OrthographicFrustum_default.pack(a,t,u),u+=OrthographicFrustum_default.packedLength),Cartesian3_default.pack(e._origin,t,u),u+=Cartesian3_default.packedLength,Quaternion_default.pack(e._orientation,t,u),t[u+=Quaternion_default.packedLength]=e._drawNearPlane?1:0,t};var scratchPackPerspective=new PerspectiveFrustum_default,scratchPackOrthographic=new OrthographicFrustum_default,scratchPackQuaternion=new Quaternion_default,scratchPackorigin=new Cartesian3_default;FrustumOutlineGeometry.unpack=function(e,t,u){Check_default.defined("array",e),t=defaultValue_default(t,0);const r=e[t++];let a;r===PERSPECTIVE?(a=PerspectiveFrustum_default.unpack(e,t,scratchPackPerspective),t+=PerspectiveFrustum_default.packedLength):(a=OrthographicFrustum_default.unpack(e,t,scratchPackOrthographic),t+=OrthographicFrustum_default.packedLength);const n=Cartesian3_default.unpack(e,t,scratchPackorigin);t+=Cartesian3_default.packedLength;const i=Quaternion_default.unpack(e,t,scratchPackQuaternion),o=1===e[t+=Quaternion_default.packedLength];if(!defined_default(u))return new FrustumOutlineGeometry({frustum:a,origin:n,orientation:i,_drawNearPlane:o});const c=r===u._frustumType?u._frustum:void 0;return u._frustum=a.clone(c),u._frustumType=r,u._origin=Cartesian3_default.clone(n,u._origin),u._orientation=Quaternion_default.clone(i,u._orientation),u._drawNearPlane=o,u},FrustumOutlineGeometry.createGeometry=function(e){const t=e._frustumType,u=e._frustum,r=e._origin,a=e._orientation,n=e._drawNearPlane,i=new Float64Array(24);FrustumGeometry_default._computeNearFarPlanes(r,a,t,u,i);const o=new GeometryAttributes_default({position:new GeometryAttribute_default({componentDatatype:ComponentDatatype_default.DOUBLE,componentsPerAttribute:3,values:i})});let c,s;const f=n?2:1,l=new Uint16Array(8*(f+1));let d=n?0:1;for(;d<2;++d)c=n?8*d:0,s=4*d,l[c]=s,l[c+1]=s+1,l[c+2]=s+1,l[c+3]=s+2,l[c+4]=s+2,l[c+5]=s+3,l[c+6]=s+3,l[c+7]=s;for(d=0;d<2;++d)c=8*(f+d),s=4*d,l[c]=s,l[c+1]=s+4,l[c+2]=s+1,l[c+3]=s+5,l[c+4]=s+2,l[c+5]=s+6,l[c+6]=s+3,l[c+7]=s+7;return new Geometry_default({attributes:o,indices:l,primitiveType:PrimitiveType_default.LINES,boundingSphere:BoundingSphere_default.fromVertices(i)})};var FrustumOutlineGeometry_default=FrustumOutlineGeometry;function createFrustumOutlineGeometry(e,t){return defined_default(t)&&(e=FrustumOutlineGeometry_default.unpack(e,t)),FrustumOutlineGeometry_default.createGeometry(e)}var createFrustumOutlineGeometry_default=createFrustumOutlineGeometry;export{createFrustumOutlineGeometry_default as default};