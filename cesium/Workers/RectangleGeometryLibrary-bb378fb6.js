define(["exports","./Matrix3-41c58dde","./defaultValue-fe22d8c0","./Check-6ede7e26","./Transforms-e2d4a55a","./Math-0a2ac845","./Matrix2-e1298525"],(function(t,n,a,e,r,o,s){"use strict";const i=Math.cos,c=Math.sin,h=Math.sqrt,u={computePosition:function(t,n,e,r,o,s,u){const g=n.radiiSquared,l=t.nwCorner,C=t.boundingRectangle;let d=l.latitude-t.granYCos*r+o*t.granXSin;const M=i(d),S=c(d),w=g.z*S;let m=l.longitude+r*t.granYSin+o*t.granXCos;const X=M*i(m),Y=M*c(m),O=g.x*X,R=g.y*Y,f=h(O*X+R*Y+w*S);if(s.x=O/f,s.y=R/f,s.z=w/f,e){const n=t.stNwCorner;a.defined(n)?(d=n.latitude-t.stGranYCos*r+o*t.stGranXSin,m=n.longitude+r*t.stGranYSin+o*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(d-t.stSouth)*t.latScalar):(u.x=(m-C.west)*t.lonScalar,u.y=(d-C.south)*t.latScalar)}}},g=new s.Matrix2;let l=new n.Cartesian3;const C=new n.Cartographic;let d=new n.Cartesian3;const M=new r.GeographicProjection;function S(t,a,e,r,o,i,c){const h=Math.cos(a),u=r*h,C=e*h,S=Math.sin(a),w=r*S,m=e*S;l=M.project(t,l),l=n.Cartesian3.subtract(l,d,l);const X=s.Matrix2.fromRotation(a,g);l=s.Matrix2.multiplyByVector(X,l,l),l=n.Cartesian3.add(l,d,l),i-=1,c-=1;const Y=(t=M.unproject(l,t)).latitude,O=Y+i*m,R=Y-u*c,f=Y-u*c+i*m,p=Math.max(Y,O,R,f),_=Math.min(Y,O,R,f),x=t.longitude,G=x+i*C,P=x+c*w,W=x+c*w+i*C;return{north:p,south:_,east:Math.max(x,G,P,W),west:Math.min(x,G,P,W),granYCos:u,granYSin:w,granXCos:C,granXSin:m,nwCorner:t}}u.computeOptions=function(t,n,a,r,i,c,h){let u,g=t.east,l=t.west,w=t.north,m=t.south,X=!1,Y=!1;w===o.CesiumMath.PI_OVER_TWO&&(X=!0),m===-o.CesiumMath.PI_OVER_TWO&&(Y=!0);const O=w-m;u=l>g?o.CesiumMath.TWO_PI-l+g:g-l;const R=Math.ceil(u/n)+1,f=Math.ceil(O/n)+1,p=u/(R-1),_=O/(f-1),x=s.Rectangle.northwest(t,c),G=s.Rectangle.center(t,C);0===a&&0===r||(G.longitude<x.longitude&&(G.longitude+=o.CesiumMath.TWO_PI),d=M.project(G,d));const P=_,W=p,I=s.Rectangle.clone(t,i),T={granYCos:P,granYSin:0,granXCos:W,granXSin:0,nwCorner:x,boundingRectangle:I,width:R,height:f,northCap:X,southCap:Y};if(0!==a){const t=S(x,a,p,_,0,R,f);if(w=t.north,m=t.south,g=t.east,l=t.west,w<-o.CesiumMath.PI_OVER_TWO||w>o.CesiumMath.PI_OVER_TWO||m<-o.CesiumMath.PI_OVER_TWO||m>o.CesiumMath.PI_OVER_TWO)throw new e.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");T.granYCos=t.granYCos,T.granYSin=t.granYSin,T.granXCos=t.granXCos,T.granXSin=t.granXSin,I.north=w,I.south=m,I.east=g,I.west=l}if(0!==r){a-=r;const t=s.Rectangle.northwest(I,h),n=S(t,a,p,_,0,R,f);T.stGranYCos=n.granYCos,T.stGranXCos=n.granXCos,T.stGranYSin=n.granYSin,T.stGranXSin=n.granXSin,T.stNwCorner=t,T.stWest=n.west,T.stSouth=n.south}return T};var w=u;t.RectangleGeometryLibrary=w}));